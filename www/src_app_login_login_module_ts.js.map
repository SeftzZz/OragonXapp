{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/login/login.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController, LoadingController } from '@ionic/angular';\n\n// Services\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  credentials : FormGroup;\n  credentialsregist : FormGroup;\n  credentialsreset : FormGroup;\n  localStorage : any;\n\n  constructor(\n    private fb: FormBuilder,\n    private loadingController: LoadingController,\n    private alertController: AlertController,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  // Easy access for form fields\n  get email() {\n    return this.credentials.get('email');\n  }\n\n  get emailreset() {\n    return this.credentials.get('emailreset');\n  }\n\n  get password() {\n    return this.credentials.get('password');\n  }\n\n  get username() {\n    return this.credentialsregist.get('username');\n  }\n\n  get wallet_address() {\n    return this.credentialsregist.get('wallet_address');\n  }\n\n  ngOnInit() {\n    this.credentials = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(8)]],\n    });\n\n    this.credentialsregist = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      username: ['', [Validators.required, Validators.minLength(3)]],\n      wallet_address: ['', [Validators.required]],\n      password: ['', [Validators.required, Validators.minLength(8)]],\n    });\n\n    this.credentialsreset = this.fb.group({\n      emailreset: ['', [Validators.required, Validators.email]]\n    });\n  }\n\n  async register() {\n\n    const user = await this.authService.register(this.credentialsregist.value);\n    this.showAlert('Register Success, Check your email address for activation!', 'Complete');\n    setTimeout(function() {\n      window.location.replace('/tabs/profile');\n    }, 5000);\n  }\n \n  async login() {\n    const loading = await this.loadingController.create();\n    await loading.present();\n \n    const user = await this.authService.login(this.credentials.value);\n\n    if (user) {\n      console.log(user.user.uid);\n      setTimeout(function() {\n       window.location.replace('/tabs/home');\n      }, 5000);\n      // this.router.navigateByUrl('/tabs/home/', { replaceUrl: true });\n    } else {\n      this.showAlert('Login failed', 'Please try again!');\n      loading.dismiss();\n    }\n  }\n\n  async resetpassword() {\n    const loading = await this.loadingController.create();\n    await loading.present();\n \n    const user = await this.authService.resetpassword(this.credentialsreset.value);\n    setTimeout(function() {\n     window.location.replace('/tabs/login');\n    }, 2000);\n    loading.dismiss();\n  }\n \n  async showAlert(header, message) {\n    const alert = await this.alertController.create({\n      header,\n      message,\n      buttons: ['OK'],\n    });\n    await alert.present();\n  }\n\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","LoginPage","routes","path","component","LoginPageRoutingModule","__decorate","imports","forChild","exports","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","LoginPageModule","declarations","Component","FormBuilder","Validators","Router","AlertController","LoadingController","AuthService","_class","constructor","fb","loadingController","alertController","authService","router","_defineProperty","email","credentials","get","emailreset","password","username","credentialsregist","wallet_address","ngOnInit","group","required","minLength","credentialsreset","register","_this","_asyncToGenerator","user","value","showAlert","setTimeout","window","location","replace","login","_this2","loading","create","present","console","log","uid","dismiss","resetpassword","_this3","header","message","_this4","alert","buttons","selector","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/login/login.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\n\r\n// Services\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n  credentials : FormGroup;\r\n  credentialsregist : FormGroup;\r\n  credentialsreset : FormGroup;\r\n  localStorage : any;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private loadingController: LoadingController,\r\n    private alertController: AlertController,\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  // Easy access for form fields\r\n  get email() {\r\n    return this.credentials.get('email');\r\n  }\r\n\r\n  get emailreset() {\r\n    return this.credentials.get('emailreset');\r\n  }\r\n\r\n  get password() {\r\n    return this.credentials.get('password');\r\n  }\r\n\r\n  get username() {\r\n    return this.credentialsregist.get('username');\r\n  }\r\n\r\n  get wallet_address() {\r\n    return this.credentialsregist.get('wallet_address');\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.credentials = this.fb.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', [Validators.required, Validators.minLength(8)]],\r\n    });\r\n\r\n    this.credentialsregist = this.fb.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      username: ['', [Validators.required, Validators.minLength(3)]],\r\n      wallet_address: ['', [Validators.required]],\r\n      password: ['', [Validators.required, Validators.minLength(8)]],\r\n    });\r\n\r\n    this.credentialsreset = this.fb.group({\r\n      emailreset: ['', [Validators.required, Validators.email]]\r\n    });\r\n  }\r\n\r\n  async register() {\r\n\r\n    const user = await this.authService.register(this.credentialsregist.value);\r\n    this.showAlert('Register Success, Check your email address for activation!', 'Complete');\r\n    setTimeout(function() {\r\n      window.location.replace('/tabs/profile');\r\n    }, 5000);\r\n  }\r\n \r\n  async login() {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n \r\n    const user = await this.authService.login(this.credentials.value);\r\n\r\n    if (user) {\r\n      console.log(user.user.uid);\r\n      setTimeout(function() {\r\n       window.location.replace('/tabs/home');\r\n      }, 5000);\r\n      // this.router.navigateByUrl('/tabs/home/', { replaceUrl: true });\r\n    } else {\r\n      this.showAlert('Login failed', 'Please try again!');\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  async resetpassword() {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n \r\n    const user = await this.authService.resetpassword(this.credentialsreset.value);\r\n    setTimeout(function() {\r\n     window.location.replace('/tabs/login');\r\n    }, 2000);\r\n    loading.dismiss();\r\n  }\r\n \r\n  async showAlert(header, message) {\r\n    const alert = await this.alertController.create({\r\n      header,\r\n      message,\r\n      buttons: ['OK'],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","LoginPage","routes","path","component","LoginPageRoutingModule","__decorate","imports","forChild","exports","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","LoginPageModule","declarations","Component","FormBuilder","Validators","Router","AlertController","LoadingController","AuthService","_class","constructor","fb","loadingController","alertController","authService","router","_defineProperty","email","credentials","get","emailreset","password","username","credentialsregist","wallet_address","ngOnInit","group","required","minLength","credentialsreset","register","_this","_asyncToGenerator","user","value","showAlert","setTimeout","window","location","replace","login","_this2","loading","create","present","console","log","uid","dismiss","resetpassword","_this3","header","message","_this4","alert","buttons","selector","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
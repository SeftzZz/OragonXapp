{"version":3,"file":"src_app_profile_profile_module_ts.js","mappings":"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A;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAAA;IAAAA,iIAA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ACC,oBAAoB,GAAGA,oBAAoB,CAAChQ,OAAO,CAAC,CAAC,CAAC;YAC3D,IAAI,CAACiQ,WAAW,GAAG,IAAI,CAACxF,WAAW,GAAG,IAAI,CAACsF,sBAAsB;YACjE,IAAI,CAACG,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI,IAAI,CAACH,sBAAsB;YAC1C,IAAI,CAACI,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI,IAAI,CAACD,uBAAuB;YAC3C,IAAI,CAACE,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI,IAAI,CAACD,uBAAuB;YAC3C,IAAI,CAACE,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI,IAAI,CAACD,uBAAuB;YAE3C,IAAIP,EAAE,IAAI,CAAC,EAAE;cACX,IAAI,CAACS,eAAe,GAAG,CAAC;cACxB;cACA;aACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;cAClB,IAAI,CAACS,eAAe,GAAG,CAAC;cACxB;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;aACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;cAClB,IAAI,CAACS,eAAe,GAAG,CAAC;cACxB;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;aACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;cAClB,IAAI,CAACS,eAAe,GAAG,CAAC;cACxB;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;aACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;cAClB,IAAI,CAACS,eAAe,GAAG,CAAC;cACxB;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;aACD,MAAM;cACL;YAAA;YAGF;YACA;YACA;YACA;YACA;UACF,CAAC,CAAC;;;QAGJ,IAAI,CAAC1T,QAAQ,CAAC2T,eAAe,CAAC7L,KAAK,CAAC,CAAC/E,SAAS,CAAE6Q,OAAO,IAAI;UACzD;QAAA,CACD,CAAC;MACJ,CAAC,EACAlQ,KAAU,IAAI,CAAE,CAAC,CACnB;KACF,MAAM,IAAI+J,IAAI,IAAI,MAAM,EAAE;MACzB,IAAI,CAACzN,QAAQ,CAACoI,iBAAiB,CAAC,IAAI,CAAC1D,QAAQ,CAAC,CAAC3B,SAAS,CACrD2D,QAAa,IAAI;QAChB,IAAI,CAACmN,cAAc,GAAG1P,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAC1C,IAAI,CAACoN,gBAAgB,GAAG,IAAI,CAACD,cAAc,CAAC/L,KAAK;QACjD,IAAI,CAACQ,mBAAmB,GAAG,IAAI,CAACuL,cAAc,CAACtL,UAAU;QACzD,IAAI,CAACwL,iBAAiB,GAAG,IAAI,CAACF,cAAc,CAACG,MAAM;QACnD,IAAI,CAACC,kBAAkB,GAAG,IAAI,CAACJ,cAAc,CAACvB,KAAK;QACnD,IAAI,CAAC4B,qBAAqB,GAAG,CAAC;QAC9B,IAAIA,qBAAqB,GACvB,IAAI,CAACtQ,WAAW,GAAG,IAAI,CAACsQ,qBAAqB;QAC/C,IAAI,CAACA,qBAAqB,GAAGA,qBAAqB,CAAC9Q,OAAO,CAAC,CAAC,CAAC;QAC7D;MACF,CAAC,EACAM,KAAU,IAAI,CAAE,CAAC,CACnB;;EAEL;EAEAgN,YAAYA,CAAC5I,KAAK;IAChB,IAAI2F,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACvC,IAAIwJ,IAAI,IAAI,KAAK,EAAE;MACjB,IAAI,CAACzN,QAAQ,CAACmU,cAAc,CAACrM,KAAK,CAAC,CAAC/E,SAAS,CAC1C+N,UAAe,IAAI;QAClB,IAAI,CAACsD,SAAS,GAAGjQ,IAAI,CAACC,KAAK,CAAC0M,UAAU,CAAC;QACvC,IAAI,CAACuD,iBAAiB,GAAG,IAAI,CAACD,SAAS,CAACtM,KAAK;QAC7C,IAAI,CAACwM,cAAc,GAAG,IAAI,CAACF,SAAS,CAAClM,MAAM;QAC3C,IAAI,CAACqM,eAAe,GAAG,IAAI,CAACH,SAAS,CAACnM,EAAE;QACxC,IAAI,CAACuM,iBAAiB,GAAG,IAAI,CAACJ,SAAS,CAAC9B,KAAK;QAC7C,IAAI,CAACtE,iBAAiB,GAAG,IAAI,CAACoG,SAAS,CAAClR,KAAK;QAC7C,IAAIuR,oBAAoB,GAAG,IAAI,CAACL,SAAS,CAAClR,KAAK,GAAG,IAAI,CAACU,WAAW;QAClE,IAAI,CAAC6Q,oBAAoB,GAAGA,oBAAoB,CAACrR,OAAO,CAAC,CAAC,CAAC;QAC3D;MACF,CAAC,EACAM,KAAU,IAAI,CAAE,CAAC,CACnB;;EAEL;EAEAkN,gBAAgBA,CAAC9I,KAAK;IACpB,IAAI2F,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACvC,IAAIwJ,IAAI,IAAI,SAAS,EAAE;MACrB,IAAI,CAACzN,QAAQ,CAAC0U,kBAAkB,CAAC5M,KAAK,CAAC,CAAC/E,SAAS,CAC9C+N,UAAe,IAAI;QAClB,IAAI,CAAC6D,aAAa,GAAGxQ,IAAI,CAACC,KAAK,CAAC0M,UAAU,CAAC;QAC3C,IAAI,CAAC8D,qBAAqB,GAAG,IAAI,CAACD,aAAa,CAAC7M,KAAK;QACrD,IAAI,CAAC+M,kBAAkB,GAAG,IAAI,CAACF,aAAa,CAACzM,MAAM;QACnD,IAAI,CAAC4M,mBAAmB,GAAG,IAAI,CAACH,aAAa,CAAC1M,EAAE;QAChD,IAAI,CAAC8M,qBAAqB,GAAG,IAAI,CAACJ,aAAa,CAACrC,KAAK;QACrD,IAAI,CAACnE,qBAAqB,GAAG,IAAI,CAACwG,aAAa,CAACzR,KAAK;QACrD,IAAI8R,wBAAwB,GAC1B,IAAI,CAACL,aAAa,CAACzR,KAAK,GAAG,IAAI,CAACU,WAAW;QAC7C,IAAI,CAACoR,wBAAwB,GAAGA,wBAAwB,CAAC5R,OAAO,CAAC,CAAC,CAAC;QACnE;MACF,CAAC,EACAM,KAAU,IAAI,CAAE,CAAC,CACnB;;EAEL;EAEAuR,iBAAiBA,CAAA;IACf,IAAI,CAACrV,EAAE,CACJgI,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAAC,IAAI,CAACnD,QAAQ,CAAC,CAClB4F,YAAY,EAAE,CACdvH,SAAS,CAAEwH,KAAU,IAAI;MACxB;MACA,IAAIA,KAAK,IAAIlG,SAAS,EAAE;QACtB,IAAI,CAACzE,EAAE,CAACgI,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,CAAC,IAAI,CAACnD,QAAQ,CAAC,CAACqD,GAAG,CAAC;UACjDsH,WAAW,EAAE,IAAI,CAACL,OAAO,EAAE;UAC3BkG,MAAM,EAAE,EAAE;UACVC,GAAG,EAAE,EAAE;UACPC,OAAO,EAAE,EAAE;UACXC,IAAI,EAAE;SACP,CAAC;;IAEN,CAAC,CAAC;EACN;EAEAC,YAAYA,CAAA,GAAI;EAEhB;EACAC,YAAYA,CAAA;IACV,IAAI,CAACvV,QAAQ,CAACuV,YAAY,CAAC,IAAI,CAAC7Q,QAAQ,CAAC,CAAC3B,SAAS,CAChDC,IAAS,IAAI;MACZ,IAAI,CAACwS,SAAS,GAAGrR,IAAI,CAACC,KAAK,CAACpB,IAAI,CAAC;MACjC,KAAK,IAAIjB,CAAC,IAAI,IAAI,CAACyT,SAAS,EAAE;QAC5B;QACA,IAAI,CAACC,SAAS,GAAG,IAAI,CAACD,SAAS,CAAC3O,MAAM;QACtC,IAAI,CAAC6O,OAAO,GAAG,IAAI,CAAChR,QAAQ;QAC5B,IAAI,CAACiR,KAAK,GAAG,IAAI,CAACH,SAAS;QAC3B,IAAI,CAACI,MAAM,GAAG,IAAI,CAACJ,SAAS,CAACzT,CAAC,CAAC,CAAC8T,OAAO;QACvC;QACA;QACA,IAAI,CAACC,SAAS,GAAG,IAAI,CAACN,SAAS,CAACzT,CAAC,CAAC,CAACgU,KAAK;QACxC,IAAI,CAACC,OAAO,GAAG,IAAI,CAACR,SAAS,CAACzT,CAAC,CAAC,CAACkU,QAAQ;QACzC,IAAIC,YAAY,GAAG,IAAI,CAACtS,WAAW,GAAG,IAAI,CAACkS,SAAS,GAAG,IAAI,CAACE,OAAO;QACnE,IAAI,CAACE,YAAY,GAAGA,YAAY,CAAC9S,OAAO,CAAC,CAAC,CAAC;QAC3C,IAAI,CAAC+S,OAAO,GAAG,IAAI,CAACX,SAAS,CAACzT,CAAC,CAAC,CAACqU,MAAM;;IAE3C,CAAC,EACA1S,KAAU,IAAI,CAAE,CAAC,CACnB;EACH;EAEAkC,cAAcA,CAAA;IAAA,IAAAyQ,MAAA;IACZ,IAAI,CAACzW,EAAE,CAACgI,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAClD,QAAQ,GAAG,UAAU,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;MAAA,IAAAuT,KAAA,GAAAxV,mIAAA,CAAC,WAAOyV,aAAiB,EAAI;QAC7G;QACA,KAAI,IAAIxU,CAAC,IAAIwU,aAAa,EAAE;UAC1B;UACA,IAAGA,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,IAAInS,SAAS,EAAE;YAC3CgS,MAAI,CAACrW,QAAQ,CAACyW,iBAAiB,CAC7BJ,MAAI,CAAC3R,QAAQ,EACb6R,aAAa,CAACxU,CAAC,CAAC,CAACkG,EAAE,EACnBsO,aAAa,CAACxU,CAAC,CAAC,CAACmG,MAAM,EACvBqO,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAACE,WAAW,EACvCH,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAACG,YAAY,EACxCJ,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAACpE,GAAG,EAC/BmE,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAAC9E,EAAE,EAC9B6E,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAAC5E,MAAM,EAClC2E,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAAChF,KAAK,EACjC+E,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAAC1E,KAAK,EACjCyE,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAACxE,SAAS,CACpC,CAACjP,SAAS,CAAE6T,IAAQ,IAAI;cACzB;cACA,IAAIC,KAAK,GAAG1S,IAAI,CAACC,KAAK,CAACwS,IAAI,CAAC;cAC5B,IAAGC,KAAK,CAACC,MAAM,IAAI,IAAI,EAAE;gBACvBT,MAAI,CAACrW,QAAQ,CAAC+W,qBAAqB,CACjCV,MAAI,CAAC3R,QAAQ,EACb6R,aAAa,CAACxU,CAAC,CAAC,CAACkG,EAAE,EACnBsO,aAAa,CAACxU,CAAC,CAAC,CAACmG,MAAM,EACvBqO,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAACE,WAAW,EACvCH,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAACG,YAAY,EACxCJ,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAACpE,GAAG,EAC/BmE,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAAC9E,EAAE,EAC9B6E,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAAC5E,MAAM,EAClC2E,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAAChF,KAAK,EACjC+E,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAAC1E,KAAK,EACjCyE,aAAa,CAACxU,CAAC,CAAC,CAACyU,UAAU,CAACxE,SAAS,CACpC,CAACjP,SAAS,CAAEiU,UAAc,IAAI;kBAC/B;gBAAA,CACD,CAAC;;cAEJX,MAAI,CAACrW,QAAQ,CAACiX,oBAAoB,CAACZ,MAAI,CAAC3R,QAAQ,CAAC,CAAC3B,SAAS,CACxD2D,QAAa,IAAI;gBAChB2P,MAAI,CAACa,YAAY,GAAG/S,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;gBACxC2P,MAAI,CAACpF,iBAAiB,GAAGoF,MAAI,CAACa,YAAY,CAAChP,MAAM;gBACjDmO,MAAI,CAACc,qBAAqB,GAAGd,MAAI,CAACa,YAAY,CAACrQ,MAAM;gBACrD;gBACA;gBACA,KAAK,IAAI9E,CAAC,IAAIsU,MAAI,CAACa,YAAY,EAAE;kBAC/B,IACEb,MAAI,CAACa,YAAY,CAACnV,CAAC,CAAC,CAAC0Q,aAAa,IAAI,QAAQ,IAC9C4D,MAAI,CAACa,YAAY,CAACnV,CAAC,CAAC,CAACqV,qBAAqB,IAAI,MAAM,EACpD;oBACAf,MAAI,CAACrW,QAAQ,CAACqX,kBAAkB,CAAChB,MAAI,CAAC3R,QAAQ,CAAC,CAAC3B,SAAS,CACtD2D,QAAa,IAAI;sBAChB2P,MAAI,CAACiB,cAAc,GAAGnT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;sBAC1C2P,MAAI,CAAC7D,iBAAiB,GAAG6D,MAAI,CAACiB,cAAc,CAAC3E,KAAK;sBAClD0D,MAAI,CAACkB,mBAAmB,GAAGlB,MAAI,CAACiB,cAAc,CAACpP,MAAM;sBACrD;oBACF,CAAC,EACAxE,KAAU,IAAI,CAAE,CAAC,CACnB;;;cAGP,CAAC,EACAA,KAAU,IAAI,CAAE,CAAC,CACnB;YACH,CAAC,CAAC;WACH,MAAM;;MAIX,CAAC;MAAA,iBAAA8T,GAAA;QAAA,OAAAlB,KAAA,CAAApM,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EACJ;EAEAtE,WAAWA,CAAA;IAAA,IAAA4R,MAAA;IACT,IAAI,CAAC7X,EAAE,CAACgI,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAClD,QAAQ,GAAG,OAAO,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;MAAA,IAAA2U,KAAA,GAAA5W,mIAAA,CAAC,WAAO6W,UAAc,EAAI;QACvG;QACA,KAAI,IAAI5V,CAAC,IAAI4V,UAAU,EAAE;UACvB;UACAF,MAAI,CAACzX,QAAQ,CAACoH,gBAAgB,CAACqQ,MAAI,CAAC/S,QAAQ,CAAC,CAAC3B,SAAS,CACpD2D,QAAa,IAAI;YAChB+Q,MAAI,CAACG,aAAa,GAAGzT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;YACzC+Q,MAAI,CAACzX,QAAQ,CAAC6X,cAAc,CAC1BJ,MAAI,CAAC/S,QAAQ,EACbiT,UAAU,CAAC5V,CAAC,CAAC,CAACkG,EAAE,EAChB0P,UAAU,CAAC5V,CAAC,CAAC,CAACmG,MAAM,EACpB,EAAE,EACF,SAAS,CACR,CAACnF,SAAS,CAAE6T,IAAQ,IAAI;cACzB;YAAA,CACD,CAAC;UACJ,CAAC,EACAlT,KAAU,IAAI,CAAE,CAAC,CACnB;;MAEL,CAAC;MAAA,iBAAAoU,GAAA;QAAA,OAAAJ,KAAA,CAAAxN,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EACJ;EAEArE,YAAYA,CAAA;IAAA,IAAAiS,OAAA;IACV,IAAI,CAACnY,EAAE,CAACgI,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAClD,QAAQ,GAAG,QAAQ,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;MAAA,IAAAiV,KAAA,GAAAlX,mIAAA,CAAC,WAAOmX,WAAe,EAAI;QACzG;QACA,KAAI,IAAIlW,CAAC,IAAIkW,WAAW,EAAE;UACxB;UACAF,OAAI,CAAC/X,QAAQ,CAACoI,iBAAiB,CAAC2P,OAAI,CAACrT,QAAQ,CAAC,CAAC3B,SAAS,CACrD2D,QAAa,IAAI;YAChBqR,OAAI,CAAC1P,SAAS,GAAGlE,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;YACrCqR,OAAI,CAACzP,mBAAmB,GAAGyP,OAAI,CAAC1P,SAAS,CAACE,UAAU;YACpD,IAAGwP,OAAI,CAAC1P,SAAS,CAACE,UAAU,IAAI0P,WAAW,CAAClW,CAAC,CAAC,CAACiG,MAAM,EAAE;cACrD;cACA+P,OAAI,CAAC/X,QAAQ,CAACkY,eAAe,CAC3BH,OAAI,CAACrT,QAAQ,EACbuT,WAAW,CAAClW,CAAC,CAAC,CAACkG,EAAE,EACjBgQ,WAAW,CAAClW,CAAC,CAAC,CAACmG,MAAM,EACrB+P,WAAW,CAAClW,CAAC,CAAC,CAACiG,MAAM,EACrB,EAAE,EACF,SAAS,CACR,CAACjF,SAAS,CAAE6T,IAAQ,IAAI;gBACzB;cAAA,CACD,CAAC;aACH,MAAM;cACL;YAAA;UAEJ,CAAC,EACAlT,KAAU,IAAI,CAAE,CAAC,CACnB;;MAEL,CAAC;MAAA,iBAAAyU,GAAA;QAAA,OAAAH,KAAA,CAAA9N,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EACJ;EAEApE,eAAeA,CAAA;IAAA,IAAAqS,OAAA;IACb,IAAI,CAACxY,EAAE,CAACgI,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAClD,QAAQ,GAAG,YAAY,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;MAAA,IAAAsV,KAAA,GAAAvX,mIAAA,CAAC,WAAOwX,cAAkB,EAAI;QAChH;QACA,KAAI,IAAIvW,CAAC,IAAIuW,cAAc,EAAE;UAC3B;UACAF,OAAI,CAACpY,QAAQ,CAACyH,uBAAuB,CAAC2Q,OAAI,CAAC1T,QAAQ,CAAC,CAAC3B,SAAS,CAC3D2D,QAAa,IAAI;YAChB0R,OAAI,CAACG,kBAAkB,GAAGpU,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;YAC9C,IAAG0R,OAAI,CAACG,kBAAkB,CAAC1R,MAAM,IAAIyR,cAAc,CAACvW,CAAC,CAAC,CAACiG,MAAM,EAAE;cAC7D;cACAoQ,OAAI,CAACpY,QAAQ,CAACwY,kBAAkB,CAC9BJ,OAAI,CAAC1T,QAAQ,EACb4T,cAAc,CAACvW,CAAC,CAAC,CAACkG,EAAE,EACpBqQ,cAAc,CAACvW,CAAC,CAAC,CAACmG,MAAM,EACxBoQ,cAAc,CAACvW,CAAC,CAAC,CAACiG,MAAM,EACxB,EAAE,EACF,SAAS,CACR,CAACjF,SAAS,CAAE6T,IAAQ,IAAI;gBACzB;cAAA,CACD,CAAC;aACH,MAAM;cACL;YAAA;UAEJ,CAAC,EACAlT,KAAU,IAAI,CAAE,CAAC,CACnB;;MAEL,CAAC;MAAA,iBAAA+U,GAAA;QAAA,OAAAJ,KAAA,CAAAnO,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EACJ;EAEAnE,iBAAiBA,CAAA;IAAA,IAAA0S,OAAA;IACf,IAAI,CAAC9Y,EAAE,CAACgI,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAClD,QAAQ,GAAG,YAAY,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;MAAA,IAAA4V,KAAA,GAAA7X,mIAAA,CAAC,WAAOwX,cAAkB,EAAI;QAChH;QACA,KAAI,IAAIvW,CAAC,IAAIuW,cAAc,EAAE;UAC3B;UACAI,OAAI,CAAC1Y,QAAQ,CAACyH,uBAAuB,CAACiR,OAAI,CAAChU,QAAQ,CAAC,CAAC3B,SAAS,CAC3D2D,QAAa,IAAI;YAChBgS,OAAI,CAACH,kBAAkB,GAAGpU,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;YAC9C,IAAGgS,OAAI,CAACH,kBAAkB,CAAC1R,MAAM,IAAIyR,cAAc,CAACvW,CAAC,CAAC,CAACiG,MAAM,EAAE;cAC7D;cACA0Q,OAAI,CAAC1Y,QAAQ,CAAC4Y,oBAAoB,CAChCF,OAAI,CAAChU,QAAQ,EACb4T,cAAc,CAACvW,CAAC,CAAC,CAACkG,EAAE,EACpBqQ,cAAc,CAACvW,CAAC,CAAC,CAACmG,MAAM,EACxBoQ,cAAc,CAACvW,CAAC,CAAC,CAACiG,MAAM,EACxB,EAAE,EACF,SAAS,CACR,CAACjF,SAAS,CAAE6T,IAAQ,IAAI;gBACzB;cAAA,CACD,CAAC;aACH,MAAM;cACL;YAAA;UAEJ,CAAC,EACAlT,KAAU,IAAI,CAAE,CAAC,CACnB;;MAEL,CAAC;MAAA,iBAAAmV,GAAA;QAAA,OAAAF,KAAA,CAAAzO,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EACJ;EAEAlE,mBAAmBA,CAAA;IAAA,IAAA6S,OAAA;IACjB,IAAI,CAAClZ,EAAE,CAACgI,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAClD,QAAQ,GAAG,YAAY,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;MAAA,IAAAgW,KAAA,GAAAjY,mIAAA,CAAC,WAAOwX,cAAkB,EAAI;QAChH;QACA,KAAI,IAAIvW,CAAC,IAAIuW,cAAc,EAAE;UAC3B;UACAQ,OAAI,CAAC9Y,QAAQ,CAACyH,uBAAuB,CAACqR,OAAI,CAACpU,QAAQ,CAAC,CAAC3B,SAAS,CAC3D2D,QAAa,IAAI;YAChBoS,OAAI,CAACP,kBAAkB,GAAGpU,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;YAC9C,IAAGoS,OAAI,CAACP,kBAAkB,CAAC1R,MAAM,IAAIyR,cAAc,CAACvW,CAAC,CAAC,CAACiG,MAAM,EAAE;cAC7D;cACA8Q,OAAI,CAAC9Y,QAAQ,CAACiG,mBAAmB,CAC/B6S,OAAI,CAACpU,QAAQ,EACb4T,cAAc,CAACvW,CAAC,CAAC,CAACkG,EAAE,EACpBqQ,cAAc,CAACvW,CAAC,CAAC,CAACmG,MAAM,EACxBoQ,cAAc,CAACvW,CAAC,CAAC,CAACiG,MAAM,EACxB,EAAE,EACF,SAAS,CACR,CAACjF,SAAS,CAAE6T,IAAQ,IAAI;gBACzB;cAAA,CACD,CAAC;aACH,MAAM;cACL;YAAA;UAEJ,CAAC,EACAlT,KAAU,IAAI,CAAE,CAAC,CACnB;;MAEL,CAAC;MAAA,iBAAAsV,GAAA;QAAA,OAAAD,KAAA,CAAA7O,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EACJ;EAEAjE,aAAaA,CAAA;IAAA,IAAA+S,OAAA;IACX,IAAI,CAACrZ,EAAE,CAACgI,UAAU,CAAC,SAAS,CAAC,CAACC,GAAG,CAAC,IAAI,CAACnD,QAAQ,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;MAAA,IAAAmW,KAAA,GAAApY,mIAAA,CAAC,WAAOqY,YAAgB,EAAI;QACnG;QACAF,OAAI,CAACG,MAAM,GAAGD,YAAY,CAACE,KAAK;QAChCJ,OAAI,CAACjZ,QAAQ,CAACsZ,eAAe,CAACL,OAAI,CAACvU,QAAQ,CAAC,CAAC3B,SAAS,CACnD2D,QAAa,IAAI;UAChBuS,OAAI,CAACM,YAAY,GAAGpV,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACxC;UACA,IAAGuS,OAAI,CAACM,YAAY,CAACC,QAAQ,IAAIP,OAAI,CAACG,MAAM,EAAE;YAC5C;YACAH,OAAI,CAACjZ,QAAQ,CAACyZ,gBAAgB,CAC5BR,OAAI,CAACvU,QAAQ,EACbyU,YAAY,CAACE,KAAK,EAClB,SAAS,CACR,CAACtW,SAAS,CAAE6T,IAAQ,IAAI;cACzB;YAAA,CACD,CAAC;WACH,MAAM;YACL;UAAA;QAEJ,CAAC,EACAlT,KAAU,IAAI,CAAE,CAAC,CACnB;MACH,CAAC;MAAA,iBAAAgW,GAAA;QAAA,OAAAR,KAAA,CAAAhP,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EACJ;EAEAwP,GAAGA,CAAClM,IAAI;IAAA,IAAAmM,OAAA;IACN;IACA,IAAInM,IAAI,IAAI,EAAE,EAAE;MACd,IAAI,CAACpH,eAAe,GAAG,EAAE;MACzB;MAEA,IAAI,CAACrG,QAAQ,CAACiX,oBAAoB,CAAC,IAAI,CAACvS,QAAQ,CAAC,CAAC3B,SAAS;QAAA,IAAA8W,MAAA,GAAA/Y,mIAAA,CACzD,WAAO4F,QAAa,EAAI;UACtB,MAAM/E,OAAO,SAASiY,OAAI,CAACna,iBAAiB,CAACmC,MAAM,EAAE;UACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;UACvB+X,OAAI,CAAC1C,YAAY,GAAG/S,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACxCkT,OAAI,CAACzC,qBAAqB,GAAGyC,OAAI,CAAC1C,YAAY,CAACrQ,MAAM;UACrD;UACA,KAAK,IAAI9E,CAAC,IAAI6X,OAAI,CAAC1C,YAAY,EAAE;YAC/B,IACE0C,OAAI,CAAC1C,YAAY,CAACnV,CAAC,CAAC,CAAC0Q,aAAa,IAAI,QAAQ,IAC9CmH,OAAI,CAAC1C,YAAY,CAACnV,CAAC,CAAC,CAACqV,qBAAqB,IAAI,MAAM,EACpD;cACAwC,OAAI,CAAC5Z,QAAQ,CAACqX,kBAAkB,CAACuC,OAAI,CAAClV,QAAQ,CAAC,CAAC3B,SAAS,CACtD2D,QAAa,IAAI;gBAChBkT,OAAI,CAACtC,cAAc,GAAGnT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;gBAC1CkT,OAAI,CAACpH,iBAAiB,GAAGoH,OAAI,CAACtC,cAAc,CAAC3E,KAAK;gBAClDiH,OAAI,CAACrC,mBAAmB,GAAGqC,OAAI,CAACtC,cAAc,CAACpP,MAAM;gBACrD;cACF,CAAC,EACAxE,KAAU,IAAI,CAAE,CAAC,CACnB;;;UAGL/B,OAAO,CAACO,OAAO,EAAE;QACnB,CAAC;QAAA,iBAAA4X,IAAA;UAAA,OAAAD,MAAA,CAAA3P,KAAA,OAAAC,SAAA;QAAA;MAAA,KACAzG,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAACoH,gBAAgB,CAAC,IAAI,CAAC1C,QAAQ,CAAC,CAAC3B,SAAS,CACpD2D,QAAa,IAAI;QAChB,IAAI,CAACW,QAAQ,GAAGlD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACpC;QACA;MACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAACuH,qBAAqB,CAAC,IAAI,CAAC7C,QAAQ,CAAC,CAAC3B,SAAS,CACzD2D,QAAa,IAAI;QAChB,IAAI,CAACW,QAAQ,GAAGlD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACpC,IAAI,CAACc,kBAAkB,GAAG,IAAI,CAACH,QAAQ,CAACR,MAAM;MAChD,CAAC,EACAnD,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAACyH,uBAAuB,CAAC,IAAI,CAAC/C,QAAQ,CAAC,CAAC3B,SAAS,CAC3D2D,QAAa,IAAI;QAChB,IAAI,CAACgB,aAAa,GAAGvD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACzC,IAAI,CAACiB,sBAAsB,GAAG,IAAI,CAACD,aAAa,CAACb,MAAM;QACvD;MACF,CAAC,EACAnD,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAACoI,iBAAiB,CAAC,IAAI,CAAC1D,QAAQ,CAAC,CAAC3B,SAAS,CACrD2D,QAAa,IAAI;QAChB,IAAI,CAAC2B,SAAS,GAAGlE,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACrC,IAAI,CAAC4B,mBAAmB,GAAG,IAAI,CAACD,SAAS,CAACE,UAAU;QACpD;MACF,CAAC,EACA7E,KAAU,IAAI,CAAE,CAAC,CACnB;KACF,MAAM,IAAI+J,IAAI,IAAI,EAAE,EAAE;MACrB,IAAI,CAACpH,eAAe,GAAG,EAAE;MACzB;MAEA,IAAI,CAACrG,QAAQ,CAACiH,eAAe,CAAC,IAAI,CAACvC,QAAQ,CAAC,CAAC3B,SAAS,CACnD2D,QAAa,IAAI;QAChB,IAAI,CAACQ,WAAW,GAAG/C,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACvC;MACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAACoH,gBAAgB,CAAC,IAAI,CAAC1C,QAAQ,CAAC,CAAC3B,SAAS,CACpD2D,QAAa,IAAI;QAChB,IAAI,CAACW,QAAQ,GAAGlD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACpC;QACA;MACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAAC+Z,wBAAwB,CAAC,IAAI,CAACrV,QAAQ,CAAC,CAAC3B,SAAS,CAC5D2D,QAAa,IAAI;QAChB,IAAI,CAACgB,aAAa,GAAGvD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACzC;QACA;MACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAACoI,iBAAiB,CAAC,IAAI,CAAC1D,QAAQ,CAAC,CAAC3B,SAAS,CACrD2D,QAAa,IAAI;QAChB,IAAI,CAAC2B,SAAS,GAAGlE,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACrC,IAAI,CAAC4B,mBAAmB,GAAG,IAAI,CAACD,SAAS,CAACE,UAAU;QACpD;MACF,CAAC,EACA7E,KAAU,IAAI,CAAE,CAAC,CACnB;KACF,MAAM,IAAI+J,IAAI,IAAI,EAAE,EAAE;MACrB,IAAI,CAACpH,eAAe,GAAG,EAAE;MACzB;MAEA,IAAI,CAACrG,QAAQ,CAACiH,eAAe,CAAC,IAAI,CAACvC,QAAQ,CAAC,CAAC3B,SAAS,CACnD2D,QAAa,IAAI;QAChB,IAAI,CAACQ,WAAW,GAAG/C,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACvC;MACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAACoH,gBAAgB,CAAC,IAAI,CAAC1C,QAAQ,CAAC,CAAC3B,SAAS,CACpD2D,QAAa,IAAI;QAChB,IAAI,CAACW,QAAQ,GAAGlD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACpC;QACA;MACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAACyH,uBAAuB,CAAC,IAAI,CAAC/C,QAAQ,CAAC,CAAC3B,SAAS,CAC3D2D,QAAa,IAAI;QAChB,IAAI,CAACgB,aAAa,GAAGvD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACzC;QACA;MACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;MAED,IAAI,CAAC1D,QAAQ,CAACoI,iBAAiB,CAAC,IAAI,CAAC1D,QAAQ,CAAC,CAAC3B,SAAS,CACrD2D,QAAa,IAAI;QAChB,IAAI,CAAC2B,SAAS,GAAGlE,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACrC,IAAI,CAAC4B,mBAAmB,GAAG,IAAI,CAACD,SAAS,CAACE,UAAU;QACpD;MACF,CAAC,EACA7E,KAAU,IAAI,CAAE,CAAC,CACnB;KACF,MAAM,IAAI+J,IAAI,IAAI,EAAE,EAAE;MACrB,IAAI,CAACpH,eAAe,GAAG,EAAE;MACzB;MAEA,IAAI,CAACrG,QAAQ,CAACyI,kBAAkB,CAAC,IAAI,CAAC/D,QAAQ,CAAC,CAAC3B,SAAS,CACtD2D,QAAa,IAAI;QAChB,IAAIgC,SAAS,GAAGvE,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACpC,IAAI,CAACgC,SAAS,GAAGA,SAAS;QAC1B;QACA,KAAK,IAAI3G,CAAC,IAAI,IAAI,CAAC2G,SAAS,EAAE;UAC5B,IAAI,CAACrD,YAAY,GAAI,IAAI,CAACqD,SAAS,CAAC3G,CAAC,CAAC,CAAC4G,MAAM,GAAG,GAAG,GAAI,GAAG;UAC1D,IAAI,CAACrD,cAAc,GAAG,IAAI,CAACD,YAAY,GAAG,GAAG;UAC7C,IAAI,IAAI,CAACA,YAAY,IAAI,CAAC,EAAE;YAC1BrB,YAAY,CAACuB,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;YAC/B,IAAIC,EAAE,GAAGxB,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;YACnC,IAAIuB,EAAE,IAAI,GAAG,EAAE;cACb;cACA,OAAOA,EAAE;;YAEX,OAAO,IAAI,CAACH,YAAY;;;MAG9B,CAAC,EACA3B,KAAU,IAAI,CAAE,CAAC,CACnB;KACF,MAAM,IAAI+J,IAAI,IAAI,EAAE,EAAE;MACrB,IAAI,CAACpH,eAAe,GAAG,EAAE;MACzB;MAEA,IAAI,CAACrG,QAAQ,CAACga,aAAa,CAAC,IAAI,CAACtV,QAAQ,CAAC,CAAC3B,SAAS,CACjD2D,QAAa,IAAI;QAChB,IAAIuT,UAAU,GAAG9V,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACrC,IAAI,CAACuT,UAAU,GAAGA,UAAU;QAC5B;MACF,CAAC,EACAvW,KAAU,IAAI,CAAE,CAAC,CACnB;KACF,MAAM,IAAI+J,IAAI,IAAI,EAAE,EAAE;MACrB,IAAI,CAACpH,eAAe,GAAG,EAAE;MACzB;MACA,IAAI,CAAC6T,mBAAmB,GAAG,CAAC;MAC5B,IAAI,CAACla,QAAQ,CAACma,kBAAkB,CAAC,IAAI,CAACzV,QAAQ,CAAC,CAAC3B,SAAS,CACtD2D,QAAa,IAAI;QAChB,IAAI0T,eAAe,GAAGjW,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAC1C,IAAI,CAAC0T,eAAe,GAAGA,eAAe;QACtC;QAEA;QACA;QACA;QACA;QACI;QACJ;QACA;QACA;MACF,CAAC,EACA1W,KAAU,IAAI,CAAE,CAAC,CACnB;KACF,MAAM,IAAI+J,IAAI,IAAI,EAAE,EAAE;MACrB,IAAI,CAACpH,eAAe,GAAG,EAAE;MACzB;KACD,MAAM,IAAIoH,IAAI,IAAI,QAAQ,EAAE;MAC3B,IAAI,CAAClH,QAAQ,GAAG,QAAQ;MACxB,IAAI,CAACC,WAAW,GAAG,CAAC;MACpBxC,YAAY,CAACuB,OAAO,CAAC,iBAAiB,EAAE,QAAQ,CAAC;MACjD;MACA;MACA,IAAI,CAACvF,QAAQ,CAACyG,wBAAwB,CAAC,IAAI,CAAC/B,QAAQ,CAAC,CAAC3B,SAAS,CAC5D2D,QAAa,IAAI;QAChB,IAAI,CAACC,MAAM,GAAGxC,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAClC,IAAI,CAACE,mBAAmB,GAAGF,QAAQ,CAACG,MAAM;QAC1C;MACF,CAAC,EACAnD,KAAU,IAAI,CAAE,CAAC,CACnB;MACD,IAAI,CAAC1D,QAAQ,CAAC8G,0BAA0B,CAAC,IAAI,CAACpC,QAAQ,CAAC,CAAC3B,SAAS,CAC9D2D,QAAa,IAAI;QAChB,IAAI,CAACK,YAAY,GAAG5C,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACxC,IAAI,CAACM,yBAAyB,GAAGN,QAAQ,CAACG,MAAM;QAChD;MACF,CAAC,EACAnD,KAAU,IAAI,CAAE,CAAC,CACnB;;EAEL;EAEA2W,eAAeA,CAAA;IACb;IACA,IAAI,CAACC,OAAO,GAAG,IAAI;IACnBjO,OAAO,CAACC,GAAG,CAAC,IAAI,CAACgO,OAAO,CAAC;EAC3B;EAEMC,kBAAkBA,CAAC9M,IAAI;IAAA,IAAA+M,OAAA;IAAA,OAAA1Z,mIAAA;MAC3B,IAAI2M,IAAI,IAAI,EAAE,EAAE;QACd+M,OAAI,CAACnU,eAAe,GAAG,EAAE;QACzB;QAEA,MAAM1E,OAAO,SAAS6Y,OAAI,CAAC/a,iBAAiB,CAACmC,MAAM,EAAE;QACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;QAEvB2Y,OAAI,CAACxa,QAAQ,CAACiX,oBAAoB,CAACuD,OAAI,CAAC9V,QAAQ,CAAC,CAAC3B,SAAS,CACxD2D,QAAa,IAAI;UAChB8T,OAAI,CAACC,gBAAgB,GAAGtW,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAC9C,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAED/B,OAAO,CAACO,OAAO,EAAE;OAClB,MAAM,IAAIuL,IAAI,IAAI,EAAE,EAAE;QACrB+M,OAAI,CAACnU,eAAe,GAAG,EAAE;QACzB;QAEA,MAAM1E,OAAO,SAAS6Y,OAAI,CAAC/a,iBAAiB,CAACmC,MAAM,EAAE;QACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;QAEvB2Y,OAAI,CAACxa,QAAQ,CAACuH,qBAAqB,CAACiT,OAAI,CAAC9V,QAAQ,CAAC,CAAC3B,SAAS,CACzD2D,QAAa,IAAI;UAChB8T,OAAI,CAAC5C,aAAa,GAAGzT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACzC8T,OAAI,CAAC5a,EAAE,CAACgI,UAAU,CAAC,UAAU,GAAG4S,OAAI,CAAC9V,QAAQ,GAAG,YAAY,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;YAAA,IAAA2X,MAAA,GAAA5Z,mIAAA,CAAC,WAAO6Z,aAAiB,EAAI;cACjH;cACAH,OAAI,CAACI,OAAO,GAAGD,aAAa,CAAC,CAAC,CAAC,CAACE,SAAS;cACzCL,OAAI,CAACM,WAAW,GAAGH,aAAa,CAAC,CAAC,CAAC,CAACI,aAAa;cAEjD;cACA;cACA,IAAGJ,aAAa,CAAC,CAAC,CAAC,CAACK,cAAc,IAAI,SAAS,EAAE;gBAC/C,IAAIC,cAAc,GAAGN,aAAa,CAAC,CAAC,CAAC,CAACO,SAAS,CAACC,OAAO;gBACvD,IAAIC,GAAG,GAAG,IAAIC,IAAI,CAACJ,cAAc,GAAG,IAAI,CAAC;gBACzCT,OAAI,CAACc,WAAW,GAAGd,OAAI,CAACva,QAAQ,CAACsb,SAAS,CAACH,GAAG,EAAE,kBAAkB,CAAC;gBACnE;gBAEA,SAASI,QAAQA,CAACC,UAAU,EAAEC,IAAI,GAAG,IAAIL,IAAI,EAAE;kBAC7CK,IAAI,CAACC,OAAO,CAACD,IAAI,CAACE,OAAO,EAAE,GAAGH,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;kBAE1D,OAAOC,IAAI;gBACb;gBAEA;gBACA,MAAMA,IAAI,GAAGN,GAAG;gBAEhB;gBACA,IAAIE,WAAW,GAAGE,QAAQ,CAACb,aAAa,CAAC,CAAC,CAAC,CAACkB,SAAS,EAAET,GAAG,CAAC;gBAC3DZ,OAAI,CAACsB,aAAa,GAAGtB,OAAI,CAACva,QAAQ,CAACsb,SAAS,CAACD,WAAW,EAAE,kBAAkB,CAAC;gBAC7E;gBACAd,OAAI,CAACxa,QAAQ,CAAC+b,qBAAqB,CAACvB,OAAI,CAACI,OAAO,EAAEJ,OAAI,CAACsB,aAAa,CAAC,CAAC/Y,SAAS,CAAEiZ,KAAU,IAAI;kBAC7F;kBACAxB,OAAI,CAACyB,eAAe,GAAG9X,IAAI,CAACC,KAAK,CAAC4X,KAAK,CAAC;kBACxCxB,OAAI,CAACxa,QAAQ,CAACuH,qBAAqB,CAACiT,OAAI,CAAC9V,QAAQ,CAAC,CAAC3B,SAAS,CACzD2D,QAAa,IAAI;oBAChB8T,OAAI,CAAC5C,aAAa,GAAGzT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;kBAC3C,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;gBACH,CAAC,CAAC;gBACF8W,OAAI,CAACxa,QAAQ,CAACkc,yBAAyB,CAAC1B,OAAI,CAACM,WAAW,EAAEN,OAAI,CAACsB,aAAa,CAAC,CAAC/Y,SAAS,CAAEiZ,KAAU,IAAI;kBACrG;kBACAxB,OAAI,CAAC2B,mBAAmB,GAAGhY,IAAI,CAACC,KAAK,CAAC4X,KAAK,CAAC;kBAC5CxB,OAAI,CAACxa,QAAQ,CAACoc,yBAAyB,CAAC5B,OAAI,CAAC9V,QAAQ,CAAC,CAAC3B,SAAS,CAC7D2D,QAAa,IAAI;oBAChB8T,OAAI,CAAC6B,2BAA2B,GAAGlY,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;kBACzD,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;gBACH,CAAC,CAAC;gBACF8W,OAAI,CAAC8B,QAAQ,GAAG,IAAI;;YAExB,CAAC;YAAA,iBAAAC,IAAA;cAAA,OAAA7B,MAAA,CAAAxQ,KAAA,OAAAC,SAAA;YAAA;UAAA,IAAC;QACJ,CAAC,EACAzG,KAAU,IAAI,CAAE,CAAC,CACnB;QAED/B,OAAO,CAACO,OAAO,EAAE;OAClB,MAAM,IAAIuL,IAAI,IAAI,EAAE,EAAE;QACrB+M,OAAI,CAACnU,eAAe,GAAG,EAAE;QACzB;QAEA,MAAM1E,OAAO,SAAS6Y,OAAI,CAAC/a,iBAAiB,CAACmC,MAAM,EAAE;QACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;QAEvB2Y,OAAI,CAACxa,QAAQ,CAACyH,uBAAuB,CAAC+S,OAAI,CAAC9V,QAAQ,CAAC,CAAC3B,SAAS,CAC3D2D,QAAa,IAAI;UAChB8T,OAAI,CAACjC,kBAAkB,GAAGpU,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UAC9C8T,OAAI,CAACgC,wBAAwB,GAAGhC,OAAI,CAACjC,kBAAkB,CAACkE,aAAa;UACrEjC,OAAI,CAAC5a,EAAE,CAACgI,UAAU,CAAC,UAAU,GAAG4S,OAAI,CAAC9V,QAAQ,GAAG,YAAY,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;YAAA,IAAA2Z,MAAA,GAAA5b,mIAAA,CAAC,WAAO6Z,aAAiB,EAAI;cACjH;cACAH,OAAI,CAACI,OAAO,GAAGD,aAAa,CAAC,CAAC,CAAC,CAACE,SAAS;cACzCL,OAAI,CAACM,WAAW,GAAGH,aAAa,CAAC,CAAC,CAAC,CAACI,aAAa;cAEjD;cACA;cACA,IAAGJ,aAAa,CAAC,CAAC,CAAC,CAACK,cAAc,IAAI,SAAS,EAAE;gBAC/C,IAAIC,cAAc,GAAGN,aAAa,CAAC,CAAC,CAAC,CAACO,SAAS,CAACC,OAAO;gBACvD,IAAIC,GAAG,GAAG,IAAIC,IAAI,CAACJ,cAAc,GAAG,IAAI,CAAC;gBACzCT,OAAI,CAACc,WAAW,GAAGd,OAAI,CAACva,QAAQ,CAACsb,SAAS,CAACH,GAAG,EAAE,kBAAkB,CAAC;gBACnE;gBAEA,SAASI,QAAQA,CAACC,UAAU,EAAEC,IAAI,GAAG,IAAIL,IAAI,EAAE;kBAC7CK,IAAI,CAACC,OAAO,CAACD,IAAI,CAACE,OAAO,EAAE,GAAGH,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;kBAE1D,OAAOC,IAAI;gBACb;gBAEA;gBACA,MAAMA,IAAI,GAAGN,GAAG;gBAEhB;gBACA,IAAIE,WAAW,GAAGE,QAAQ,CAACb,aAAa,CAAC,CAAC,CAAC,CAACkB,SAAS,EAAET,GAAG,CAAC;gBAC3DZ,OAAI,CAACsB,aAAa,GAAGtB,OAAI,CAACva,QAAQ,CAACsb,SAAS,CAACD,WAAW,EAAE,kBAAkB,CAAC;gBAC7E;gBACAd,OAAI,CAACxa,QAAQ,CAAC+b,qBAAqB,CAACvB,OAAI,CAACI,OAAO,EAAEJ,OAAI,CAACsB,aAAa,CAAC,CAAC/Y,SAAS,CAAEiZ,KAAU,IAAI;kBAC7F;kBACAxB,OAAI,CAACyB,eAAe,GAAG9X,IAAI,CAACC,KAAK,CAAC4X,KAAK,CAAC;kBACxCxB,OAAI,CAACxa,QAAQ,CAACuH,qBAAqB,CAACiT,OAAI,CAAC9V,QAAQ,CAAC,CAAC3B,SAAS,CACzD2D,QAAa,IAAI;oBAChB8T,OAAI,CAAC5C,aAAa,GAAGzT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;kBAC3C,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;gBACH,CAAC,CAAC;gBACF8W,OAAI,CAACxa,QAAQ,CAACkc,yBAAyB,CAAC1B,OAAI,CAACM,WAAW,EAAEN,OAAI,CAACsB,aAAa,CAAC,CAAC/Y,SAAS,CAAEiZ,KAAU,IAAI;kBACrG;kBACAxB,OAAI,CAAC2B,mBAAmB,GAAGhY,IAAI,CAACC,KAAK,CAAC4X,KAAK,CAAC;kBAC5CxB,OAAI,CAACxa,QAAQ,CAACoc,yBAAyB,CAAC5B,OAAI,CAAC9V,QAAQ,CAAC,CAAC3B,SAAS,CAC7D2D,QAAa,IAAI;oBAChB8T,OAAI,CAAC6B,2BAA2B,GAAGlY,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;kBACzD,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;gBACH,CAAC,CAAC;gBACF8W,OAAI,CAAC8B,QAAQ,GAAG,IAAI;;YAExB,CAAC;YAAA,iBAAAK,IAAA;cAAA,OAAAD,MAAA,CAAAxS,KAAA,OAAAC,SAAA;YAAA;UAAA,IAAC;QACJ,CAAC,EACAzG,KAAU,IAAI,CAAE,CAAC,CACnB;QAED/B,OAAO,CAACO,OAAO,EAAE;OAClB,MAAM,IAAIuL,IAAI,IAAI,EAAE,EAAE;QACrB+M,OAAI,CAACnU,eAAe,GAAG,EAAE;QACzB;QAEA,MAAM1E,OAAO,SAAS6Y,OAAI,CAAC/a,iBAAiB,CAACmC,MAAM,EAAE;QACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;QAEvB2Y,OAAI,CAACxa,QAAQ,CAACoI,iBAAiB,CAACoS,OAAI,CAAC9V,QAAQ,CAAC,CAAC3B,SAAS,CACrD2D,QAAa,IAAI;UAChB8T,OAAI,CAAC3G,cAAc,GAAG1P,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UAC1C8T,OAAI,CAAClS,mBAAmB,GAAGkS,OAAI,CAAC3G,cAAc,CAACtL,UAAU;UACzDiS,OAAI,CAACzG,iBAAiB,GAAGyG,OAAI,CAAC3G,cAAc,CAACG,MAAM;UACnDwG,OAAI,CAACvG,kBAAkB,GAAGuG,OAAI,CAAC3G,cAAc,CAACrF,GAAG;UACjDgM,OAAI,CAACoC,qBAAqB,GAAG,CAAC;UAC9B;QACF,CAAC,EACAlZ,KAAU,IAAI,CAAE,CAAC,CACnB;QAED/B,OAAO,CAACO,OAAO,EAAE;;MAGnBsY,OAAI,CAACqC,iBAAiB,EAAE;MACxBrC,OAAI,CAACsC,SAAS,GAAGC,WAAW,eAAAjc,mIAAA,CAAC,aAAW;QACtC0Z,OAAI,CAACqC,iBAAiB,EAAE;MAC1B,CAAC,GAAE,IAAI,CAAC;IAAC;EACX;EAEAG,oBAAoBA,CAACvP,IAAI;IACvB,IAAIA,IAAI,IAAI,CAAC,EAAE;MACb,IAAI,CAAClH,QAAQ,GAAG,QAAQ;MACxB,IAAI,CAACC,WAAW,GAAG,CAAC;MACpBxC,YAAY,CAACuB,OAAO,CAAC,iBAAiB,EAAE,QAAQ,CAAC;MACjD;MACA;MACA,IAAI,CAACvF,QAAQ,CAACyG,wBAAwB,CAAC,IAAI,CAAC/B,QAAQ,CAAC,CAAC3B,SAAS,CAC5D2D,QAAa,IAAI;QAChB,IAAI,CAACC,MAAM,GAAGxC,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAClC,IAAI,CAACE,mBAAmB,GAAGF,QAAQ,CAACG,MAAM;QAC1C;MACF,CAAC,EACAnD,KAAU,IAAI,CAAE,CAAC,CACnB;MACD,IAAI,CAAC1D,QAAQ,CAAC8G,0BAA0B,CAAC,IAAI,CAACpC,QAAQ,CAAC,CAAC3B,SAAS,CAC9D2D,QAAa,IAAI;QAChB,IAAI,CAACK,YAAY,GAAG5C,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QACxC,IAAI,CAACM,yBAAyB,GAAGN,QAAQ,CAACG,MAAM;QAChD;MACF,CAAC,EACAnD,KAAU,IAAI,CAAE,CAAC,CACnB;;EAEL;EAEMmZ,iBAAiBA,CAAA;IAAA,IAAAI,OAAA;IAAA,OAAAnc,mIAAA;MACrB;MACA,IAAIoc,aAAa,GAAG,IAAI7B,IAAI,CAAC4B,OAAI,CAACnB,aAAa,CAAC,CAACF,OAAO,EAAE;MAE1D;MACA;MAEA;MACA,IAAIR,GAAG,GAAG,IAAIC,IAAI,EAAE,CAACO,OAAO,EAAE;MAE9B;MACA,IAAIuB,QAAQ,GAAGD,aAAa,GAAG9B,GAAG;MAElC;MACA,IAAIgC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,QAAQ,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;MACvD,IAAII,KAAK,GAAGF,IAAI,CAACC,KAAK,CACnBH,QAAQ,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,IAAK,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CACtD;MACD,IAAIK,OAAO,GAAGH,IAAI,CAACC,KAAK,CAAEH,QAAQ,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,IAAK,IAAI,GAAG,EAAE,CAAC,CAAC;MACrE,IAAIhC,OAAO,GAAGkC,IAAI,CAACC,KAAK,CAAEH,QAAQ,IAAI,IAAI,GAAG,EAAE,CAAC,GAAI,IAAI,CAAC;MAEzD;MACAF,OAAI,CAACG,IAAI,GAAGA,IAAI;MAChBH,OAAI,CAACM,KAAK,GAAGA,KAAK;MAClBN,OAAI,CAACO,OAAO,GAAGA,OAAO;MACtBP,OAAI,CAAC9B,OAAO,GAAGA,OAAO;MACtB;MACA,IAAIgC,QAAQ,GAAG,CAAC,IAAIF,OAAI,CAACM,KAAK,GAAG,CAAC,EAAE;QAClCN,OAAI,CAACM,KAAK,GAAG,CAAC;QACdN,OAAI,CAACO,OAAO,GAAG,CAAC;QAChBP,OAAI,CAAC9B,OAAO,GAAG,CAAC;;MAElB;IAAA;EACF;;EAEAsC,cAAcA,CAACvV,MAAM;IACnB,IAAIuF,IAAI,GAAGzJ,YAAY,CAACuB,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC;IACjD,IAAI,CAACiL,SAAS,CAACtI,MAAM,CAAC;EACxB;EAEAwV,cAAcA,CAACxV,MAAM;IACnB,IAAIuF,IAAI,GAAGzJ,YAAY,CAACuB,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC;IACjD,IAAI,CAACiL,SAAS,CAACtI,MAAM,CAAC;EACxB;EAEAyV,eAAeA,CAAC7V,KAAK;IACnB,IAAI2F,IAAI,GAAGzJ,YAAY,CAACuB,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC;IAC9C,IAAI,CAACmL,YAAY,CAAC5I,KAAK,CAAC;EAC1B;EAEA8V,eAAeA,CAAC1V,MAAM;IACpB,IAAIuF,IAAI,GAAGzJ,YAAY,CAACuB,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC;IAC9C,IAAI,CAACmL,YAAY,CAACxI,MAAM,CAAC;EAC3B;EAEA2V,mBAAmBA,CAAC3V,MAAM;IACxB,IAAIuF,IAAI,GAAGzJ,YAAY,CAACuB,OAAO,CAAC,MAAM,EAAE,SAAS,CAAC;IAClD,IAAI,CAACqL,gBAAgB,CAAC1I,MAAM,CAAC;EAC/B;EAEA4V,mBAAmBA,CAAC5V,MAAM;IACxB,IAAIuF,IAAI,GAAGzJ,YAAY,CAACuB,OAAO,CAAC,MAAM,EAAE,SAAS,CAAC;IAClD,IAAI,CAACqL,gBAAgB,CAAC1I,MAAM,CAAC;EAC/B;EAEA6V,gBAAgBA,CAAA;IACd,IAAItQ,IAAI,GAAGzJ,YAAY,CAACuB,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC;IAC/C,IAAI,CAACiL,SAAS,CAAC/C,IAAI,CAAC;EACtB;EAEAuQ,gBAAgBA,CAAA;IACd,IAAIvQ,IAAI,GAAGzJ,YAAY,CAACuB,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC;IAC/C,IAAI,CAACiL,SAAS,CAAC/C,IAAI,CAAC;EACtB;EAEMwQ,aAAaA,CAACnL,WAAmB;IAAA,IAAAoL,OAAA;IAAA,OAAApd,mIAAA;MACrC,IAAI2M,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MACvC,IAAIwJ,IAAI,IAAI,MAAM,EAAE;QAClByQ,OAAI,CAACpL,WAAW,GAAGA,WAAW;QAC9B,IAAIoB,qBAAqB,GAAGgK,OAAI,CAACta,WAAW,GAAGsa,OAAI,CAACpL,WAAW;QAC/D;QACA,IAAI8J,qBAAqB,GAAGsB,OAAI,CAACpL,WAAW,GAAGoL,OAAI,CAACC,WAAW;QAC/DD,OAAI,CAACtB,qBAAqB,GAAGA,qBAAqB,CAACxZ,OAAO,CAAC,CAAC,CAAC;OAC9D,MAAM,IAAIqK,IAAI,IAAI,QAAQ,EAAE;QAC3ByQ,OAAI,CAACpL,WAAW,GAAGA,WAAW;QAC9B,IAAIP,uBAAuB,GAAG2L,OAAI,CAACpL,WAAW;QAC9CoL,OAAI,CAAC3L,uBAAuB,GAAGA,uBAAuB,CAACnP,OAAO,CAAC,CAAC,CAAC;QACjEY,YAAY,CAACuB,OAAO,CAAC,aAAa,EAAEuN,WAAW,CAAC1P,OAAO,EAAE,CAAC;QAE1D8a,OAAI,CAACle,QAAQ,CACV+S,cAAc,CAACmL,OAAI,CAACjN,iBAAiB,CAAC,CACtClO,SAAS,CAAEiQ,WAAW,IAAI;UACzB,IAAIC,EAAE,GAAGD,WAAW;UACpB;UACAkL,OAAI,CAACxQ,kBAAkB,GAAI,EAAE,GAAG,GAAG,GAAIwF,MAAM,CAACJ,WAAW,CAAC;UAC1D,IAAIlF,2BAA2B,GAC7BsF,MAAM,CAACJ,WAAW,CAAC,GAAGoL,OAAI,CAACxQ,kBAAkB;UAC/CwQ,OAAI,CAACrQ,WAAW,GAAGqQ,OAAI,CAACxQ,kBAAkB;UAC1CwQ,OAAI,CAACpQ,aAAa,GAAGF,2BAA2B;UAChD,IAAIwF,oBAAoB,GACtB8K,OAAI,CAACpQ,aAAa,GAAGoQ,OAAI,CAAC/K,sBAAsB;UAClD+K,OAAI,CAAC9K,oBAAoB,GAAGA,oBAAoB,CAAChQ,OAAO,CAAC,CAAC,CAAC;UAC3D8a,OAAI,CAAC7K,WAAW,GAAG6K,OAAI,CAACrQ,WAAW,GAAGqQ,OAAI,CAAC/K,sBAAsB;UACjE+K,OAAI,CAAC/K,sBAAsB,GAAI,EAAE,GAAG,GAAG,GAAID,MAAM,CAACJ,WAAW,CAAC;UAC9DoL,OAAI,CAAC5K,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI4K,OAAI,CAAC/K,sBAAsB;UAC1C+K,OAAI,CAAC3K,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI2K,OAAI,CAAC5K,uBAAuB;UAC3C4K,OAAI,CAAC1K,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI0K,OAAI,CAAC3K,uBAAuB;UAC3C2K,OAAI,CAACzK,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAIyK,OAAI,CAAC1K,uBAAuB;UAE3C,IAAIP,EAAE,IAAI,CAAC,EAAE;YACXiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;WACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;YAClBiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;YACA;YACA;YACA;YACA;WACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;YAClBiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;WACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;YAClBiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;WACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;YAClBiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;WACD,MAAM;YACL;UAAA;UAGF;UACA;UACA;UACA;UACA;QACF,CAAC,CAAC;OACL,MAAM,IAAIjG,IAAI,IAAI,KAAK,EAAE;QACxByQ,OAAI,CAACpL,WAAW,GAAGA,WAAW;QAC9B,IAAI2B,oBAAoB,GAAGyJ,OAAI,CAACpL,WAAW,GAAGoL,OAAI,CAACta,WAAW;QAC9Dsa,OAAI,CAACzJ,oBAAoB,GAAGA,oBAAoB,CAACrR,OAAO,CAAC,CAAC,CAAC;QAC3DY,YAAY,CAACuB,OAAO,CAAC,aAAa,EAAEuN,WAAW,CAAC1P,OAAO,EAAE,CAAC;QAE1D8a,OAAI,CAACle,QAAQ,CACV+S,cAAc,CAACmL,OAAI,CAACjN,iBAAiB,CAAC,CACtClO,SAAS,CAAEiQ,WAAW,IAAI;UACzB,IAAIC,EAAE,GAAGD,WAAW;UACpB;UACAkL,OAAI,CAACxQ,kBAAkB,GAAI,EAAE,GAAG,GAAG,GAAIwF,MAAM,CAACJ,WAAW,CAAC;UAC1D,IAAIlF,2BAA2B,GAC7BsF,MAAM,CAACJ,WAAW,CAAC,GAAGoL,OAAI,CAACxQ,kBAAkB;UAC/CwQ,OAAI,CAACrQ,WAAW,GAAGqQ,OAAI,CAACxQ,kBAAkB;UAC1CwQ,OAAI,CAACpQ,aAAa,GAAGF,2BAA2B;UAChD,IAAIwF,oBAAoB,GACtB8K,OAAI,CAACpQ,aAAa,GAAGoQ,OAAI,CAAC/K,sBAAsB;UAClD+K,OAAI,CAAC9K,oBAAoB,GAAGA,oBAAoB,CAAChQ,OAAO,CAAC,CAAC,CAAC;UAC3D8a,OAAI,CAAC7K,WAAW,GAAG6K,OAAI,CAACrQ,WAAW,GAAGqQ,OAAI,CAAC/K,sBAAsB;UACjE+K,OAAI,CAAC/K,sBAAsB,GAAI,EAAE,GAAG,GAAG,GAAID,MAAM,CAACJ,WAAW,CAAC;UAC9DoL,OAAI,CAAC5K,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI4K,OAAI,CAAC/K,sBAAsB;UAC1C+K,OAAI,CAAC3K,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI2K,OAAI,CAAC5K,uBAAuB;UAC3C4K,OAAI,CAAC1K,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAI0K,OAAI,CAAC3K,uBAAuB;UAC3C2K,OAAI,CAACzK,uBAAuB,GACzB,EAAE,GAAG,GAAG,GAAIyK,OAAI,CAAC1K,uBAAuB;UAE3C,IAAIP,EAAE,IAAI,CAAC,EAAE;YACXiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;WACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;YAClBiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;YACA;YACA;YACA;YACA;WACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;YAClBiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;WACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;YAClBiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;WACD,MAAM,IAAIT,EAAE,IAAI,CAAC,EAAE;YAClBiL,OAAI,CAACxK,eAAe,GAAG,CAAC;YACxB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;WACD,MAAM;YACL;UAAA;UAGF;UACA;UACA;UACA;UACA;QACF,CAAC,CAAC;OACL,MAAM,IAAIjG,IAAI,IAAI,SAAS,EAAE;QAC5ByQ,OAAI,CAACpL,WAAW,GAAGA,WAAW;QAC9B,IAAIkC,wBAAwB,GAAGkJ,OAAI,CAACpL,WAAW,GAAGoL,OAAI,CAACta,WAAW;QAClEsa,OAAI,CAAClJ,wBAAwB,GAAGA,wBAAwB,CAAC5R,OAAO,CAAC,CAAC,CAAC;QACnEY,YAAY,CAACuB,OAAO,CAAC,aAAa,EAAEuN,WAAW,CAAC1P,OAAO,EAAE,CAAC;;IAC3D;EACH;EAEMgb,aAAaA,CAACD,WAAmB;IAAA,IAAAE,OAAA;IAAA,OAAAvd,mIAAA;MACrCud,OAAI,CAACF,WAAW,GAAGA,WAAW;MAC9B,IAAIjK,qBAAqB,GACvBmK,OAAI,CAACza,WAAW,GAAGya,OAAI,CAACvL,WAAW,GAAGuL,OAAI,CAACF,WAAW;MACxDE,OAAI,CAACnK,qBAAqB,GAAGA,qBAAqB,CAAC9Q,OAAO,CAAC,CAAC,CAAC;MAE7D,IAAIwZ,qBAAqB,GAAGyB,OAAI,CAACvL,WAAW,GAAGuL,OAAI,CAACF,WAAW;MAC/DE,OAAI,CAACzB,qBAAqB,GAAGA,qBAAqB,CAACxZ,OAAO,CAAC,CAAC,CAAC;IAAC;EAChE;EAEAkb,OAAOA,CAACC,IAAY;IAClB,IAAI,CAAC1V,UAAU,GAAG0V,IAAI;IACtB;EACF;;EAEAC,OAAOA,CAAC/Q,IAAI;IACV,IAAI7E,WAAW,GAAG6E,IAAI;IACtB,IAAI7E,WAAW,IAAI,GAAG,EAAE;MACtB,IAAI,CAACA,WAAW,GAAG,MAAM;MACzB;KACD,MAAM,IAAIA,WAAW,IAAI,GAAG,EAAE;MAC7B,IAAI,CAACA,WAAW,GAAG,MAAM;MACzB;;EAEJ;EAEA;EACM6V,aAAaA,CAACzN,oBAAoB;IAAA,IAAA0N,OAAA;IAAA,OAAA5d,mIAAA;MACtC;MACA,IAAI6d,GAAG,GAAGxa,IAAI,CAACmH,SAAS,CAAC;QACvBsT,QAAQ,EAAE1L,MAAM,CAACwL,OAAI,CAAC1N,oBAAoB,CAAC;QAC3C9I,MAAM,EAAEwW,OAAI,CAACzN,iBAAiB;QAC9BS,EAAE,EAAEwB,MAAM,CAACwL,OAAI,CAACjN,iBAAiB,CAAC;QAClCL,MAAM,EAAE8B,MAAM,CAACwL,OAAI,CAACvN,qBAAqB,CAAC;QAC1CG,OAAO,EAAE4B,MAAM,CAACwL,OAAI,CAACrN,sBAAsB,CAAC;QAC5Ce,GAAG,EAAEc,MAAM,CAACwL,OAAI,CAACvM,kBAAkB,CAAC;QACpCX,KAAK,EAAE0B,MAAM,CAACwL,OAAI,CAACnN,oBAAoB,CAAC;QACxCW,MAAM,EAAEwM,OAAI,CAACzM;OACd,CAAC;MACFyM,OAAI,CAACG,YAAY,GAAG1a,IAAI,CAACC,KAAK,CAACua,GAAG,CAAC;MACnC;MAEA,IAAIvD,GAAG,GAAG,IAAIC,IAAI,EAAE;MACpBqD,OAAI,CAACpD,WAAW,GAAGoD,OAAI,CAACze,QAAQ,CAACsb,SAAS,CAACH,GAAG,EAAE,kBAAkB,CAAC;MACnE;MAEA,SAASI,QAAQA,CAACC,UAAU,EAAEC,IAAI,GAAG,IAAIL,IAAI,EAAE;QAC7CK,IAAI,CAACC,OAAO,CAACD,IAAI,CAACE,OAAO,EAAE,GAAGH,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAE1D,OAAOC,IAAI;MACb;MAEA;MACA,MAAMA,IAAI,GAAGN,GAAG;MAEhB;MACA,IAAIE,WAAW,GAAGE,QAAQ,CAAC,GAAG,EAAEJ,GAAG,CAAC;MACpCsD,OAAI,CAACI,QAAQ,GAAGJ,OAAI,CAACze,QAAQ,CAACsb,SAAS,CAACD,WAAW,EAAE,kBAAkB,CAAC;MACxE;MAEA,IAAGoD,OAAI,CAAC5L,WAAW,IAAIzO,SAAS,EAAE;QAChC,MAAMgK,KAAK,SAASqQ,OAAI,CAAChf,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,UAAU;UAClBC,OAAO,EAAE,iCAAiC;UAC1CK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;OACtB,MAAM;QACL,MAAMF,OAAO,SAAS+c,OAAI,CAACjf,iBAAiB,CAACmC,MAAM,EAAE;QACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;QACvB6c,OAAI,CAAC9e,EAAE,CACJgI,UAAU,CAAC,QAAQ,GAAG8W,OAAI,CAACha,QAAQ,GAAG,UAAU,CAAC,CACjDmD,GAAG,CAACmJ,oBAAoB,CAAC,CACzB+N,MAAM,EAAE,CACR5W,IAAI,CAAC,MAAK;UACT;UACA;UACAuW,OAAI,CAACM,iBAAiB,CAAChO,oBAAoB,CAAC;UAC5C0N,OAAI,CAAC1e,QAAQ,CACVif,mBAAmB,CAClBjO,oBAAoB,EACpB0N,OAAI,CAAC5L,WAAW,EAChB4L,OAAI,CAACI,QAAQ,CACd,CACA/b,SAAS,CACPiZ,KAAU,IAAI;YACb;YACAra,OAAO,CAACO,OAAO,EAAE;UACnB,CAAC,EACAwB,KAAU,IAAI,CAAE,CAAC,CACnB;QACL,CAAC,CAAC;;IACL;EACH;EAEMwb,YAAYA,CAAClO,oBAAoB;IAAA,IAAAmO,OAAA;IAAA,OAAAre,mIAAA;MACrC;MACA;MACA,IAAI6d,GAAG,GAAGxa,IAAI,CAACmH,SAAS,CAAC;QACvBsT,QAAQ,EAAE1L,MAAM,CAACiM,OAAI,CAACnO,oBAAoB,CAAC;QAC3C9I,MAAM,EAAEiX,OAAI,CAAClO,iBAAiB;QAC9BhJ,EAAE,EAAEkX,OAAI,CAACjO,kBAAkB;QAC3BQ,EAAE,EAAEwB,MAAM,CAACiM,OAAI,CAAC1N,iBAAiB,CAAC;QAClCL,MAAM,EAAE8B,MAAM,CAACiM,OAAI,CAAChO,qBAAqB,CAAC;QAC1CG,OAAO,EAAE4B,MAAM,CAACiM,OAAI,CAAC9N,sBAAsB,CAAC;QAC5Ce,GAAG,EAAEc,MAAM,CAACiM,OAAI,CAAChN,kBAAkB,CAAC;QACpCX,KAAK,EAAE0B,MAAM,CAACiM,OAAI,CAAC5N,oBAAoB,CAAC;QACxCW,MAAM,EAAEiN,OAAI,CAAClN;OACd,CAAC;MACFkN,OAAI,CAACN,YAAY,GAAG1a,IAAI,CAACC,KAAK,CAACua,GAAG,CAAC;MACnC;MAEA,IAAIvD,GAAG,GAAG,IAAIC,IAAI,EAAE;MACpB8D,OAAI,CAAC7D,WAAW,GAAG6D,OAAI,CAAClf,QAAQ,CAACsb,SAAS,CAACH,GAAG,EAAE,kBAAkB,CAAC;MACnE;MAEA,SAASI,QAAQA,CAACC,UAAU,EAAEC,IAAI,GAAG,IAAIL,IAAI,EAAE;QAC7CK,IAAI,CAACC,OAAO,CAACD,IAAI,CAACE,OAAO,EAAE,GAAGH,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAE1D,OAAOC,IAAI;MACb;MAEA;MACA,MAAMA,IAAI,GAAGN,GAAG;MAEhB;MACA,IAAIE,WAAW,GAAGE,QAAQ,CAAC2D,OAAI,CAACtW,UAAU,EAAEuS,GAAG,CAAC;MAChD+D,OAAI,CAACC,OAAO,GAAGD,OAAI,CAAClf,QAAQ,CAACsb,SAAS,CAACD,WAAW,EAAE,kBAAkB,CAAC;MACvE;MAEA,IAAG6D,OAAI,CAACrM,WAAW,IAAIzO,SAAS,EAAE;QAChC,MAAMgK,KAAK,SAAS8Q,OAAI,CAACzf,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,UAAU;UAClBC,OAAO,EAAE,iCAAiC;UAC1CK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;OACtB,MAAM;QACL,MAAMF,OAAO,SAASwd,OAAI,CAAC1f,iBAAiB,CAACmC,MAAM,EAAE;QACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;QACvBsd,OAAI,CAACvf,EAAE,CACJgI,UAAU,CAAC,QAAQ,GAAGuX,OAAI,CAACza,QAAQ,GAAG,UAAU,CAAC,CACjDmD,GAAG,CAACmJ,oBAAoB,CAAC,CACzB+N,MAAM,EAAE,CACR5W,IAAI,CAAC,MAAK;UACT;UACA;UACAgX,OAAI,CAACE,oBAAoB,CAACrO,oBAAoB,CAAC;UAC/CmO,OAAI,CAACnf,QAAQ,CACVsf,kBAAkB,CACjBtO,oBAAoB,EACpBmO,OAAI,CAACrM,WAAW,EAChBqM,OAAI,CAACvW,WAAW,EAChBuW,OAAI,CAACC,OAAO,CACb,CACArc,SAAS,CACPiZ,KAAU,IAAI;YACb;YACAra,OAAO,CAACO,OAAO,EAAE;UACnB,CAAC,EACAwB,KAAU,IAAI,CAAE,CAAC,CACnB;QACL,CAAC,CAAC;;IACL;EACH;EAEMsb,iBAAiBA,CAAChO,oBAAoB;IAAA,IAAAuO,OAAA;IAAA,OAAAze,mIAAA;MAC1C,MAAMa,OAAO,SAAS4d,OAAI,CAAC9f,iBAAiB,CAACmC,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MACvB,IAAI4L,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAEvC,IAAIwJ,IAAI,IAAI,QAAQ,EAAE;QACpB8R,OAAI,CAAC3f,EAAE,CACJgI,UAAU,CAAC,OAAO,GAAG2X,OAAI,CAAC7a,QAAQ,GAAG,UAAU,CAAC,CAChDmD,GAAG,CAACmJ,oBAAoB,CAAC,CACzBjJ,GAAG,CAAC;UACHE,EAAE,EAAE+I,oBAAoB;UACxB9I,MAAM,EAAEqX,OAAI,CAACtO,iBAAiB;UAC9BuF,UAAU,EAAE;YACVE,WAAW,EAAExD,MAAM,CAACqM,OAAI,CAACpO,qBAAqB,CAAC;YAC/CwF,YAAY,EAAEzD,MAAM,CAACqM,OAAI,CAAClO,sBAAsB,CAAC;YACjDe,GAAG,EAAEc,MAAM,CAACqM,OAAI,CAACpN,kBAAkB,CAAC;YACpCT,EAAE,EAAEwB,MAAM,CAACqM,OAAI,CAAC9N,iBAAiB,CAAC;YAClCG,MAAM,EAAEsB,MAAM,CAACqM,OAAI,CAAC5N,qBAAqB,CAAC;YAC1CH,KAAK,EAAE0B,MAAM,CAACqM,OAAI,CAAChO,oBAAoB,CAAC;YACxCO,KAAK,EAAEoB,MAAM,CAACqM,OAAI,CAAC1N,oBAAoB,CAAC;YACxCG,SAAS,EAAEkB,MAAM,CAACqM,OAAI,CAACxN,wBAAwB;WAChD;UACD7O,KAAK,EAAEqc,OAAI,CAACzM;SACb,CAAC,CACD3K,IAAI,CAAC,MAAK;UACT;UACA;QAAA,CACD,CAAC,CACDiH,KAAK,CAAE1L,KAAU,IAAI,CAAE,CAAC,CAAC;QAC5B,MAAM2K,KAAK,SAASkR,OAAI,CAAC7f,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,SAAS;UACjBC,OAAO,EAAE,6BAA6B;UACtCK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;QAErB0d,OAAI,CAACnZ,UAAU,GAAG,CAAC;QACnBmZ,OAAI,CAAClZ,eAAe,GAAG,EAAE;QACzB;QACA;QAEAkZ,OAAI,CAACvf,QAAQ,CAACiX,oBAAoB,CAACsI,OAAI,CAAC7a,QAAQ,CAAC,CAAC3B,SAAS,CACxD2D,QAAa,IAAI;UAChB6Y,OAAI,CAACrI,YAAY,GAAG/S,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACxC6Y,OAAI,CAACtO,iBAAiB,GAAGsO,OAAI,CAACrI,YAAY,CAAChP,MAAM;UACjDqX,OAAI,CAACpI,qBAAqB,GAAGoI,OAAI,CAACrI,YAAY,CAACrQ,MAAM;UACrD;UACA,KAAK,IAAI9E,CAAC,IAAIwd,OAAI,CAACrI,YAAY,EAAE;YAC/B,IACEqI,OAAI,CAACrI,YAAY,CAACnV,CAAC,CAAC,CAAC0Q,aAAa,IAAI,QAAQ,IAC9C8M,OAAI,CAACrI,YAAY,CAACnV,CAAC,CAAC,CAACqV,qBAAqB,IAAI,MAAM,EACpD;cACAmI,OAAI,CAACvf,QAAQ,CAACqX,kBAAkB,CAACkI,OAAI,CAAC7a,QAAQ,CAAC,CAAC3B,SAAS,CACtD2D,QAAa,IAAI;gBAChB6Y,OAAI,CAACjI,cAAc,GAAGnT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;gBAC1C6Y,OAAI,CAAC/M,iBAAiB,GAAG+M,OAAI,CAACjI,cAAc,CAAC3E,KAAK;gBAClD4M,OAAI,CAAChI,mBAAmB,GAAGgI,OAAI,CAACjI,cAAc,CAACpP,MAAM;gBACrD;cACF,CAAC,EACAxE,KAAU,IAAI,CAAE,CAAC,CACnB;;;QAGP,CAAC,EACAA,KAAU,IAAI,CAAE,CAAC,CACnB;QAED6b,OAAI,CAACvf,QAAQ,CAACiH,eAAe,CAACsY,OAAI,CAAC7a,QAAQ,CAAC,CAAC3B,SAAS,CACnD2D,QAAa,IAAI;UAChB6Y,OAAI,CAACvd,OAAO,GAAGmC,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACnC;QACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAED/B,OAAO,CAACO,OAAO,EAAE;;IAClB;EACH;EAEMmd,oBAAoBA,CAACrO,oBAAoB;IAAA,IAAAwO,OAAA;IAAA,OAAA1e,mIAAA;MAC7C,MAAMa,OAAO,SAAS6d,OAAI,CAAC/f,iBAAiB,CAACmC,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MACvB,IAAI4L,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAEvC,IAAIwJ,IAAI,IAAI,QAAQ,EAAE;QACpB+R,OAAI,CAAC5f,EAAE,CACJgI,UAAU,CAAC,MAAM,GAAG4X,OAAI,CAAC9a,QAAQ,GAAG,UAAU,CAAC,CAC/CmD,GAAG,CAACmJ,oBAAoB,CAAC,CACzBjJ,GAAG,CAAC;UACHE,EAAE,EAAE+I,oBAAoB;UACxB9I,MAAM,EAAEsX,OAAI,CAACvO,iBAAiB;UAC9BuF,UAAU,EAAE;YACVE,WAAW,EAAExD,MAAM,CAACsM,OAAI,CAACrO,qBAAqB,CAAC;YAC/CwF,YAAY,EAAEzD,MAAM,CAACsM,OAAI,CAACnO,sBAAsB,CAAC;YACjDe,GAAG,EAAEc,MAAM,CAACsM,OAAI,CAACrN,kBAAkB,CAAC;YACpCT,EAAE,EAAEwB,MAAM,CAACsM,OAAI,CAAC/N,iBAAiB,CAAC;YAClCG,MAAM,EAAEsB,MAAM,CAACsM,OAAI,CAAC7N,qBAAqB,CAAC;YAC1CH,KAAK,EAAE0B,MAAM,CAACsM,OAAI,CAACjO,oBAAoB,CAAC;YACxCO,KAAK,EAAEoB,MAAM,CAACsM,OAAI,CAAC3N,oBAAoB,CAAC;YACxCG,SAAS,EAAEkB,MAAM,CAACsM,OAAI,CAACzN,wBAAwB;WAChD;UACD0N,QAAQ,EAAEvM,MAAM,CAACsM,OAAI,CAAC1M,WAAW;SAClC,CAAC,CACD3K,IAAI,CAAC,MAAK;UACT;UACA;QAAA,CACD,CAAC,CACDiH,KAAK,CAAE1L,KAAU,IAAI,CAAE,CAAC,CAAC;QAC5B,MAAM2K,KAAK,SAASmR,OAAI,CAAC9f,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,SAAS;UACjBC,OAAO,EAAE,6BAA6B;UACtCK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;QAErB2d,OAAI,CAACpZ,UAAU,GAAG,CAAC;QACnBoZ,OAAI,CAACnZ,eAAe,GAAG,EAAE;QACzB;QACA;QAEAmZ,OAAI,CAACxf,QAAQ,CAACiX,oBAAoB,CAACuI,OAAI,CAAC9a,QAAQ,CAAC,CAAC3B,SAAS,CACxD2D,QAAa,IAAI;UAChB8Y,OAAI,CAACtI,YAAY,GAAG/S,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACxC8Y,OAAI,CAACvO,iBAAiB,GAAGuO,OAAI,CAACtI,YAAY,CAAChP,MAAM;UACjDsX,OAAI,CAACrI,qBAAqB,GAAGqI,OAAI,CAACtI,YAAY,CAACrQ,MAAM;UACrD;UACA,KAAK,IAAI9E,CAAC,IAAIyd,OAAI,CAACtI,YAAY,EAAE;YAC/B,IACEsI,OAAI,CAACtI,YAAY,CAACnV,CAAC,CAAC,CAAC0Q,aAAa,IAAI,QAAQ,IAC9C+M,OAAI,CAACtI,YAAY,CAACnV,CAAC,CAAC,CAACqV,qBAAqB,IAAI,MAAM,EACpD;cACAoI,OAAI,CAACxf,QAAQ,CAACqX,kBAAkB,CAACmI,OAAI,CAAC9a,QAAQ,CAAC,CAAC3B,SAAS,CACtD2D,QAAa,IAAI;gBAChB8Y,OAAI,CAAClI,cAAc,GAAGnT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;gBAC1C8Y,OAAI,CAAChN,iBAAiB,GAAGgN,OAAI,CAAClI,cAAc,CAAC3E,KAAK;gBAClD6M,OAAI,CAACjI,mBAAmB,GAAGiI,OAAI,CAAClI,cAAc,CAACpP,MAAM;gBACrD;cACF,CAAC,EACAxE,KAAU,IAAI,CAAE,CAAC,CACnB;;;QAGP,CAAC,EACAA,KAAU,IAAI,CAAE,CAAC,CACnB;QAED8b,OAAI,CAACxf,QAAQ,CAACiH,eAAe,CAACuY,OAAI,CAAC9a,QAAQ,CAAC,CAAC3B,SAAS,CACnD2D,QAAa,IAAI;UAChB8Y,OAAI,CAACxd,OAAO,GAAGmC,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACnC;QACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAED8b,OAAI,CAAC5W,WAAW,GAAG,GAAG;QACtBjH,OAAO,CAACO,OAAO,EAAE;;IAClB;EACH;EAEA;EACMwd,UAAUA,CAACrL,iBAAiB;IAAA,IAAAsL,OAAA;IAAA,OAAA7e,mIAAA;MAChC;MACA,IAAI6d,GAAG,GAAGxa,IAAI,CAACmH,SAAS,CAAC;QACvBxD,KAAK,EAAEuM,iBAAiB;QACxBnM,MAAM,EAAEyX,OAAI,CAACrL,cAAc;QAC3BpR,KAAK,EAAEyc,OAAI,CAAC7M;OACb,CAAC;MACF6M,OAAI,CAACd,YAAY,GAAG1a,IAAI,CAACC,KAAK,CAACua,GAAG,CAAC;MACnC;MACA,IAAGgB,OAAI,CAAC7M,WAAW,IAAIzO,SAAS,EAAE;QAChC,MAAMgK,KAAK,SAASsR,OAAI,CAACjgB,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,UAAU;UAClBC,OAAO,EAAE,iCAAiC;UAC1CK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;OACtB,MAAM;QACL8d,OAAI,CAAC/f,EAAE,CACNgI,UAAU,CAAC,QAAQ,GAAG+X,OAAI,CAACjb,QAAQ,GAAG,OAAO,CAAC,CAC9CmD,GAAG,CAACwM,iBAAiB,CAAC,CACtB0K,MAAM,EAAE,CACR5W,IAAI,CAAC,MAAK;UACT;UACA;UACAwX,OAAI,CAACC,qBAAqB,CAACvL,iBAAiB,CAAC;UAC7CsL,OAAI,CAAC3f,QAAQ,CACV6f,gBAAgB,CAACxL,iBAAiB,EAAEsL,OAAI,CAAC7M,WAAW,CAAC,CACrD/P,SAAS,CACPiZ,KAAU,IAAI;YACb;UAAA,CACD,EACAtY,KAAU,IAAI,CAAE,CAAC,CACnB;QACL,CAAC,CAAC;;IACH;EACH;EAEMoc,SAASA,CAACzL,iBAAiB;IAAA,IAAA0L,OAAA;IAAA,OAAAjf,mIAAA;MAC/B;MAEA,IAAIsa,GAAG,GAAG,IAAIC,IAAI,EAAE;MACpB0E,OAAI,CAACzE,WAAW,GAAGyE,OAAI,CAAC9f,QAAQ,CAACsb,SAAS,CAACH,GAAG,EAAE,kBAAkB,CAAC;MACnE;MAEA,SAASI,QAAQA,CAACC,UAAU,EAAEC,IAAI,GAAG,IAAIL,IAAI,EAAE;QAC7CK,IAAI,CAACC,OAAO,CAACD,IAAI,CAACE,OAAO,EAAE,GAAGH,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAE1D,OAAOC,IAAI;MACb;MAEA;MACA,MAAMA,IAAI,GAAGN,GAAG;MAEhB;MACA,IAAIE,WAAW,GAAGE,QAAQ,CAACuE,OAAI,CAAClX,UAAU,EAAEuS,GAAG,CAAC;MAChD2E,OAAI,CAACX,OAAO,GAAGW,OAAI,CAAC9f,QAAQ,CAACsb,SAAS,CAACD,WAAW,EAAE,kBAAkB,CAAC;MACvE;MAEA;MACA,MAAM0E,QAAQ,GAAG3E,IAAI,CAACjX,KAAK,CAAC2b,OAAI,CAACX,OAAO,CAAC,GAAG/D,IAAI,CAACjX,KAAK,CAAC2b,OAAI,CAACzE,WAAW,CAAC;MACxE,MAAM2E,WAAW,GAAG5C,IAAI,CAAC6C,IAAI,CAACF,QAAQ,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC;MACxD;MAEA,IAAGD,OAAI,CAACjN,WAAW,IAAIzO,SAAS,EAAE;QAChC,MAAMgK,KAAK,SAAS0R,OAAI,CAACrgB,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,UAAU;UAClBC,OAAO,EAAE,iCAAiC;UAC1CK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;OACtB,MAAM;QACL,MAAMF,OAAO,SAASoe,OAAI,CAACtgB,iBAAiB,CAACmC,MAAM,EAAE;QACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;QACvBke,OAAI,CAACngB,EAAE,CACNgI,UAAU,CAAC,QAAQ,GAAGmY,OAAI,CAACrb,QAAQ,GAAG,OAAO,CAAC,CAC9CmD,GAAG,CAACwM,iBAAiB,CAAC,CACtB0K,MAAM,EAAE,CACR5W,IAAI,CAAC,MAAK;UACT;UACA;UACA4X,OAAI,CAACI,wBAAwB,CAAC9L,iBAAiB,CAAC;UAChD0L,OAAI,CAAC/f,QAAQ,CACVogB,eAAe,CACd/L,iBAAiB,EACjB0L,OAAI,CAACjN,WAAW,EAChBiN,OAAI,CAACnX,WAAW,EAChBmX,OAAI,CAACX,OAAO,EACZa,WAAW,CAACzS,QAAQ,EAAE,CACvB,CACAzK,SAAS,CACPiZ,KAAU,IAAI;YACb;YACAra,OAAO,CAACO,OAAO,EAAE;UACnB,CAAC,EACAwB,KAAU,IAAI,CAAE,CAAC,CACnB;QACL,CAAC,CAAC;QAEFqc,OAAI,CAACM,eAAe,CAAChM,iBAAiB,CAAC;;IACxC;EACH;EAEAgM,eAAeA,CAAChM,iBAAiB;IAAA,IAAAiM,OAAA;IAC/BvD,WAAW,eAAAjc,mIAAA,CAAC,aAAW;MACrBwf,OAAI,CAACC,aAAa,EAAE;MACpB,IAAID,OAAI,CAACC,aAAa,IAAI,EAAE,EAAE;QAC5BD,OAAI,CAACE,aAAa,EAAE;QACpBF,OAAI,CAACC,aAAa,GAAG,CAAC;;MAExB,IAAID,OAAI,CAACE,aAAa,IAAI,EAAE,EAAE;QAC5BF,OAAI,CAACG,WAAW,EAAE;QAClBH,OAAI,CAACE,aAAa,GAAG,CAAC;;MAExBF,OAAI,CAACtgB,QAAQ,CAAC0gB,QAAQ,CAACrM,iBAAiB,EAAEiM,OAAI,CAACG,WAAW,CAACjT,QAAQ,EAAE,EAAE8S,OAAI,CAACE,aAAa,CAAChT,QAAQ,EAAE,EAAE8S,OAAI,CAACC,aAAa,CAAC/S,QAAQ,EAAE,CAAC,CAACzK,SAAS,CAAEyI,GAAO,IAAI,CAAE,CAAC,CAAC;IACjK,CAAC,GAAE,IAAI,CAAC;EACV;EAEMoU,qBAAqBA,CAACvL,iBAAiB;IAAA,IAAAsM,OAAA;IAAA,OAAA7f,mIAAA;MAC3C,MAAMa,OAAO,SAASgf,OAAI,CAAClhB,iBAAiB,CAACmC,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MACvB,IAAI4L,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAEvC,IAAIwJ,IAAI,IAAI,KAAK,EAAE;QACjBkT,OAAI,CAAC/gB,EAAE,CACJgI,UAAU,CAAC,OAAO,GAAG+Y,OAAI,CAACjc,QAAQ,GAAG,OAAO,CAAC,CAC7CmD,GAAG,CAACwM,iBAAiB,CAAC,CACtBtM,GAAG,CAAC;UACHE,EAAE,EAAEoM,iBAAiB;UACrBnM,MAAM,EAAEyY,OAAI,CAACrM,cAAc;UAC3BmL,QAAQ,EAAEvM,MAAM,CAACyN,OAAI,CAAC7N,WAAW;SAClC,CAAC,CACD3K,IAAI,CAAC,MAAK;UACT;UACA;QAAA,CACD,CAAC,CACDiH,KAAK,CAAE1L,KAAU,IAAI,CAAE,CAAC,CAAC;QAC5B,MAAM2K,KAAK,SAASsS,OAAI,CAACjhB,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,SAAS;UACjBC,OAAO,EAAE,6BAA6B;UACtCK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;QAErB8e,OAAI,CAACva,UAAU,GAAG,CAAC;QACnBua,OAAI,CAACta,eAAe,GAAG,EAAE;QACzB;QACA;QAEAsa,OAAI,CAAC3gB,QAAQ,CAACuH,qBAAqB,CAACoZ,OAAI,CAACjc,QAAQ,CAAC,CAAC3B,SAAS,CACzD2D,QAAa,IAAI;UAChBia,OAAI,CAACtZ,QAAQ,GAAGlD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACpCia,OAAI,CAACnZ,kBAAkB,GAAGmZ,OAAI,CAACtZ,QAAQ,CAACR,MAAM;QAChD,CAAC,EACAnD,KAAU,IAAI,CAAE,CAAC,CACnB;QAEDid,OAAI,CAAC3gB,QAAQ,CAACuH,qBAAqB,CAACoZ,OAAI,CAACjc,QAAQ,CAAC,CAAC3B,SAAS,CACzD2D,QAAa,IAAI;UAChBia,OAAI,CAAC/I,aAAa,GAAGzT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAC3C,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAEDid,OAAI,CAAC3gB,QAAQ,CAACoH,gBAAgB,CAACuZ,OAAI,CAACjc,QAAQ,CAAC,CAAC3B,SAAS,CACpD2D,QAAa,IAAI;UAChBia,OAAI,CAACtZ,QAAQ,GAAGlD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACpC;UACA;QACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAED/B,OAAO,CAACO,OAAO,EAAE;;IAClB;EACH;EAEMie,wBAAwBA,CAAC9L,iBAAiB;IAAA,IAAAuM,OAAA;IAAA,OAAA9f,mIAAA;MAC9C,MAAMa,OAAO,SAASif,OAAI,CAACnhB,iBAAiB,CAACmC,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MACvB,IAAI4L,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAEvC,IAAIwJ,IAAI,IAAI,KAAK,EAAE;QACjBmT,OAAI,CAAChhB,EAAE,CACJgI,UAAU,CAAC,MAAM,GAAGgZ,OAAI,CAAClc,QAAQ,GAAG,OAAO,CAAC,CAC5CmD,GAAG,CAACwM,iBAAiB,CAAC,CACtBtM,GAAG,CAAC;UACHE,EAAE,EAAEoM,iBAAiB;UACrBnM,MAAM,EAAE0Y,OAAI,CAACtM,cAAc;UAC3BpR,KAAK,EAAE0d,OAAI,CAAC9N;SACb,CAAC,CACD3K,IAAI,CAAC,MAAK;UACT;UACA;QAAA,CACD,CAAC,CACDiH,KAAK,CAAE1L,KAAU,IAAI,CAAE,CAAC,CAAC;QAC5B,MAAM2K,KAAK,SAASuS,OAAI,CAAClhB,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,SAAS;UACjBC,OAAO,EAAE,6BAA6B;UACtCK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;QAErB+e,OAAI,CAACxa,UAAU,GAAG,CAAC;QACnBwa,OAAI,CAACva,eAAe,GAAG,EAAE;QACzB;QACA;QAEAua,OAAI,CAAC5gB,QAAQ,CAACuH,qBAAqB,CAACqZ,OAAI,CAAClc,QAAQ,CAAC,CAAC3B,SAAS,CACzD2D,QAAa,IAAI;UAChBka,OAAI,CAACvZ,QAAQ,GAAGlD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACpCka,OAAI,CAACpZ,kBAAkB,GAAGoZ,OAAI,CAACvZ,QAAQ,CAACR,MAAM;QAChD,CAAC,EACAnD,KAAU,IAAI,CAAE,CAAC,CACnB;QAEDkd,OAAI,CAAC5gB,QAAQ,CAACuH,qBAAqB,CAACqZ,OAAI,CAAClc,QAAQ,CAAC,CAAC3B,SAAS,CACzD2D,QAAa,IAAI;UAChBka,OAAI,CAAChJ,aAAa,GAAGzT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAC3C,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAEDkd,OAAI,CAAC5gB,QAAQ,CAACoH,gBAAgB,CAACwZ,OAAI,CAAClc,QAAQ,CAAC,CAAC3B,SAAS,CACpD2D,QAAa,IAAI;UAChBka,OAAI,CAACvZ,QAAQ,GAAGlD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACpC;UACA;QACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAEDkd,OAAI,CAAChY,WAAW,GAAG,GAAG;QACtBjH,OAAO,CAACO,OAAO,EAAE;;IAClB;EACH;EAEA;EACM2e,cAAcA,CAACjM,qBAAqB;IAAA,IAAAkM,OAAA;IAAA,OAAAhgB,mIAAA;MACxC;MACA,IAAI6d,GAAG,GAAGxa,IAAI,CAACmH,SAAS,CAAC;QACvBxD,KAAK,EAAE8M,qBAAqB;QAC5B1M,MAAM,EAAE4Y,OAAI,CAACjM,kBAAkB;QAC/B3R,KAAK,EAAE4d,OAAI,CAAChO;OACb,CAAC;MACFgO,OAAI,CAACjC,YAAY,GAAG1a,IAAI,CAACC,KAAK,CAACua,GAAG,CAAC;MACnCtS,OAAO,CAACC,GAAG,CAACwU,OAAI,CAAChO,WAAW,CAAC;MAC7B,IAAGgO,OAAI,CAAChO,WAAW,IAAIzO,SAAS,EAAE;QAChC,MAAMgK,KAAK,SAASyS,OAAI,CAACphB,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,UAAU;UAClBC,OAAO,EAAE,iCAAiC;UAC1CK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;OACtB,MAAM;QACLif,OAAI,CAAClhB,EAAE,CAACgI,UAAU,CAAC,QAAQ,GAAEkZ,OAAI,CAACpc,QAAQ,GAAG,YAAY,CAAC,CAACmD,GAAG,CAAC+M,qBAAqB,CAAC,CAAClG,MAAM,CAAC;UAC3F1G,MAAM,EAAE1J,0FAAuC,CAAC,CAAC,CAAC;SACnD,CAAC,CAAC6J,IAAI,CAAC,MAAK;UACX;UACA;UACA2Y,OAAI,CAACC,yBAAyB,CAACnM,qBAAqB,CAAC;UACrDkM,OAAI,CAAC9gB,QAAQ,CACVghB,oBAAoB,CAACpM,qBAAqB,EAAEkM,OAAI,CAAChO,WAAW,CAAC,CAC7D/P,SAAS,CACPiZ,KAAU,IAAI;YACb;UAAA,CACD,EACAtY,KAAU,IAAI,CAAE,CAAC,CACnB;QACL,CAAC,CAAC;;IACH;EACH;EAEMud,aAAaA,CAACrM,qBAAqB;IAAA,IAAAsM,OAAA;IAAA,OAAApgB,mIAAA;MACvC;MAEA,IAAIsa,GAAG,GAAG,IAAIC,IAAI,EAAE;MACpB6F,OAAI,CAAC5F,WAAW,GAAG4F,OAAI,CAACjhB,QAAQ,CAACsb,SAAS,CAACH,GAAG,EAAE,kBAAkB,CAAC;MACnE;MAEA,SAASI,QAAQA,CAACC,UAAU,EAAEC,IAAI,GAAG,IAAIL,IAAI,EAAE;QAC7CK,IAAI,CAACC,OAAO,CAACD,IAAI,CAACE,OAAO,EAAE,GAAGH,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAE1D,OAAOC,IAAI;MACb;MAEA;MACA,MAAMA,IAAI,GAAGN,GAAG;MAEhB;MACA,IAAIE,WAAW,GAAGE,QAAQ,CAAC0F,OAAI,CAACrY,UAAU,EAAEuS,GAAG,CAAC;MAChD8F,OAAI,CAAC9B,OAAO,GAAG8B,OAAI,CAACjhB,QAAQ,CAACsb,SAAS,CAACD,WAAW,EAAE,kBAAkB,CAAC;MACvE;MACA,IAAG4F,OAAI,CAACpO,WAAW,IAAIzO,SAAS,EAAE;QAChC,MAAMgK,KAAK,SAAS6S,OAAI,CAACxhB,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,UAAU;UAClBC,OAAO,EAAE,iCAAiC;UAC1CK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;OACtB,MAAM;QACL,MAAMF,OAAO,SAASuf,OAAI,CAACzhB,iBAAiB,CAACmC,MAAM,EAAE;QACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;QACvBqf,OAAI,CAACthB,EAAE,CACJgI,UAAU,CAAC,QAAQ,GAAGsZ,OAAI,CAACxc,QAAQ,GAAG,YAAY,CAAC,CACnDmD,GAAG,CAAC+M,qBAAqB,CAAC,CAC1BmK,MAAM,EAAE,CACR5W,IAAI,CAAC,MAAK;UACT;UACA;UACA+Y,OAAI,CAACC,4BAA4B,CAACvM,qBAAqB,CAAC;UACxDsM,OAAI,CAAClhB,QAAQ,CACVohB,mBAAmB,CAClBxM,qBAAqB,EACrBsM,OAAI,CAACpO,WAAW,EAChBoO,OAAI,CAACtY,WAAW,EAChBsY,OAAI,CAAC9B,OAAO,CACb,CACArc,SAAS,CACPiZ,KAAU,IAAI;YACb;YACAra,OAAO,CAACO,OAAO,EAAE;UACnB,CAAC,EACAwB,KAAU,IAAI,CAAE,CAAC,CACnB;QACL,CAAC,CAAC;;IACL;EACH;EAEMqd,yBAAyBA,CAACnM,qBAAqB;IAAA,IAAAyM,OAAA;IAAA,OAAAvgB,mIAAA;MACnD,MAAMa,OAAO,SAAS0f,OAAI,CAAC5hB,iBAAiB,CAACmC,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MACvB,IAAI4L,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAEvC,IAAIwJ,IAAI,IAAI,SAAS,EAAE;QACrB4T,OAAI,CAACzhB,EAAE,CACJgI,UAAU,CAAC,OAAO,GAAGyZ,OAAI,CAAC3c,QAAQ,GAAG,YAAY,CAAC,CAClDmD,GAAG,CAAC+M,qBAAqB,CAAC,CAC1B7M,GAAG,CAAC;UACHE,EAAE,EAAE2M,qBAAqB;UACzB1M,MAAM,EAAEmZ,OAAI,CAACxM,kBAAkB;UAC/B3R,KAAK,EAAEgQ,MAAM,CAACmO,OAAI,CAACvO,WAAW;SAC/B,CAAC,CACD3K,IAAI,CAAC,MAAK;UACT;UACA;QAAA,CACD,CAAC,CACDiH,KAAK,CAAE1L,KAAU,IAAI,CAAE,CAAC,CAAC;QAC5B,MAAM2K,KAAK,SAASgT,OAAI,CAAC3hB,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,SAAS;UACjBC,OAAO,EAAE,6BAA6B;UACtCK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;QAErB;QACA;QAEAwf,OAAI,CAACrhB,QAAQ,CAACoc,yBAAyB,CAACiF,OAAI,CAAC3c,QAAQ,CAAC,CAAC3B,SAAS,CAC7D2D,QAAa,IAAI;UAChB2a,OAAI,CAAC3Z,aAAa,GAAGvD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAC3C,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAED2d,OAAI,CAACrhB,QAAQ,CAACyH,uBAAuB,CAAC4Z,OAAI,CAAC3c,QAAQ,CAAC,CAAC3B,SAAS,CAC3D2D,QAAa,IAAI;UAChB2a,OAAI,CAAC9I,kBAAkB,GAAGpU,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UAC9C2a,OAAI,CAAC7E,wBAAwB,GAAG6E,OAAI,CAAC9I,kBAAkB,CAACkE,aAAa;UACrE4E,OAAI,CAACzhB,EAAE,CAACgI,UAAU,CAAC,UAAU,GAAGyZ,OAAI,CAAC3c,QAAQ,GAAG,YAAY,CAAC,CAAC4F,YAAY,EAAE,CAACvH,SAAS;YAAA,IAAAue,MAAA,GAAAxgB,mIAAA,CAAC,WAAO6Z,aAAiB,EAAI;cACjH;cACA0G,OAAI,CAACzG,OAAO,GAAGD,aAAa,CAAC,CAAC,CAAC,CAACE,SAAS;cACzCwG,OAAI,CAACvG,WAAW,GAAGH,aAAa,CAAC,CAAC,CAAC,CAACI,aAAa;cAEjD;cACA;cACA,IAAGJ,aAAa,CAAC,CAAC,CAAC,CAACK,cAAc,IAAI,SAAS,EAAE;gBAC/C,IAAIC,cAAc,GAAGN,aAAa,CAAC,CAAC,CAAC,CAACO,SAAS,CAACC,OAAO;gBACvD,IAAIC,GAAG,GAAG,IAAIC,IAAI,CAACJ,cAAc,GAAG,IAAI,CAAC;gBACzCoG,OAAI,CAAC/F,WAAW,GAAG+F,OAAI,CAACphB,QAAQ,CAACsb,SAAS,CAACH,GAAG,EAAE,kBAAkB,CAAC;gBACnE;gBAEA,SAASI,QAAQA,CAACC,UAAU,EAAEC,IAAI,GAAG,IAAIL,IAAI,EAAE;kBAC7CK,IAAI,CAACC,OAAO,CAACD,IAAI,CAACE,OAAO,EAAE,GAAGH,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;kBAE1D,OAAOC,IAAI;gBACb;gBAEA;gBACA,MAAMA,IAAI,GAAGN,GAAG;gBAEhB;gBACA,IAAIE,WAAW,GAAGE,QAAQ,CAACb,aAAa,CAAC,CAAC,CAAC,CAACkB,SAAS,EAAET,GAAG,CAAC;gBAC3DiG,OAAI,CAACvF,aAAa,GAAGuF,OAAI,CAACphB,QAAQ,CAACsb,SAAS,CAACD,WAAW,EAAE,kBAAkB,CAAC;gBAC7E;gBACA+F,OAAI,CAACrhB,QAAQ,CAAC+b,qBAAqB,CAACsF,OAAI,CAACzG,OAAO,EAAEyG,OAAI,CAACvF,aAAa,CAAC,CAAC/Y,SAAS,CAAEiZ,KAAU,IAAI;kBAC7F;kBACAqF,OAAI,CAACpF,eAAe,GAAG9X,IAAI,CAACC,KAAK,CAAC4X,KAAK,CAAC;kBACxCqF,OAAI,CAACrhB,QAAQ,CAACuH,qBAAqB,CAAC8Z,OAAI,CAAC3c,QAAQ,CAAC,CAAC3B,SAAS,CACzD2D,QAAa,IAAI;oBAChB2a,OAAI,CAACzJ,aAAa,GAAGzT,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;kBAC3C,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;gBACH,CAAC,CAAC;gBACF2d,OAAI,CAACrhB,QAAQ,CAACkc,yBAAyB,CAACmF,OAAI,CAACvG,WAAW,EAAEuG,OAAI,CAACvF,aAAa,CAAC,CAAC/Y,SAAS,CAAEiZ,KAAU,IAAI;kBACrG;kBACAqF,OAAI,CAAClF,mBAAmB,GAAGhY,IAAI,CAACC,KAAK,CAAC4X,KAAK,CAAC;kBAC5CqF,OAAI,CAACrhB,QAAQ,CAACoc,yBAAyB,CAACiF,OAAI,CAAC3c,QAAQ,CAAC,CAAC3B,SAAS,CAC7D2D,QAAa,IAAI;oBAChB2a,OAAI,CAAChF,2BAA2B,GAAGlY,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;kBACzD,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;gBACH,CAAC,CAAC;gBACF2d,OAAI,CAAC/E,QAAQ,GAAG,IAAI;;YAExB,CAAC;YAAA,iBAAAiF,IAAA;cAAA,OAAAD,MAAA,CAAApX,KAAA,OAAAC,SAAA;YAAA;UAAA,IAAC;QACJ,CAAC,EACAzG,KAAU,IAAI,CAAE,CAAC,CACnB;QAED2d,OAAI,CAACrhB,QAAQ,CAACyH,uBAAuB,CAAC4Z,OAAI,CAAC3c,QAAQ,CAAC,CAAC3B,SAAS,CAC3D2D,QAAa,IAAI;UAChB2a,OAAI,CAAC3Z,aAAa,GAAGvD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACzC;UACA;QACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAED/B,OAAO,CAACO,OAAO,EAAE;;IAClB;EACH;EAEMif,4BAA4BA,CAACvM,qBAAqB;IAAA,IAAA4M,OAAA;IAAA,OAAA1gB,mIAAA;MACtD,MAAMa,OAAO,SAAS6f,OAAI,CAAC/hB,iBAAiB,CAACmC,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MACvB,IAAI4L,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAEvC,IAAIwJ,IAAI,IAAI,SAAS,EAAE;QACrB+T,OAAI,CAAC5hB,EAAE,CACJgI,UAAU,CAAC,MAAM,GAAG4Z,OAAI,CAAC9c,QAAQ,GAAG,YAAY,CAAC,CACjDmD,GAAG,CAAC+M,qBAAqB,CAAC,CAC1B7M,GAAG,CAAC;UACHE,EAAE,EAAE2M,qBAAqB;UACzB1M,MAAM,EAAEsZ,OAAI,CAAC3M,kBAAkB;UAC/B3R,KAAK,EAAEse,OAAI,CAAC1O;SACb,CAAC,CACD3K,IAAI,CAAC,MAAK;UACT;UACA;QAAA,CACD,CAAC,CACDiH,KAAK,CAAE1L,KAAU,IAAI,CAAE,CAAC,CAAC;QAC5B,MAAM2K,KAAK,SAASmT,OAAI,CAAC9hB,eAAe,CAACkC,MAAM,CAAC;UAC9CuH,MAAM,EAAE,SAAS;UACjBC,OAAO,EAAE,6BAA6B;UACtCK,OAAO,EAAE,CAAC,IAAI;SACf,CAAC;QACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;QAErB2f,OAAI,CAACpb,UAAU,GAAG,CAAC;QACnBob,OAAI,CAACnb,eAAe,GAAG,EAAE;QACzB;QACA;QAEAmb,OAAI,CAACxhB,QAAQ,CAACoc,yBAAyB,CAACoF,OAAI,CAAC9c,QAAQ,CAAC,CAAC3B,SAAS,CAC7D2D,QAAa,IAAI;UAChB8a,OAAI,CAAC9Z,aAAa,GAAGvD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAC3C,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAED8d,OAAI,CAACxhB,QAAQ,CAACoc,yBAAyB,CAACoF,OAAI,CAAC9c,QAAQ,CAAC,CAAC3B,SAAS,CAC7D2D,QAAa,IAAI;UAChB8a,OAAI,CAACjJ,kBAAkB,GAAGpU,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;QAChD,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAED8d,OAAI,CAACxhB,QAAQ,CAACyH,uBAAuB,CAAC+Z,OAAI,CAAC9c,QAAQ,CAAC,CAAC3B,SAAS,CAC3D2D,QAAa,IAAI;UAChB8a,OAAI,CAAC9Z,aAAa,GAAGvD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;UACzC;UACA;QACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;QAED8d,OAAI,CAAC5Y,WAAW,GAAG,GAAG;QACtBjH,OAAO,CAACO,OAAO,EAAE;;IAClB;EACH;EAEA;EACMuf,WAAWA,CAACC,GAAG,EAAExN,qBAAqB;IAAA,IAAAyN,OAAA;IAAA,OAAA7gB,mIAAA;MAC1C,IAAI2M,IAAI,GAAGzJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAEvC,IAAIgE,EAAE,GAAG,kCAAkC;MAC3C,IAAI2Z,GAAG,GAAG,EAAE;MACZ,IAAIC,IAAI,GAAGH,GAAG;MACd,IAAI3f,CAAC,GAAG,CAAC;MACT;MACA,IAAI+f,OAAO,GAAGH,OAAI,CAAC3S,OAAO,EAAE,GAAG2S,OAAI,CAACjd,QAAQ;MAC5Cid,OAAI,CAAC/hB,EAAE,CACJgI,UAAU,CAAC,MAAM,CAAC,CAClBC,GAAG,CAAC8Z,OAAI,CAACjd,QAAQ,CAAC,CAClBgK,MAAM,CAAC;QACNqT,SAAS,EAAEzjB,2FAAwC,CACjD6F,IAAI,CAACmH,SAAS,CAAC;UACbpD,MAAM,EAAEyZ,OAAI,CAAC7N,gBAAgB;UAC7B8N,GAAG,EAAE,EAAE;UACPI,GAAG,EAAEH,IAAI;UACT3e,KAAK,EAAEgR,qBAAqB;UAC5B5B,KAAK,EAAEqP,OAAI,CAACjd;SACb,CAAC;OAEL,CAAC,CACDyD,IAAI,CAAC,MAAK,CAAE,CAAC,CAAC;MACjB;MAEA;MACAwZ,OAAI,CAAC3hB,QAAQ,CACViiB,oBAAoB,CAACN,OAAI,CAACjd,QAAQ,EAAEgd,GAAG,CAAC,CACxC3e,SAAS,CAAEC,IAAS,IAAI;QACvB,IAAIkf,OAAO,GAAG/d,IAAI,CAACC,KAAK,CAACpB,IAAI,CAAC;QAC9B;QACA2e,OAAI,CAAC3hB,QAAQ,CACVmiB,iBAAiB,CAChBR,OAAI,CAACjd,QAAQ,EACbwd,OAAO,CAACE,WAAW,EACnBV,GAAG,EACHxN,qBAAqB,EACrB0N,GAAG,CAACpU,QAAQ,EAAE,EACdmU,OAAI,CAAC7N,gBAAgB,EACrB6N,OAAI,CAACjd,QAAQ,CACd,CACA3B,SAAS,CAAEsf,YAAiB,IAAI;UAC/BV,OAAI,CAACW,eAAe,GAAGD,YAAY;QACrC,CAAC,CAAC;MACN,CAAC,CAAC;MAEJV,OAAI,CAAC/hB,EAAE,CAACgI,UAAU,CAAC,QAAQ,GAAE+Z,OAAI,CAACjd,QAAQ,GAAG,QAAQ,CAAC,CAACmD,GAAG,CAAC8Z,OAAI,CAAC7N,gBAAgB,CAAC,CAC9EpF,MAAM,CAAC;QACN1G,MAAM,EAAE1J,0FAAuC,CAAC,CAACojB,GAAG,CAAC;QACrDzZ,EAAE,EAAE0Z,OAAI,CAAC7N,gBAAgB;QACzB5L,MAAM,EAAE;OACT,CAAC,CACDC,IAAI,CAAC,MAAK;QACTkE,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;QAC1C;MACF,CAAC,CAAC,CACD8C,KAAK,CAAE1L,KAAU,IAAI,CAEtB,CAAC,CAAC;MACJ;MACA,MAAM2K,KAAK,SAASsT,OAAI,CAACjiB,eAAe,CAACkC,MAAM,CAAC;QAC9CuH,MAAM,EAAE,SAAS;QACjBC,OAAO,EAAE,6BAA6B;QACtCK,OAAO,EAAE,CAAC,IAAI;OACf,CAAC;MACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;MAErB8f,OAAI,CAAC/Y,WAAW,GAAG,GAAG;IAAC;EACzB;EAEM2Z,aAAaA,CAACra,MAAM;IAAA,IAAAsa,OAAA;IAAA,OAAA1hB,mIAAA;MACxB,MAAMa,OAAO,SAAS6gB,OAAI,CAAC/iB,iBAAiB,CAACmC,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MACvB2gB,OAAI,CAACxiB,QAAQ,CAACyiB,WAAW,CAACD,OAAI,CAAC9d,QAAQ,EAAEwD,MAAM,CAAC,CAACnF,SAAS;QAAA,IAAA2f,MAAA,GAAA5hB,mIAAA,CACxD,WAAOkC,IAAS,EAAI;UAClBwf,OAAI,CAACxiB,QAAQ,CAACiX,oBAAoB,CAACuL,OAAI,CAAC9d,QAAQ,CAAC,CAAC3B,SAAS,CACxD2D,QAAa,IAAI;YAChB8b,OAAI,CAACtL,YAAY,GAAG/S,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;YACxC8b,OAAI,CAACrL,qBAAqB,GAAGqL,OAAI,CAACtL,YAAY,CAACrQ,MAAM;YACrD;UACF,CAAC,EACAnD,KAAU,IAAI,CAAE,CAAC,CACnB;UACD/B,OAAO,CAACO,OAAO,EAAE;QACnB,CAAC;QAAA,iBAAAygB,IAAA;UAAA,OAAAD,MAAA,CAAAxY,KAAA,OAAAC,SAAA;QAAA;MAAA,KACAzG,KAAU,IAAI,CAAE,CAAC,CACnB;MAED;IAAA;EACF;;EAEAkf,WAAWA,CAAA;IACT,IAAI,CAAC5iB,QAAQ,CAACiH,eAAe,CAAC,IAAI,CAACvC,QAAQ,CAAC,CAAC3B,SAAS,CACnD2D,QAAa,IAAI;MAChB,IAAI,CAAC1E,OAAO,GAAGmC,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;MACnC;IACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;IAED,IAAI,CAAC1D,QAAQ,CAACiH,eAAe,CAAC,IAAI,CAACvC,QAAQ,CAAC,CAAC3B,SAAS,CACnD2D,QAAa,IAAI;MAChB,IAAI,CAACW,QAAQ,GAAGlD,IAAI,CAACC,KAAK,CAACsC,QAAQ,CAAC;MACpC;IACF,CAAC,EACAhD,KAAU,IAAI,CAAE,CAAC,CACnB;EACH;EAEAyL,UAAUA,CAAC0T,GAAW,GAAG;EAEnBpd,aAAaA,CAAA;IAAA,IAAAqd,OAAA;IAAA,OAAAhiB,mIAAA;MACjB,MAAMuN,KAAK,SAASyU,OAAI,CAACpjB,eAAe,CAACkC,MAAM,CAAC;QAC9CuH,MAAM,EAAE,kBAAkB;QAC1BC,OAAO,EAAE,uBAAuB;QAChCK,OAAO,EAAE,CAAC,IAAI;OACf,CAAC;MACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;IAAC;EACxB;EAEMkhB,QAAQA,CAAA;IAAA,IAAAC,OAAA;IAAA,OAAAliB,mIAAA;MACZ,MAAMuN,KAAK,SAAS2U,OAAI,CAACtjB,eAAe,CAACkC,MAAM,CAAC;QAC9CuH,MAAM,EAAE,WAAW;QACnBC,OAAO,EAAE,sBAAsB;QAC/BK,OAAO,EAAE,CAAC,IAAI;OACf,CAAC;MACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;MACrBmhB,OAAI,CAAC1d,cAAc,GAAG,CAAC;MACvB0d,OAAI,CAAC3d,YAAY,GAAG,CAAC;IAAC;EACxB;EAEA4d,YAAYA,CAACjS,oBAAoB,EAAEC,iBAAiB;IAClD,IAAI,CAACrR,EAAE,CACNgI,UAAU,CAAC,OAAO,GAAG,IAAI,CAAClD,QAAQ,GAAG,UAAU,CAAC,CAChDmD,GAAG,CAACmJ,oBAAoB,CAAC,CACzB+N,MAAM,EAAE,CACR5W,IAAI,CAAC,MAAK;MACT;MACA;MACA,IAAI,CAAC+a,wBAAwB,CAAClS,oBAAoB,EAAEC,iBAAiB,CAAC;MACtE,IAAI,CAACjR,QAAQ,CACVmjB,mBAAmB,CAAC,IAAI,CAACze,QAAQ,EAAEsM,oBAAoB,CAAC,CACxDjO,SAAS,CACPiZ,KAAU,IAAI;QACb;MAAA,CACD,EACAtY,KAAU,IAAI,CAAE,CAAC,CACnB;IACL,CAAC,CAAC;EACJ;EAEA0f,SAASA,CAAC/O,iBAAiB;IACzB,IAAI,CAACzU,EAAE,CACNgI,UAAU,CAAC,OAAO,GAAG,IAAI,CAAClD,QAAQ,GAAG,OAAO,CAAC,CAC7CmD,GAAG,CAACwM,iBAAiB,CAAC,CACtB0K,MAAM,EAAE,CACR5W,IAAI,CAAC,MAAK;MACT;MACA;MACA,IAAI,CAACkb,qBAAqB,CAAChP,iBAAiB,CAAC;MAC7C,IAAI,CAACrU,QAAQ,CACVsjB,gBAAgB,CAAC,IAAI,CAAC5e,QAAQ,EAAE2P,iBAAiB,CAAC,CAClDtR,SAAS,CACPiZ,KAAU,IAAI;QACb;MAAA,CACD,EACAtY,KAAU,IAAI,CAAE,CAAC,CACnB;IACL,CAAC,CAAC;EACJ;EAEMwf,wBAAwBA,CAAClS,oBAAoB,EAAEC,iBAAiB;IAAA,IAAAsS,OAAA;IAAA,OAAAziB,mIAAA;MACpEyiB,OAAI,CAAC3jB,EAAE,CACJgI,UAAU,CAAC,QAAQ,GAAG2b,OAAI,CAAC7e,QAAQ,GAAG,UAAU,CAAC,CACjDmD,GAAG,CAACmJ,oBAAoB,CAAC,CACzBjJ,GAAG,CAAC;QACHE,EAAE,EAAE+I,oBAAoB;QACxB9I,MAAM,EAAE+I,iBAAiB;QACzBuF,UAAU,EAAE;UACVE,WAAW,EAAExD,MAAM,CAACqQ,OAAI,CAACpS,qBAAqB,CAAC;UAC/CwF,YAAY,EAAEzD,MAAM,CAACqQ,OAAI,CAAClS,sBAAsB,CAAC;UACjDe,GAAG,EAAEc,MAAM,CAACqQ,OAAI,CAACpR,kBAAkB,CAAC;UACpCT,EAAE,EAAEwB,MAAM,CAACqQ,OAAI,CAAC9R,iBAAiB,CAAC;UAClCG,MAAM,EAAEsB,MAAM,CAACqQ,OAAI,CAAC5R,qBAAqB,CAAC;UAC1CH,KAAK,EAAE0B,MAAM,CAACqQ,OAAI,CAAChS,oBAAoB,CAAC;UACxCO,KAAK,EAAEoB,MAAM,CAACqQ,OAAI,CAAC1R,oBAAoB,CAAC;UACxCG,SAAS,EAAEkB,MAAM,CAACqQ,OAAI,CAACxR,wBAAwB;;OAElD,CAAC,CACD5J,IAAI,CAAC,MAAK;QACT;QACA;MAAA,CACD,CAAC,CACDiH,KAAK,CAAE1L,KAAU,IAAI,CAAE,CAAC,CAAC;MAC1B,MAAM2K,KAAK,SAASkV,OAAI,CAAC7jB,eAAe,CAACkC,MAAM,CAAC;QAChDuH,MAAM,EAAE,SAAS;QACjBC,OAAO,EAAE,gCAAgC;QACzCK,OAAO,EAAE,CAAC,IAAI;OACf,CAAC;MACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;IAAC;EACxB;EAEMwhB,qBAAqBA,CAAChP,iBAAiB;IAAA,IAAAmP,OAAA;IAAA,OAAA1iB,mIAAA;MAC3C0iB,OAAI,CAAC5jB,EAAE,CACJgI,UAAU,CAAC,QAAQ,GAAG4b,OAAI,CAAC9e,QAAQ,GAAG,OAAO,CAAC,CAC9CmD,GAAG,CAACwM,iBAAiB,CAAC,CACtBtM,GAAG,CAAC;QACHE,EAAE,EAAEoM,iBAAiB;QACrBnM,MAAM,EAAEsb,OAAI,CAAClP;OACd,CAAC,CACDnM,IAAI,CAAC,MAAK;QACT;QACA;MAAA,CACD,CAAC,CACDiH,KAAK,CAAE1L,KAAU,IAAI,CAAE,CAAC,CAAC;MAC1B,MAAM2K,KAAK,SAASmV,OAAI,CAAC9jB,eAAe,CAACkC,MAAM,CAAC;QAChDuH,MAAM,EAAE,SAAS;QACjBC,OAAO,EAAE,gCAAgC;QACzCK,OAAO,EAAE,CAAC,IAAI;OACf,CAAC;MACF,MAAM4E,KAAK,CAACxM,OAAO,EAAE;IAAC;EACxB;EAEA4hB,aAAaA,CAAC7O,qBAAqB,GAEnC;EAEA5F,OAAOA,CAAA;IACL;IACA,OAAOqO,IAAI,CAACC,KAAK,CAACjC,IAAI,CAACD,GAAG,EAAE,GAAG,IAAI,CAAC;EACtC;EAEMsI,aAAaA,CAACC,oBAA4B,EAAEC,aAAqB,EAAEC,SAAmB,EAAEC,IAAU;IAAA,IAAAC,OAAA;IAAA,OAAAjjB,mIAAA;MACtGijB,OAAI,CAACjY,QAAQ,SAAS3M,SAAS,CAACwD,OAAO,EAAE;MACzCohB,OAAI,CAAChY,gBAAgB,EAAE;MACvB,MAAMgY,OAAI,CAAC/X,eAAe,EAAE;MAC5B+X,OAAI,CAAC9X,MAAM,GAAG,IAAIxN,8CAAI,CAACslB,OAAI,CAACjY,QAAQ,CAAC,CAAC,CAAC;MACvC;MACAiY,OAAI,CAAC7X,QAAQ,SAAS6X,OAAI,CAAC9X,MAAM,CAACE,GAAG,CAACC,WAAW,CAACC,OAAO,CAACC,GAAG,CAAC;MAC9D,MAAM0X,aAAa,GAAG,IAAID,OAAI,CAAC9X,MAAM,CAACE,GAAG,CAACM,QAAQ,CAACsX,OAAI,CAACrX,QAAQ,EAAEiX,oBAAoB,CAAC;MACvF,MAAMM,QAAQ,SAASF,OAAI,CAAC9X,MAAM,CAACE,GAAG,CAAC+X,WAAW,EAAE;MACpD,MAAMC,WAAW,SAASH,aAAa,CAACpX,OAAO,CAAC8W,aAAa,CAACG,SAAS,EAAED,aAAa,CAAC,CAACQ,WAAW,EAAE;MACrG,MAAMC,EAAE,SAASL,aAAa,CAACpX,OAAO,CAAC8W,aAAa,CAACG,SAAS,EAAED,aAAa,CAAC,CAACU,IAAI,CAAC;QAClFC,IAAI,EAAE,4CAA4C;QAClDC,GAAG,EAAEL,WAAW;QAChBF;OACD,CAAC;MACF5X,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAE+X,EAAE,CAACI,eAAe,CAAC;IAAC;EACvD;EAEMC,8BAA8BA,CAAC5c,KAAK;IAAA,IAAA6c,OAAA;IAAA,OAAA7jB,mIAAA;MACxC6jB,OAAI,CAAC/kB,EAAE,CAACgI,UAAU,CAAC,QAAQ,GAAG+c,OAAI,CAACjgB,QAAQ,GAAG,WAAW,CAAC,CAACmD,GAAG,CAACC,KAAK,CAAC,CAACwC,YAAY,EAAE,CAACvH,SAAS;QAAA,IAAA6hB,MAAA,GAAA9jB,mIAAA,CAAC,WAAO+jB,eAAmB,EAAI;UAC3HxY,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEuY,eAAe,CAAC;UAC/CF,OAAI,CAACG,WAAW,GAAGD,eAAe;UAClCF,OAAI,CAACI,WAAW,GAAGJ,OAAI,CAACG,WAAW,CAACE,SAAS;UAC7CL,OAAI,CAACM,SAAS,GAAGN,OAAI,CAACG,WAAW,CAAC5c,MAAM;UACxCyc,OAAI,CAACO,aAAa,GAAGP,OAAI,CAACG,WAAW,CAACK,UAAU,CAACC,QAAQ;UACzD/Y,OAAO,CAACC,GAAG,CAACqY,OAAI,CAACO,aAAa,CAAC;QACjC,CAAC;QAAA,iBAAAG,IAAA;UAAA,OAAAT,MAAA,CAAA1a,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC;MACF;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IAAA;EACF;;;;;;;;;;;;;;;;;;;;;;;;;UA/6GCrN,qDAAS;IAAAwoB,IAAA,GAACloB,8DAAiB;EAAA;;AADjBtB,WAAW,GAAAK,kDAAA,EANvBU,yDAAS,CAAC;EACT0oB,QAAQ,EAAE,aAAa;EACvBC,QAAA,EAAAC,0DAAgC;EAEhCC,aAAa,EAAE3oB,kEAAsB;;CACtC,CAAC,GACWjB,WAAW,CAi7GvB;;;;;;;;;;;AC5/GD;AACA,4CAA4C,mBAAO,CAAC,wEAA6D;AACjH,kCAAkC,mBAAO,CAAC,iEAAsD;AAChG;AACA;AACA,iDAAiD,kEAAkE;AACnH;AACA","sources":["./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.module.ts","./src/app/profile/profile.page.ts","./src/app/profile/profile.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfilePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProfilePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProfilePageRoutingModule } from './profile-routing.module';\r\n\r\nimport { ProfilePage } from './profile.page';\r\nimport { SwiperModule } from 'swiper/angular';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ProfilePageRoutingModule,\r\n    SwiperModule\r\n  ],\r\n  declarations: [ProfilePage]\r\n})\r\nexport class ProfilePageModule {}\r\n","import { Component, OnInit, ViewChild, ViewEncapsulation, OnDestroy } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Camera, CameraResultType, CameraSource } from \"@capacitor/camera\";\r\nimport {\r\n  AlertController,\r\n  LoadingController,\r\n  ToastController,\r\n} from \"@ionic/angular\";\r\nimport { IonInfiniteScroll } from \"@ionic/angular\";\r\nimport SwiperCore, {\r\n  Autoplay,\r\n  Keyboard,\r\n  Pagination,\r\n  Scrollbar,\r\n  Zoom,\r\n  EffectFade,\r\n} from \"swiper\";\r\nimport { IonicSlides } from \"@ionic/angular\";\r\nSwiperCore.use([\r\n  Autoplay,\r\n  Keyboard,\r\n  Pagination,\r\n  Scrollbar,\r\n  Zoom,\r\n  IonicSlides,\r\n  EffectFade,\r\n]);\r\n\r\nimport { SendData } from \"../send-data\";\r\nconst Tx = require(\"ethereumjs-tx\").Transaction;\r\nimport { interval, Subscription } from \"rxjs\";\r\nimport { Location } from \"@angular/common\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { DatePipe } from \"@angular/common\";\r\n\r\n// AngularFire\r\nimport { AngularFirestore } from \"@angular/fire/compat/firestore\";\r\nimport { AngularFireAuth } from \"@angular/fire/compat/auth\";\r\nimport firebase from \"firebase/compat/app\";\r\n\r\n// Services\r\nimport { AuthService } from \"../services/auth.service\";\r\nimport { ProviderService } from \"../provider.service\";\r\n\r\n// Web3\r\nimport Web3 from \"web3\";\r\nimport Web3Modal from \"web3modal\";\r\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\r\n\r\nconst providerOptions = {\r\n  walletconnect: {\r\n    package: WalletConnectProvider,\r\n    options: {\r\n      network: \"binance\",\r\n      infuraId: \"46a670cff8894b729ea30027244e4641\",\r\n      rpc: {\r\n        56: \"https://oragonbsc.io/weboragonbsc/kelolaisi/api\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nconst web3Modal = new Web3Modal({\r\n  network: \"mainnet\", // optional\r\n  cacheProvider: true, // optional\r\n  providerOptions, // required\r\n});\r\n\r\n@Component({\r\n  selector: \"app-profile\",\r\n  templateUrl: \"profile.page.html\",\r\n  styleUrls: [\"profile.page.scss\"],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class ProfilePage implements OnInit {\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n  private slides: any;\r\n  // object\r\n    profile = null;\r\n    ipAddress = \"\";\r\n    isLogin: any;\r\n    percentRoyalty: any;\r\n    valueRoyalty: any;\r\n    // AGM\r\n    latitude!: number;\r\n    longitude!: number;\r\n    zoom!: number;\r\n\r\n  // WEB3\r\n    states: string = \"\";\r\n    wallet: string = \"\";\r\n    wallets: string = \"\";\r\n    username: string = \"\";\r\n    email: string = \"\";\r\n    points : any;\r\n    price: any = \"\";\r\n    fee: any = \"\";\r\n    item_name: any = \"\";\r\n    state_buy: any = \"\";\r\n    connect: any;\r\n    kind: any = \"\";\r\n    bnb_balance: any = \"...\";\r\n    oragon_balance_display: any = \"...\";\r\n    oragon_balance: any = \"\";\r\n    oragon_balance2: any = \"\";\r\n    in_dollar: any = \"...\";\r\n    price_display: any = \"\";\r\n    fee_display: any = \"\";\r\n    status_1: any = \"0\";\r\n    status_2: any = \"0\";\r\n    count_roulette: any;\r\n    used: any;\r\n    in_oragon_100c: any;\r\n    in_oragon_12c: any;\r\n    in_oragon10: any;\r\n    in_oragon1: any;\r\n    in_oragon102: any;\r\n    in_oragon12: any;\r\n    in_oragon12c: any;\r\n    in_oragon102c: any;\r\n    latesttenOragon: any;\r\n    latestoneOragon: any;\r\n    balanceORGNPlayers: any;\r\n    balanceBNBPlayers: any;\r\n    balanceBUSDPlayers: any;\r\n\r\n  //WALLET PARAM\r\n    private web3js: any;\r\n    private accounts: any;\r\n    address_to: any;\r\n    amount_to: any;\r\n    provider: any;\r\n    balance1: any;\r\n    balance2: any;\r\n    web3Modal: any;\r\n    tokenInst: any;\r\n    web3provider: any;\r\n    check: any;\r\n    datas_oragon: any;\r\n    current_oragon: any;\r\n    current_bnb: any;\r\n    payment_count = 0;\r\n    tokenABI = [\r\n      // balanceOf\r\n      {\r\n        constant: true,\r\n        inputs: [{ name: \"_owner\", type: \"address\" }],\r\n        name: \"balanceOf\",\r\n        outputs: [{ name: \"balance\", type: \"uint256\" }],\r\n        type: \"function\",\r\n      },\r\n      // transfer\r\n      {\r\n        constant: false,\r\n        inputs: [\r\n          {\r\n            name: \"_to\",\r\n            type: \"address\",\r\n          },\r\n          {\r\n            name: \"_value\",\r\n            type: \"uint256\",\r\n          },\r\n        ],\r\n        name: \"transfer\",\r\n        outputs: [\r\n          {\r\n            name: \"\",\r\n            type: \"bool\",\r\n          },\r\n        ],\r\n        type: \"function\",\r\n      },\r\n    ];\r\n\r\n  // MAIN\r\n    subscription: Subscription;\r\n\r\n    status_direct_buy: any = \"1\";\r\n    stateHash: any;\r\n    localStorage: any;\r\n    parse_localStorage: any;\r\n    globalID: any;\r\n    current_bnb_wei: any;\r\n\r\n    carts: any;\r\n    cartID: any;\r\n    cartUID: any;\r\n    cartCount: any;\r\n    cartNull: any;\r\n    cartNotNull: any;\r\n    cartName: any;\r\n    cartDeskripsi: any;\r\n    cartQty: any;\r\n    cartPrice: any;\r\n    cartImg: any;\r\n    cartPriceBNB: any;\r\n    uidegg: any;\r\n    uidbattery: any;\r\n    uidfood: any;\r\n    storecart: any;\r\n\r\n    dragons: any;\r\n    dragonsdate: any;\r\n    dragonsowned: any;\r\n    dragonsownedbg: any;\r\n    hargaEgg: any;\r\n    eggLowest: any;\r\n    atozEgg: any;\r\n    currentp2p: any;\r\n    currentp2powned: any;\r\n    dragonDetail: any;\r\n    marketp2pdragonDocId: any;\r\n    marketp2pdragonID: any;\r\n    marketp2pdragonImg: any;\r\n    marketp2pdragonAttack: any;\r\n    marketp2pdragonDefense: any;\r\n    marketp2pdragonLevel: any;\r\n    marketp2pdragonHP: any;\r\n    marketp2pdragonHunger : any;\r\n    marketp2pdragonMaxHP : any;\r\n    marketp2pdragonMaxHunger : any;\r\n    marketp2pdragonRarity: any;\r\n    marketp2pdragonExp: any;\r\n    marketp2pdragonprice: any;\r\n    marketp2pdragonpriceUSD: any;\r\n    marketp2pdragonpriceBNB: any;\r\n    marketp2pdragonowner: any;\r\n    marketp2pdragonFee: any;\r\n    marketp2pdragonDate: any;\r\n    marketp2pdragonBG: any;\r\n    marketp2pdragonIdBG: any;\r\n    marketp2pdragonImgBG: any;\r\n    marketp2pdragonfavorited: any;\r\n    marketp2pdragonRoyalty: any;\r\n    priceRoyalty_display: any;\r\n    fee_royalty: any;\r\n    current_data: any;\r\n    owner_address: any;\r\n    sortdragons: any;\r\n    sortdragonsowned: any;\r\n    timeSell: any;\r\n\r\n    sortp2pmarket: any;\r\n    dragonsHigh: any;\r\n    dragonsLow: any;\r\n    dragonsAtoZ: any;\r\n    marketp2pdragonLength: any;\r\n\r\n    eggsHigh: any;\r\n    eggsLow: any;\r\n    eggsHAtoZ: any;\r\n    eggDetail: any;\r\n    marketp2peggLength: any;\r\n    marketp2peggDocId: any;\r\n    marketp2peggID: any;\r\n    marketp2peggImg: any;\r\n    marketp2peggprice: any;\r\n    marketp2peggpriceUSD: any;\r\n    marketp2peggowner: any;\r\n    marketp2peggFee: any;\r\n    marketp2peggDate: any;\r\n    sorteggs: any;\r\n    sorteggsowned: any;\r\n\r\n    batteriesHigh: any;\r\n    batteriesLow: any;\r\n    batteriesHAtoZ: any;\r\n    batteryDetail: any;\r\n    marketp2pbatteryLength: any;\r\n    marketp2pbatteryDocId: any;\r\n    marketp2pbatteryID: any;\r\n    marketp2pbatteryImg: any;\r\n    marketp2pbatteryprice: any;\r\n    marketp2pbatterypriceUSD: any;\r\n    marketp2pbatteryowner: any;\r\n    marketp2pbatteryFee: any;\r\n    marketp2pbatteryDate: any;\r\n    sortbatteriesowned: any;\r\n\r\n    foodsHigh: any;\r\n    foodLow: any;\r\n    foodHAtoZ: any;\r\n    foodDetail: any;\r\n    marketp2pfoodLength: any;\r\n    marketp2pfoodOID: any;\r\n    marketp2pfoodID: any;\r\n    marketp2pfoodImg: any;\r\n    marketp2pfoodprice: any;\r\n    marketp2pfoodpriceUSD: any;\r\n    marketp2pfoodpriceBNB: any;\r\n    marketp2pfoodowner: any;\r\n    marketp2pfoodFee: any;\r\n    marketp2pfoodDate: any;\r\n    btnclickcategory: any;\r\n    sortfoodsowned: any;\r\n    public current_qty: any;\r\n    input_stock: any;\r\n    getSellfood: any;\r\n    iditemssellFood: any;\r\n\r\n    input_price: any;\r\n    rangeValue: any;\r\n    selectedBid: any;\r\n    latest_date: any;\r\n    timeBID: any;\r\n    royalties: any;\r\n    positionRoyalty: any;\r\n    marketp2pdragonRoyalty2: any;\r\n    marketp2pdragonRoyalty3: any;\r\n    marketp2pdragonRoyalty4: any;\r\n    marketp2pdragonRoyalty5: any;\r\n\r\n    trxhistory: any;\r\n    pointhistory : any;\r\n    pointhistoryall : any;\r\n    pointhistorybyid : any;\r\n    sessionPointHistory : any;\r\n    dataNotif: any;\r\n    notificationBid: any;\r\n    statusCheckNew : any;\r\n    sortbatteriesownedLength : any;\r\n    usedBattery : any;\r\n    usedEgg : any;\r\n    timeIncubator : any;\r\n    hatching : any;\r\n    countdown : any;\r\n    days : any;\r\n    hours : any;\r\n    minutes : any;\r\n    seconds : any;\r\n    hatchingDataEgg : any;\r\n    hatchingDataBattery : any;\r\n\r\n    hoursServer = 0;\r\n    minutesServer = 0;\r\n    secondsServer = 0;\r\n    isRunning = false;\r\n    timerId = 0;\r\n    sortbatteriesownedIncubator : any;\r\n\r\n    jaketsHigh : any;\r\n    lastseen : any;\r\n    sortfashion : any;\r\n    jakets : any;\r\n    fashionjaketsLength : any;\r\n    fashioncommonjaketsLength : any;\r\n    commonjakets : any;\r\n    detailJaket : any;\r\n    qrcodeJaket : any;\r\n    nameJaket : any;\r\n    ClaimmedJaket : any;\r\n    scanned: boolean = false;\r\n    marketp2pdragonsellLength: any;\r\n    marketp2peggsellLength: any;\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private loadingController: LoadingController,\r\n    private alertController: AlertController,\r\n    private toastCtrl: ToastController,\r\n    private fs: AngularFirestore,\r\n    private fs2: AngularFirestore,\r\n    private http: HttpClient,\r\n    public global: ProviderService,\r\n    public senddata: SendData,\r\n    public datepipe: DatePipe\r\n  ) {\r\n    this.subscription = new Subscription();\r\n  }\r\n\r\n  setSwiperInstance(swiper: any) {\r\n    this.slides = swiper;\r\n  }\r\n\r\n  async logout() {\r\n    await this.authService.logout();\r\n    window.location.replace(\"/login\");\r\n  }\r\n\r\n  async login() {\r\n    // await this.authService.logout();\r\n    this.router.navigateByUrl(\"/login\", { replaceUrl: true });\r\n  }\r\n\r\n  async p2pmarket() {\r\n    // await this.authService.logout();\r\n    this.router.navigateByUrl(\"/tabs/p2pmarket\", { replaceUrl: true });\r\n  }\r\n\r\n  async doInfinite(infiniteScroll) {\r\n    // console.log(\"Begin async operation\");\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n\r\n    setTimeout(() => {\r\n      for (let i = 0; i < 12; i++) {\r\n        this.dragons.push(this.dragons[i]);\r\n      }\r\n      loading.dismiss();\r\n      // console.log(\"Async operation has ended\");\r\n      infiniteScroll.target.complete();\r\n    }, 6);\r\n  }\r\n\r\n  toggleInfiniteScroll() {\r\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\r\n  }\r\n\r\n  // FCT-Refresh\r\n  async doRefresh(event) {}\r\n\r\n  // FCT-Root\r\n  async ngOnInit() {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n\r\n    this.connect = false;\r\n    this.setCurrentLocation();\r\n    this.status_direct_buy = 1;\r\n    this.senddata.getcurrentoragon2().subscribe(\r\n      (data: any) => {\r\n        this.current_oragon = data.data.price;\r\n        var Web3 = require(\"web3\");\r\n        // Gatcha 10X\r\n        let currTen = (100 / this.current_oragon).toFixed();\r\n        this.latesttenOragon = (Web3.utils.fromWei(currTen, \"wei\") * 1)\r\n          .toFixed(2)\r\n          .replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\");\r\n        // Gatcha 1X\r\n        let currOne = (12 / this.current_oragon).toFixed();\r\n        this.latestoneOragon = (Web3.utils.fromWei(currOne, \"wei\") * 1)\r\n          .toFixed(2)\r\n          .replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\");\r\n        // console.log(this.latestoneOragon);\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    this.senddata.getcurrentbnb().subscribe((data:any) => {\r\n        this.current_bnb = data.data.price_BNB\r\n        // console.log(this.current_bnb)\r\n      },(error:any) => {\r\n    })\r\n\r\n    this.senddata.getcurrentbusd().subscribe((data:any) => {\r\n        this.current_bnb = data.data.price_BNB\r\n        // console.log(this.current_bnb)\r\n      },(error:any) => {\r\n    })\r\n\r\n    this.isLogin = localStorage.getItem('isLogin');\r\n    this.localStorage = localStorage.getItem('ProfileData');\r\n    this.parse_localStorage = JSON.parse(this.localStorage);\r\n    if(this.localStorage == undefined) {\r\n      this.isLogin = '!';\r\n    } else {\r\n      this.isLogin = '';\r\n      this.wallets = this.parse_localStorage.WalletAddress;\r\n      this.username = this.parse_localStorage.PlayerName;\r\n      this.globalID = this.parse_localStorage.Uid;\r\n      this.email = this.parse_localStorage.Email;\r\n\r\n      if(this.globalID == \"iXo9SC6D93OS8FXNnWeWEDjVXvc2\") {\r\n        this.connect = false;\r\n        this.stateHash = false;\r\n      } else {\r\n        this.connect = true;\r\n        this.stateHash = true;\r\n        this.state_buy = 2;\r\n        this.status_direct_buy = 2;\r\n      }\r\n\r\n      this.senddata.balancePlayers(this.wallets).subscribe((dataB:any) => {\r\n          var Web3 = require('web3');\r\n          this.balanceORGNPlayers = (Web3.utils.fromWei(dataB.result, 'gwei')*1).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n          // console.log(\"balanceORGNPlayers\", this.balanceORGNPlayers);\r\n      },(error:any) => {});\r\n\r\n      this.senddata.balanceBNBPlayers(this.wallets).subscribe((dataB:any) => {\r\n          var Web3 = require('web3');\r\n          this.balanceBNBPlayers = (Web3.utils.fromWei(dataB.result, 'ether')*1).toFixed(3).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n          // console.log(\"balanceBNBPlayers\", this.balanceBNBPlayers);\r\n          \r\n          this.valueRoyalty = this.balanceBNBPlayers / 100 * 100;\r\n          this.percentRoyalty = this.balanceBNBPlayers * 100;\r\n          if(this.valueRoyalty == 1) {\r\n            localStorage.setItem('wd', '1');\r\n            let wd = localStorage.getItem('wd');\r\n            if(wd == '1') {\r\n              this.alertWithdraw();\r\n              return wd;\r\n            }\r\n            return this.valueRoyalty;\r\n          }\r\n\r\n      },(error:any) => {});\r\n\r\n      this.senddata.balanceBUSDPlayers(this.wallets).subscribe((dataB:any) => {\r\n          var Web3 = require('web3');\r\n          this.balanceBUSDPlayers = (Web3.utils.fromWei(dataB.result, 'ether')*1).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n          // console.log(\"balanceBUSDPlayers\", this.balanceBUSDPlayers);\r\n      },(error:any) => {});\r\n\r\n      this.checknotificationBid();\r\n      // this.notificationBid = setInterval(async () => {\r\n        // this.checknotificationBid();\r\n      // }, 3000);\r\n      this.checknewdragon();\r\n      this.checknewegg();\r\n      this.checknewfood();\r\n      this.checknewbattery();\r\n      this.checknewbattery12();\r\n      this.insertNewBattery8mp();\r\n      this.checknewpoint();\r\n      this.getcountRolling();\r\n    }\r\n\r\n    this.stateHash = false;\r\n\r\n    this.currentp2p = 0;\r\n    this.currentp2powned = 10;\r\n    this.sortp2pmarket = 1;\r\n    // console.log(\"category p2p\", this.currentp2p);\r\n    // console.log(\"sort p2p\", this.sortp2pmarket);\r\n\r\n    // const source = interval(2000);\r\n    // this.subscription = source.subscribe(() => this.checkonsale());\r\n\r\n    this.lastseen = \"jakets\";\r\n    this.sortfashion = 1;\r\n    localStorage.setItem(\"lastseenfashion\", \"jakets\");\r\n    // console.log(\"category p2p\", this.currentp2p);\r\n    // console.log(\"sort p2p\", this.sortp2pmarket);\r\n    this.senddata.getselljaketsUserownedmp(this.globalID).subscribe(\r\n      (dataSell: any) => {\r\n        this.jakets = JSON.parse(dataSell);\r\n        this.fashionjaketsLength = dataSell.length;\r\n        // console.log(this.jakets)\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    this.senddata.getsellcommonjaketsownedmp(this.globalID).subscribe(\r\n      (dataSell: any) => {\r\n        this.commonjakets = JSON.parse(dataSell);\r\n        this.fashioncommonjaketsLength = dataSell.length;\r\n        // console.log(this.commonjakets)\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    this.senddata.getselldgUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.dragonsHigh = JSON.parse(dataSell);\r\n          this.marketp2pdragonsellLength = this.dragonsHigh.length;\r\n          // console.log(this.dragons)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    \r\n    this.senddata.getselleggUsermp(this.globalID).subscribe(\r\n      (dataSell: any) => {\r\n        this.eggsHigh = JSON.parse(dataSell);\r\n        this.marketp2peggsellLength = this.eggsHigh.length;\r\n        // console.log(this.eggsHigh)\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n      (dataSell: any) => {\r\n        this.eggsHigh = JSON.parse(dataSell);\r\n        this.marketp2peggLength = this.eggsHigh.length;\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n      (dataSell: any) => {\r\n        this.batteriesHigh = JSON.parse(dataSell);\r\n        this.marketp2pbatteryLength = this.batteriesHigh.length;\r\n        if(this.marketp2pbatteryLength == 0) {\r\n          this.fs.collection('Items/'+ this.globalID + '/Batteries').doc(this.batteriesHigh.DocId).set({\r\n            Amount: 0,\r\n            Id: this.batteriesHigh.DocId,\r\n            ItemId: this.batteriesHigh.ItemId,\r\n          }).then(() => {});\r\n        }\r\n        // console.log(this.batteriesHigh)\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    this.senddata.getsellfoodUsermp(this.globalID).subscribe(\r\n      (dataSell: any) => {\r\n        this.foodsHigh = JSON.parse(dataSell);\r\n        this.marketp2pfoodLength = this.foodsHigh.lengthFood;\r\n        if(this.marketp2pfoodLength == 0) {\r\n          this.fs.collection('Items/'+ this.globalID + '/Foods').doc(this.foodsHigh.DocId).set({\r\n            Amount: 0,\r\n            Id: this.foodsHigh.DocId,\r\n            ItemId: this.foodsHigh.ItemId,\r\n            Used: 0\r\n          }).then(() => {});\r\n        }\r\n        // console.log(\"marketp2pfoodLength\", this.marketp2pfoodLength);\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    this.senddata.getroyaltiesUsermp(this.globalID).subscribe(\r\n      (dataSell: any) => {\r\n        let royalties = JSON.parse(dataSell);\r\n        this.royalties = royalties;\r\n        if (this.royalties.length == 0) {\r\n          this.percentRoyalty = 0;\r\n          this.valueRoyalty = 0;\r\n        } else {\r\n          // console.log(\"royaties data: \", this.royalties);\r\n          for (let i in this.royalties) {\r\n            this.valueRoyalty = (this.royalties[i].amount / 100) * 100;\r\n            this.percentRoyalty = this.valueRoyalty * 100;\r\n            if (this.valueRoyalty == 1) {\r\n              localStorage.setItem(\"wd\", \"1\");\r\n              let wd = localStorage.getItem(\"wd\");\r\n              if (wd == \"1\") {\r\n                // this.alertWithdraw();\r\n                return wd;\r\n              }\r\n              return this.valueRoyalty;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    this.selectedBid = \"Select type BID\";\r\n    this.rangeValue = 1;\r\n    loading.dismiss();\r\n  }\r\n\r\n  checknotificationBid() {\r\n    this.senddata\r\n      .getNotificationBidmp(this.globalID)\r\n      .subscribe(async (dataNotif: any) => {\r\n        this.dataNotif = JSON.parse(dataNotif);\r\n        for (let i in this.dataNotif) {\r\n          // console.log(\"dataNotif\", this.dataNotif[i].idBid);\r\n          const toast2 = await this.toastCtrl.create({\r\n            header: \"You have notifications\",\r\n            message:\r\n              this.dataNotif[i].username +\r\n              \" has place bid in \" +\r\n              this.dataNotif[i].priceBid +\r\n              \" BNB\",\r\n            icon: \"information-circle\",\r\n            position: \"top\",\r\n            color: \"success\",\r\n            buttons: [\r\n              {\r\n                text: \"Close\",\r\n                role: \"cancel\",\r\n                handler: () => {\r\n                  this.senddata\r\n                    .readNotificationBidmp(this.dataNotif[i].idBid)\r\n                    .subscribe(async (dataRead: any) => {\r\n                      // console.log(dataRead, \"notifications readed\");\r\n                    });\r\n                },\r\n              },\r\n            ],\r\n          });\r\n          await toast2.present();\r\n          this.senddata.getNotificationBidmp(this.globalID);\r\n          const { role } = await toast2.onDidDismiss();\r\n        }\r\n      });\r\n  }\r\n\r\n  getcountRolling(){\r\n    this.fs.collection(\"Roulette\").doc(this.globalID).valueChanges().subscribe((datas : any) => {\r\n      if(datas == undefined) {\r\n        this.fs.collection('Roulette').doc(this.globalID).set({Count: 0, Used: 0}).then(() => {});\r\n      } else {\r\n        let test = datas.Count;\r\n        this.count_roulette = datas.Count;\r\n        this.used = datas.Used;\r\n        // console.log(\"this.count_roulette\", this.count_roulette);\r\n      }\r\n    })\r\n  }\r\n\r\n  // FCT-AGM Get Current Location Coordinates\r\n  private setCurrentLocation() {\r\n    if (\"geolocation\" in navigator) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        this.latitude = position.coords.latitude;\r\n        this.longitude = position.coords.longitude;\r\n        this.zoom = 19;\r\n        var Latitude = \"Latitude\";\r\n        var Longtitude = \"Longitude\";\r\n        var js = JSON.stringify({\r\n          Latitude: this.latitude,\r\n          Longtitude: this.longitude,\r\n        });\r\n        localStorage.setItem(\"geoLocation\", js);\r\n        this.http\r\n          .get(\"http://api.ipify.org/?format=json\")\r\n          .subscribe((res: any) => {\r\n            this.ipAddress = res.ip;\r\n            this.senddata\r\n              .setkycuser(this.globalID, this.ipAddress, js)\r\n              .subscribe(\r\n                (data: any) => {},\r\n                (error: any) => {}\r\n              );\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  // FCT-WEB3\r\n  async connectAccount() {\r\n    this.provider = await web3Modal.connect();\r\n    this.getcurrentoragon();\r\n    await this.getPaymentCount();\r\n    this.web3js = new Web3(this.provider); // create web3 instance\r\n    // console.log(this.web3js);\r\n    this.accounts = await this.web3js.eth.getAccounts(console.log);\r\n    this.wallet = this.accounts[0];\r\n\r\n    if (this.wallet == this.wallets) {\r\n      this.tokenInst = new this.web3js.eth.Contract(\r\n        this.tokenABI,\r\n        \"0x88c676fc777c225b69869aeef5d10535de1e4f5d\"\r\n      );\r\n      this.balance1 = await this.tokenInst.methods\r\n        .balanceOf(this.accounts[0])\r\n        .call(console.log);\r\n      this.oragon_balance_display = (\r\n        this.web3js.utils.fromWei(this.balance1, \"gwei\") * 1\r\n      )\r\n        .toFixed(2)\r\n        .replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\");\r\n      this.oragon_balance = this.web3js.utils.fromWei(this.balance1, \"gwei\");\r\n      this.in_dollar = this.oragon_balance * this.current_oragon;\r\n      this.oragon_balance2 = this.balance1;\r\n      this.balance2 = await this.web3js.eth.getBalance(this.accounts[0]);\r\n      this.bnb_balance = this.web3js.utils.fromWei(this.balance2, \"ether\");\r\n      console.log(this.bnb_balance);\r\n\r\n      //if connect\r\n      this.connect = true;\r\n      if (this.payment_count <= 0) {\r\n        this.state_buy = \"2\";\r\n      } else if (this.payment_count > 0) {\r\n        this.state_buy = \"2\";\r\n      }\r\n      this.stateHash = true;\r\n\r\n      // fee gatcha\r\n      this.fee = ((11 / 100) * 100 * 0.0027).toString(); //10X\r\n      let kind = localStorage.getItem(\"kind\");\r\n      if (kind == \"dragon\") {\r\n        // fee p2p market dragon\r\n        this.marketp2pdragonFee = (11 / 100) * this.marketp2pdragonprice;\r\n        let marketp2pdragonprice_actual =\r\n          this.marketp2pdragonprice - this.marketp2pdragonFee;\r\n        this.fee_display = this.marketp2pdragonFee;\r\n        this.price_display = marketp2pdragonprice_actual;\r\n      } else if (kind == \"egg\") {\r\n        // fee p2p market egg\r\n        this.marketp2peggFee = (11 / 100) * this.marketp2peggprice;\r\n        let marketp2peggprice_actual =\r\n          this.marketp2peggprice - this.marketp2peggFee;\r\n        this.fee_display = this.marketp2peggFee;\r\n        this.price_display = marketp2peggprice_actual;\r\n      } else if (kind == \"battery\") {\r\n        // fee p2p market battery\r\n        this.marketp2pbatteryFee = (11 / 100) * this.marketp2pbatteryprice;\r\n        let marketp2pbatteryprice_actual =\r\n          this.marketp2pbatteryprice - this.marketp2pbatteryFee;\r\n        this.fee_display = this.marketp2pbatteryFee;\r\n        this.price_display = marketp2pbatteryprice_actual;\r\n      }\r\n\r\n      const alert = await this.alertController.create({\r\n        header: \"Success\",\r\n        message: \"Connected to Registered Wallet\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n      //if connect\r\n    } else {\r\n      await this.provider.close();\r\n      this.provider = null;\r\n      this.connect = false;\r\n      const alert = await this.alertController.create({\r\n        header: \"Failed!\",\r\n        message: \"Please Use Registered Wallet\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n    }\r\n  }\r\n\r\n  // FCT-Market P2P\r\n  addItemRoulette(uid: any, kind: string, txhash: string) {\r\n    //this.getcountRolling();\r\n    if (kind == \"10\") {\r\n      this.fs\r\n        .collection(\"Roulette\")\r\n        .doc(uid)\r\n        .update({\r\n          Detail: firebase.firestore.FieldValue.arrayUnion(\r\n            JSON.stringify({\r\n              CreatedAt: this.newTime(),\r\n              Count: 10,\r\n              txHash: txhash,\r\n            })\r\n          ),\r\n        })\r\n        .then(() => {\r\n          //this.fs.collection('Roulette').doc(uid).set({LastUpdated:this.newTime()})\r\n          this.fs\r\n            .collection(\"Roulette\")\r\n            .doc(uid)\r\n            .update({ Count: firebase.firestore.FieldValue.increment(10) });\r\n          this.openDialog(\"Transaction Success, 10 Roulette Added\");\r\n        })\r\n        .catch((error: any) => {\r\n          // The document probably doesn't exist.\r\n          this.fs\r\n            .collection(\"Roulette\")\r\n            .doc(uid)\r\n            .set({ LastUpdated: this.newTime() });\r\n          this.fs.collection(\"Roulette\").doc(uid).update({ Count: 10 });\r\n          this.fs.collection(\"Roulette\").doc(uid).update({ Used: 0 });\r\n          this.fs\r\n            .collection(\"Roulette\")\r\n            .doc(uid)\r\n            .update({\r\n              Detail: firebase.firestore.FieldValue.arrayUnion(\r\n                JSON.stringify({\r\n                  CreatedAt: this.newTime(),\r\n                  Count: 10,\r\n                  txHash: txhash,\r\n                })\r\n              ),\r\n            });\r\n          this.openDialog(\"Transaction Success, 10 Roulette Added\");\r\n        });\r\n    } else if (kind == \"1\") {\r\n      this.fs\r\n        .collection(\"Roulette\")\r\n        .doc(uid)\r\n        .update({\r\n          Detail: firebase.firestore.FieldValue.arrayUnion(\r\n            JSON.stringify({\r\n              CreatedAt: this.newTime(),\r\n              Count: 1,\r\n              txHash: txhash,\r\n            })\r\n          ),\r\n        })\r\n        .then(() => {\r\n          //this.fs.collection('Roulette').doc(uid).set({LastUpdated:this.newTime()})\r\n          this.fs\r\n            .collection(\"Roulette\")\r\n            .doc(uid)\r\n            .update({ Count: firebase.firestore.FieldValue.increment(1) });\r\n          this.openDialog(\"Transaction Success, 1 Roulette Added\");\r\n        })\r\n        .catch((error: any) => {\r\n          // The document probably doesn't exist.\r\n          this.fs\r\n            .collection(\"Roulette\")\r\n            .doc(uid)\r\n            .set({ LastUpdated: this.newTime() });\r\n          this.fs.collection(\"Roulette\").doc(uid).update({ Count: 1 });\r\n          this.fs.collection(\"Roulette\").doc(uid).update({ Used: 0 });\r\n          this.fs\r\n            .collection(\"Roulette\")\r\n            .doc(uid)\r\n            .update({\r\n              Detail: firebase.firestore.FieldValue.arrayUnion(\r\n                JSON.stringify({\r\n                  CreatedAt: this.newTime(),\r\n                  Count: 1,\r\n                  txHash: txhash,\r\n                })\r\n              ),\r\n            });\r\n          this.openDialog(\"Transaction Success, 1 Roulette Added\");\r\n          // if(this.count_roulette % 5 == 0 && this.count_roulette != 0){\r\n          //   this.fs.collection('Roulette').doc(uid).update({Count : firebase.firestore.FieldValue.increment(1)});\r\n          // }\r\n        });\r\n    }\r\n  }\r\n\r\n  getPaymentCount() {\r\n    this.fs\r\n      .collection(\"Payment\")\r\n      .doc(this.globalID)\r\n      .valueChanges()\r\n      .subscribe((datas: any) => {\r\n        console.log(datas.Gacha1);\r\n        if (datas != undefined) {\r\n          if (this.kind == \"10\") {\r\n            if (datas.Gacha10 > 0) {\r\n              this.payment_count = datas.Gacha10;\r\n              this.state_buy == \"2\";\r\n            }\r\n          } else if (this.kind == \"1\") {\r\n            if (datas.Gacha1 > 0) {\r\n              this.payment_count = datas.Gacha1;\r\n              this.state_buy == \"2\";\r\n            }\r\n          }\r\n          if (datas.Gacha10 < 0) {\r\n            this.fs\r\n              .collection(\"Payment\")\r\n              .doc(this.globalID)\r\n              .update({ Gacha10: 0 });\r\n          }\r\n          if (datas.Gacha1 < 0) {\r\n            this.fs\r\n              .collection(\"Payment\")\r\n              .doc(this.globalID)\r\n              .update({ Gacha1: 0 });\r\n          }\r\n        } else {\r\n          this.fs\r\n            .collection(\"Payment\")\r\n            .doc(this.globalID)\r\n            .set({ LastUpdated: this.newTime() });\r\n          this.fs\r\n            .collection(\"Payment\")\r\n            .doc(this.globalID)\r\n            .update({ Gacha10: 0, Gacha1: 0 })\r\n            .then(() => {});\r\n        }\r\n\r\n        //this.slot_roulette = test\r\n        console.log(datas);\r\n      });\r\n    localStorage.removeItem(\"walletconnect\");\r\n  }\r\n\r\n  getcurrentoragon() {\r\n    this.senddata.getcurrentoragon2().subscribe(\r\n      (data: any) => {\r\n        this.current_oragon = data.data.price;\r\n        this.in_oragon_100c = (100 / this.current_oragon).toFixed(14);\r\n        this.in_oragon_12c = (12 / this.current_oragon).toFixed(14);\r\n        console.log(this.current_oragon)\r\n      },\r\n      (error: any) => {}\r\n    );\r\n  }\r\n\r\n  clickcategory(kind) {\r\n    if (kind == 1) {\r\n      this.currentp2p = 1;\r\n      this.sortp2pmarket = 1;\r\n      console.log(\"category p2p\", this.currentp2p);\r\n      console.log(\"sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getselldgmp().subscribe(\r\n        (dataSell: any) => {\r\n          this.sortdragons = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 2) {\r\n      this.currentp2p = 2;\r\n      this.sortp2pmarket = 4;\r\n      console.log(\"category p2p\", this.currentp2p);\r\n      console.log(\"sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getselleggmp().subscribe(\r\n        (dataSell: any) => {\r\n          this.sorteggs = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 3) {\r\n      this.currentp2p = 3;\r\n      this.senddata.getsellbatterymp().subscribe(\r\n        (dataSell: any) => {\r\n          this.batteriesHigh = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 4) {\r\n      this.currentp2p = 4;\r\n      this.senddata.getsellfoodmp().subscribe(\r\n        (dataSell: any) => {\r\n          this.foodsHigh = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    }\r\n  }\r\n\r\n  clicksortp2pmarket(kind) {\r\n    // ------------------------ Sort DRAGON\r\n    if (kind == 1) {\r\n      this.currentp2p = 0;\r\n      this.sortp2pmarket = 1;\r\n      console.log(\"click category p2p\", this.currentp2p);\r\n      console.log(\"click sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getselldgmp().subscribe(\r\n        (dataSell: any) => {\r\n          this.sortdragons = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 2) {\r\n      this.currentp2p = 1;\r\n      this.sortp2pmarket = 2;\r\n      console.log(\"click category p2p\", this.currentp2p);\r\n      console.log(\"click sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getlowsellhargamp().subscribe(\r\n        (dataSell: any) => {\r\n          this.sortdragons = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 3) {\r\n      this.sortp2pmarket = 3;\r\n      console.log(\"click category p2p\", this.currentp2p);\r\n      console.log(\"click sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getatozsellhargamp().subscribe(\r\n        (dataSell: any) => {\r\n          this.sortdragons = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n      // ------------------------ Sort EGG\r\n    } else if (kind == 4) {\r\n      this.currentp2p = 2;\r\n      this.sortp2pmarket = 4;\r\n      console.log(\"click category p2p\", this.currentp2p);\r\n      console.log(\"click sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getselleggmp().subscribe(\r\n        (dataSell: any) => {\r\n          this.sorteggs = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 5) {\r\n      this.currentp2p = 2;\r\n      this.sortp2pmarket = 5;\r\n      console.log(\"click category p2p\", this.currentp2p);\r\n      console.log(\"click sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getlowselleggmp().subscribe(\r\n        (dataSell: any) => {\r\n          this.sorteggs = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 6) {\r\n      this.currentp2p = 2;\r\n      this.sortp2pmarket = 6;\r\n      console.log(\"click category p2p\", this.currentp2p);\r\n      console.log(\"click sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getatozselleggmp().subscribe(\r\n        (dataSell: any) => {\r\n          this.sorteggs = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n      // ------------------------ Sort BATERRY\r\n    } else if (kind == 7) {\r\n      this.currentp2p = 3;\r\n      this.sortp2pmarket = 7;\r\n      console.log(\"click category p2p\", this.currentp2p);\r\n      console.log(\"click sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getsellbatterymp().subscribe(\r\n        (dataSell: any) => {\r\n          this.sorteggs = dataSell;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    }\r\n  }\r\n\r\n  getdgbuydetail(DocId) {\r\n    let kind = localStorage.setItem(\"kind\", \"dragon\");\r\n    this.checkkind(DocId);\r\n  }\r\n\r\n  geteggbuydetail(DocId) {\r\n    let kind = localStorage.setItem(\"kind\", \"egg\");\r\n    this.checkkindEgg(DocId);\r\n  }\r\n\r\n  getbatterybuydetail(ItemId) {\r\n    let kind = localStorage.setItem(\"kind\", \"battery\");\r\n    this.checkkindBattery(ItemId);\r\n  }\r\n\r\n  checkkind(DocId) {\r\n    let kind = localStorage.getItem(\"kind\");\r\n    if (kind == \"dragon\") {\r\n      this.senddata.getselldgidmp(DocId).subscribe(\r\n        (dataDetail: any) => {\r\n          this.dragonDetail = JSON.parse(dataDetail);\r\n          this.marketp2pdragonDocId = this.dragonDetail.DocId;\r\n          this.marketp2pdragonID = this.dragonDetail.ItemId;\r\n          this.marketp2pdragonImg = this.dragonDetail.Id;\r\n          this.marketp2pdragonAttack = this.dragonDetail.Attack;\r\n          this.marketp2pdragonDefense = this.dragonDetail.Defense;\r\n          this.marketp2pdragonLevel = this.dragonDetail.Level;\r\n          this.marketp2pdragonHP = this.dragonDetail.HP;\r\n          this.marketp2pdragonHunger = this.dragonDetail.Hunger;\r\n          this.marketp2pdragonMaxHP = this.dragonDetail.MaxHP;\r\n          this.marketp2pdragonMaxHunger = this.dragonDetail.MaxHunger;\r\n          this.marketp2pdragonRarity = this.dragonDetail.Rarity;\r\n          this.marketp2pdragonExp = this.dragonDetail.Exp;\r\n          this.marketp2pdragonowner = this.dragonDetail.owner;\r\n          this.marketp2pdragonprice = this.dragonDetail.price;\r\n          let marketp2pdragonpriceUSD =\r\n            this.dragonDetail.price / this.current_bnb;\r\n          this.marketp2pdragonpriceUSD = marketp2pdragonpriceUSD.toFixed(2);\r\n          this.marketp2pdragonBG = this.dragonDetail.imgbackground;\r\n          this.marketp2pdragonImgBG = this.dragonDetail.imgBg;\r\n          this.marketp2pdragonfavorited = this.dragonDetail.favorited;\r\n          console.log(this.marketp2pdragonpriceUSD);\r\n          let input_price = localStorage.getItem(\"input_price\");\r\n          if (this.marketp2pdragonBG == \"exists\") {\r\n            this.senddata.getdgroyaltymp(DocId).subscribe((dataRoyalty) => {\r\n              let dr = dataRoyalty;\r\n              // fee p2p market dragon\r\n              this.marketp2pdragonFee = (12 / 100) * Number(input_price);\r\n              let marketp2pdragonprice_actual =\r\n                Number(input_price) - this.marketp2pdragonFee;\r\n              this.fee_display = this.marketp2pdragonFee;\r\n              this.price_display = marketp2pdragonprice_actual;\r\n              this.marketp2pdragonRoyalty = (10 / 100) * Number(input_price);\r\n              let priceRoyalty_display =\r\n                this.price_display - this.marketp2pdragonRoyalty;\r\n              this.priceRoyalty_display = priceRoyalty_display.toFixed(1);\r\n              this.fee_royalty = this.fee_display + this.marketp2pdragonRoyalty;\r\n              this.marketp2pdragonRoyalty2 =\r\n                (10 / 100) * this.marketp2pdragonRoyalty;\r\n              this.marketp2pdragonRoyalty3 =\r\n                (10 / 100) * this.marketp2pdragonRoyalty2;\r\n              this.marketp2pdragonRoyalty4 =\r\n                (10 / 100) * this.marketp2pdragonRoyalty3;\r\n              this.marketp2pdragonRoyalty5 =\r\n                (10 / 100) * this.marketp2pdragonRoyalty4;\r\n\r\n              if (dr == 1) {\r\n                this.positionRoyalty = 1;\r\n                // console.log(\"first position\");\r\n                // console.log(\"royalti untuk pos 1\", this.marketp2pdragonRoyalty);\r\n              } else if (dr == 2) {\r\n                this.positionRoyalty = 2;\r\n                // console.log(\"second position\");\r\n                // console.log(\r\n                //   \"royalti untuk pos 1\",\r\n                //   this.marketp2pdragonRoyalty - this.marketp2pdragonRoyalty2\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 2\",\r\n                //   this.marketp2pdragonRoyalty2\r\n                // );\r\n              } else if (dr == 3) {\r\n                this.positionRoyalty = 3;\r\n                // console.log(\"third position\");\r\n                // console.log(\r\n                //   \"royalti untuk pos 1\",\r\n                //   this.marketp2pdragonRoyalty -\r\n                //     this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 2\",\r\n                //   this.marketp2pdragonRoyalty2 - this.marketp2pdragonRoyalty3\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 3\",\r\n                //   this.marketp2pdragonRoyalty3\r\n                // );\r\n              } else if (dr == 4) {\r\n                this.positionRoyalty = 4;\r\n                // console.log(\"fourth position\");\r\n                // console.log(\r\n                //   \"royalti untuk pos 1\",\r\n                //   this.marketp2pdragonRoyalty -\r\n                //     this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 2\",\r\n                //   this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 3\",\r\n                //   this.marketp2pdragonRoyalty3 - this.marketp2pdragonRoyalty4\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 4\",\r\n                //   this.marketp2pdragonRoyalty4\r\n                // );\r\n              } else if (dr == 5) {\r\n                this.positionRoyalty = 5;\r\n                // console.log(\"fifth position\");\r\n                // console.log(\r\n                //   \"royalti untuk pos 1\",\r\n                //   this.marketp2pdragonRoyalty -\r\n                //     this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4 -\r\n                //     this.marketp2pdragonRoyalty5\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 2\",\r\n                //   this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4 -\r\n                //     this.marketp2pdragonRoyalty5\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 3\",\r\n                //   this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4 -\r\n                //     this.marketp2pdragonRoyalty5\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 4\",\r\n                //   this.marketp2pdragonRoyalty4 - this.marketp2pdragonRoyalty5\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 5\",\r\n                //   this.marketp2pdragonRoyalty5\r\n                // );\r\n              } else {\r\n                // console.log(\"unknown position\");\r\n              }\r\n\r\n              // console.log(\"royalti pos 1\", this.marketp2pdragonRoyalty);\r\n              // console.log(\"royalti pos 2\", this.marketp2pdragonRoyalty2);\r\n              // console.log(\"royalti pos 3\", this.marketp2pdragonRoyalty3);\r\n              // console.log(\"royalti pos 4\", this.marketp2pdragonRoyalty4);\r\n              // console.log(\"royalti pos 5\", this.marketp2pdragonRoyalty5);\r\n            });\r\n          } else {\r\n            this.senddata.getdgroyaltymp(DocId).subscribe((dataRoyalty) => {\r\n              let dr = dataRoyalty;\r\n              // fee p2p market dragon\r\n              this.marketp2pdragonFee = (12 / 100) * Number(input_price);\r\n              let marketp2pdragonprice_actual =\r\n                Number(input_price) - this.marketp2pdragonFee;\r\n              this.fee_display = this.marketp2pdragonFee;\r\n              this.price_display = marketp2pdragonprice_actual;\r\n              this.marketp2pdragonRoyalty = (10 / 100) * Number(input_price);\r\n              let priceRoyalty_display =\r\n                this.price_display - this.marketp2pdragonRoyalty;\r\n              this.priceRoyalty_display = priceRoyalty_display.toFixed(1);\r\n              this.fee_royalty = this.fee_display + this.marketp2pdragonRoyalty;\r\n              this.marketp2pdragonRoyalty2 =\r\n                (10 / 100) * this.marketp2pdragonRoyalty;\r\n              this.marketp2pdragonRoyalty3 =\r\n                (10 / 100) * this.marketp2pdragonRoyalty2;\r\n              this.marketp2pdragonRoyalty4 =\r\n                (10 / 100) * this.marketp2pdragonRoyalty3;\r\n              this.marketp2pdragonRoyalty5 =\r\n                (10 / 100) * this.marketp2pdragonRoyalty4;\r\n\r\n              if (dr == 1) {\r\n                this.positionRoyalty = 1;\r\n                // console.log(\"first position\");\r\n                // console.log(\"royalti untuk pos 1\", this.marketp2pdragonRoyalty);\r\n              } else if (dr == 2) {\r\n                this.positionRoyalty = 2;\r\n                // console.log(\"second position\");\r\n                // console.log(\r\n                //   \"royalti untuk pos 1\",\r\n                //   this.marketp2pdragonRoyalty - this.marketp2pdragonRoyalty2\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 2\",\r\n                //   this.marketp2pdragonRoyalty2\r\n                // );\r\n              } else if (dr == 3) {\r\n                this.positionRoyalty = 3;\r\n                // console.log(\"third position\");\r\n                // console.log(\r\n                //   \"royalti untuk pos 1\",\r\n                //   this.marketp2pdragonRoyalty -\r\n                //     this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 2\",\r\n                //   this.marketp2pdragonRoyalty2 - this.marketp2pdragonRoyalty3\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 3\",\r\n                //   this.marketp2pdragonRoyalty3\r\n                // );\r\n              } else if (dr == 4) {\r\n                this.positionRoyalty = 4;\r\n                // console.log(\"fourth position\");\r\n                // console.log(\r\n                //   \"royalti untuk pos 1\",\r\n                //   this.marketp2pdragonRoyalty -\r\n                //     this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 2\",\r\n                //   this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 3\",\r\n                //   this.marketp2pdragonRoyalty3 - this.marketp2pdragonRoyalty4\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 4\",\r\n                //   this.marketp2pdragonRoyalty4\r\n                // );\r\n              } else if (dr == 5) {\r\n                this.positionRoyalty = 5;\r\n                // console.log(\"fifth position\");\r\n                // console.log(\r\n                //   \"royalti untuk pos 1\",\r\n                //   this.marketp2pdragonRoyalty -\r\n                //     this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4 -\r\n                //     this.marketp2pdragonRoyalty5\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 2\",\r\n                //   this.marketp2pdragonRoyalty2 -\r\n                //     this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4 -\r\n                //     this.marketp2pdragonRoyalty5\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 3\",\r\n                //   this.marketp2pdragonRoyalty3 -\r\n                //     this.marketp2pdragonRoyalty4 -\r\n                //     this.marketp2pdragonRoyalty5\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 4\",\r\n                //   this.marketp2pdragonRoyalty4 - this.marketp2pdragonRoyalty5\r\n                // );\r\n                // console.log(\r\n                //   \"royalti untuk pos 5\",\r\n                //   this.marketp2pdragonRoyalty5\r\n                // );\r\n              } else {\r\n                // console.log(\"unknown position\");\r\n              }\r\n\r\n              // console.log(\"royalti pos 1\", this.marketp2pdragonRoyalty);\r\n              // console.log(\"royalti pos 2\", this.marketp2pdragonRoyalty2);\r\n              // console.log(\"royalti pos 3\", this.marketp2pdragonRoyalty3);\r\n              // console.log(\"royalti pos 4\", this.marketp2pdragonRoyalty4);\r\n              // console.log(\"royalti pos 5\", this.marketp2pdragonRoyalty5);\r\n            });\r\n          }\r\n\r\n          this.senddata.getposroyaltymp(DocId).subscribe((datapos) => {\r\n            // console.log(JSON.parse(datapos))\r\n          });\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == \"food\") {\r\n      this.senddata.getsellfoodUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.sortfoodsowned = JSON.parse(dataSell);\r\n          this.marketp2pfoodOID = this.sortfoodsowned.DocId;\r\n          this.marketp2pfoodLength = this.sortfoodsowned.lengthFood;\r\n          this.marketp2pfoodDate = this.sortfoodsowned.EditAt;\r\n          this.marketp2pfoodowner = this.sortfoodsowned.owner;\r\n          this.marketp2pfoodpriceBNB = 1;\r\n          let marketp2pfoodpriceBNB =\r\n            this.current_bnb * this.marketp2pfoodpriceBNB;\r\n          this.marketp2pfoodpriceBNB = marketp2pfoodpriceBNB.toFixed(2);\r\n          // console.log(this.marketp2pfoodpriceBNB)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    }\r\n  }\r\n\r\n  checkkindEgg(DocId) {\r\n    let kind = localStorage.getItem(\"kind\");\r\n    if (kind == \"egg\") {\r\n      this.senddata.getselleggidmp(DocId).subscribe(\r\n        (dataDetail: any) => {\r\n          this.eggDetail = JSON.parse(dataDetail);\r\n          this.marketp2peggDocId = this.eggDetail.DocId;\r\n          this.marketp2peggID = this.eggDetail.ItemId;\r\n          this.marketp2peggImg = this.eggDetail.Id;\r\n          this.marketp2peggowner = this.eggDetail.owner;\r\n          this.marketp2peggprice = this.eggDetail.price;\r\n          let marketp2peggpriceUSD = this.eggDetail.price / this.current_bnb;\r\n          this.marketp2peggpriceUSD = marketp2peggpriceUSD.toFixed(2);\r\n          // console.log(this.marketp2peggpriceUSD);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    }\r\n  }\r\n\r\n  checkkindBattery(DocId) {\r\n    let kind = localStorage.getItem(\"kind\");\r\n    if (kind == \"battery\") {\r\n      this.senddata.getsellbatteryidmp(DocId).subscribe(\r\n        (dataDetail: any) => {\r\n          this.batteryDetail = JSON.parse(dataDetail);\r\n          this.marketp2pbatteryDocId = this.batteryDetail.DocId;\r\n          this.marketp2pbatteryID = this.batteryDetail.ItemId;\r\n          this.marketp2pbatteryImg = this.batteryDetail.Id;\r\n          this.marketp2pbatteryowner = this.batteryDetail.owner;\r\n          this.marketp2pbatteryprice = this.batteryDetail.price;\r\n          let marketp2pbatterypriceUSD =\r\n            this.batteryDetail.price / this.current_bnb;\r\n          this.marketp2pbatterypriceUSD = marketp2pbatterypriceUSD.toFixed(2);\r\n          // console.log(this.marketp2pbatterypriceUSD);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    }\r\n  }\r\n\r\n  checkitemscreated() {\r\n    this.fs\r\n      .collection(\"Items\")\r\n      .doc(this.globalID)\r\n      .valueChanges()\r\n      .subscribe((datas: any) => {\r\n        // console.log(datas.Count);\r\n        if (datas == undefined) {\r\n          this.fs.collection(\"Items\").doc(this.globalID).set({\r\n            LastUpdated: this.newTime(),\r\n            Dragon: [],\r\n            Egg: [],\r\n            Battery: [],\r\n            Food: [],\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  setdgbuycart() {}\r\n\r\n  // FCT-Profile\r\n  getstorecart() {\r\n    this.senddata.getstorecart(this.globalID).subscribe(\r\n      (data: any) => {\r\n        this.storecart = JSON.parse(data);\r\n        for (let i in this.storecart) {\r\n          // console.log(this.storecart[i].addressw)\r\n          this.cartCount = this.storecart.length;\r\n          this.cartUID = this.globalID;\r\n          this.carts = this.storecart;\r\n          this.cartID = this.storecart[i].id_cart;\r\n          // this.cartName = this.storecart[i].nama\r\n          // this.cartDeskripsi = this.storecart[i].deskripsi\r\n          this.cartPrice = this.storecart[i].harga;\r\n          this.cartQty = this.storecart[i].qty_cart;\r\n          let cartPriceBNB = this.current_bnb * this.cartPrice * this.cartQty;\r\n          this.cartPriceBNB = cartPriceBNB.toFixed(2);\r\n          this.cartImg = this.storecart[i].gambar;\r\n        }\r\n      },\r\n      (error: any) => {}\r\n    );\r\n  }\r\n\r\n  checknewdragon() {\r\n    this.fs.collection(\"Items/\" + this.globalID + \"/Dragons\").valueChanges().subscribe(async (datanewDragon:any) => {\r\n      // console.log(\"datanewDragon\", datanewDragon);\r\n      for(let i in datanewDragon) {\r\n        // console.log(\"datanewDragon\", datanewDragon[i].Id, datanewDragon[i].Attributes.AttackPoint);\r\n        if(datanewDragon[i].Attributes != undefined) {\r\n          this.senddata.insertNewDragonmp(\r\n            this.globalID, \r\n            datanewDragon[i].Id, \r\n            datanewDragon[i].ItemId, \r\n            datanewDragon[i].Attributes.AttackPoint,\r\n            datanewDragon[i].Attributes.DefensePoint,\r\n            datanewDragon[i].Attributes.Exp,\r\n            datanewDragon[i].Attributes.HP,\r\n            datanewDragon[i].Attributes.Hunger,\r\n            datanewDragon[i].Attributes.Level,\r\n            datanewDragon[i].Attributes.MaxHP,\r\n            datanewDragon[i].Attributes.MaxHunger,\r\n            ).subscribe((resp:any) => {\r\n            // console.log(JSON.parse(resp));\r\n            let check = JSON.parse(resp);\r\n            if(check.newest == true) {\r\n              this.senddata.updateNewDataDragonmp(\r\n                this.globalID, \r\n                datanewDragon[i].Id, \r\n                datanewDragon[i].ItemId, \r\n                datanewDragon[i].Attributes.AttackPoint,\r\n                datanewDragon[i].Attributes.DefensePoint,\r\n                datanewDragon[i].Attributes.Exp,\r\n                datanewDragon[i].Attributes.HP,\r\n                datanewDragon[i].Attributes.Hunger,\r\n                datanewDragon[i].Attributes.Level,\r\n                datanewDragon[i].Attributes.MaxHP,\r\n                datanewDragon[i].Attributes.MaxHunger,\r\n                ).subscribe((respUpdate:any) => {\r\n                // console.log(\"respUpdate\", respUpdate);\r\n              });\r\n            }\r\n            this.senddata.getselldgUserownedmp(this.globalID).subscribe(\r\n              (dataSell: any) => {\r\n                this.dragonsowned = JSON.parse(dataSell);\r\n                this.marketp2pdragonID = this.dragonsowned.ItemId;\r\n                this.marketp2pdragonLength = this.dragonsowned.length;\r\n                // console.log(\"from sql\", this.dragonsowned);\r\n                // console.log(\"from fb\", datanewDragon);\r\n                for (let i in this.dragonsowned) {\r\n                  if (\r\n                    this.dragonsowned[i].imgbackground == \"exists\" &&\r\n                    this.dragonsowned[i].statusbayarbackground == \"paid\"\r\n                  ) {\r\n                    this.senddata.getallbackgroundmp(this.globalID).subscribe(\r\n                      (dataSell: any) => {\r\n                        this.dragonsownedbg = JSON.parse(dataSell);\r\n                        this.marketp2pdragonBG = this.dragonsownedbg.imgBg;\r\n                        this.marketp2pdragonIdBG = this.dragonsownedbg.ItemId;\r\n                        // console.log(this.dragonsownedbg)\r\n                      },\r\n                      (error: any) => {}\r\n                    );\r\n                  }\r\n                }\r\n              },\r\n              (error: any) => {}\r\n            );\r\n          });\r\n        } else {\r\n\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  checknewegg() {\r\n    this.fs.collection(\"Items/\" + this.globalID + \"/Eggs\").valueChanges().subscribe(async (datanewEgg:any) => {\r\n      // console.log(\"datanewEgg\", datanewEgg);\r\n      for(let i in datanewEgg) {\r\n        // console.log(\"datanewEgg\", datanewEgg[i].Id, datanewEgg[i].Attributes.AttackPoint);\r\n        this.senddata.getselleggUsermp(this.globalID).subscribe(\r\n          (dataSell: any) => {\r\n            this.sorteggsowned = JSON.parse(dataSell);\r\n            this.senddata.insertNewEggmp(\r\n              this.globalID, \r\n              datanewEgg[i].Id, \r\n              datanewEgg[i].ItemId,\r\n              '', \r\n              'checked',  \r\n              ).subscribe((resp:any) => {\r\n              // console.log(\"inserting data...\", resp);\r\n            });\r\n          },\r\n          (error: any) => {}\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  checknewfood() {\r\n    this.fs.collection(\"Items/\" + this.globalID + \"/Foods\").valueChanges().subscribe(async (datanewFood:any) => {\r\n      // console.log(\"datanewFood\", datanewFood);\r\n      for(let i in datanewFood) {\r\n        // console.log(\"datanewFood\", datanewFood[i].Id, datanewFood[i].Attributes.AttackPoint);\r\n        this.senddata.getsellfoodUsermp(this.globalID).subscribe(\r\n          (dataSell: any) => {\r\n            this.foodsHigh = JSON.parse(dataSell);\r\n            this.marketp2pfoodLength = this.foodsHigh.lengthFood;\r\n            if(this.foodsHigh.lengthFood != datanewFood[i].Amount) {\r\n              // console.log(\"data s not match from f\");\r\n              this.senddata.insertNewFoodmp(\r\n                this.globalID, \r\n                datanewFood[i].Id, \r\n                datanewFood[i].ItemId, \r\n                datanewFood[i].Amount,\r\n                '', \r\n                'checked',  \r\n                ).subscribe((resp:any) => {\r\n                // console.log(\"inserting data...\", resp);\r\n              });\r\n            } else {\r\n              // console.log(\"data s match from f\");\r\n            }\r\n          },\r\n          (error: any) => {}\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  checknewbattery() {\r\n    this.fs.collection(\"Items/\" + this.globalID + \"/Batteries\").valueChanges().subscribe(async (datanewBattery:any) => {\r\n      // console.log(\"datanewBattery\", datanewBattery);\r\n      for(let i in datanewBattery) {\r\n        // console.log(\"datanewBattery\", datanewBattery[i].Id, datanewBattery[i].Attributes.AttackPoint);\r\n        this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n          (dataSell: any) => {\r\n            this.sortbatteriesowned = JSON.parse(dataSell);\r\n            if(this.sortbatteriesowned.length != datanewBattery[i].Amount) {\r\n              // console.log(\"data s not match from f\");\r\n              this.senddata.insertNewBatterymp(\r\n                this.globalID, \r\n                datanewBattery[i].Id, \r\n                datanewBattery[i].ItemId, \r\n                datanewBattery[i].Amount,\r\n                '', \r\n                'checked',  \r\n                ).subscribe((resp:any) => {\r\n                // console.log(\"inserting data...\", resp);\r\n              });\r\n            } else {\r\n              // console.log(\"data s match from f\");\r\n            }\r\n          },\r\n          (error: any) => {}\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  checknewbattery12() {\r\n    this.fs.collection(\"Items/\" + this.globalID + \"/Batteries\").valueChanges().subscribe(async (datanewBattery:any) => {\r\n      // console.log(\"datanewBattery\", datanewBattery);\r\n      for(let i in datanewBattery) {\r\n        // console.log(\"datanewBattery\", datanewBattery[i].Id, datanewBattery[i].Attributes.AttackPoint);\r\n        this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n          (dataSell: any) => {\r\n            this.sortbatteriesowned = JSON.parse(dataSell);\r\n            if(this.sortbatteriesowned.length != datanewBattery[i].Amount) {\r\n              // console.log(\"data s not match from f\");\r\n              this.senddata.insertNewBattery12mp(\r\n                this.globalID, \r\n                datanewBattery[i].Id, \r\n                datanewBattery[i].ItemId, \r\n                datanewBattery[i].Amount,\r\n                '', \r\n                'checked',  \r\n                ).subscribe((resp:any) => {\r\n                // console.log(\"inserting data...\", resp);\r\n              });\r\n            } else {\r\n              // console.log(\"data s match from f\");\r\n            }\r\n          },\r\n          (error: any) => {}\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  insertNewBattery8mp() {\r\n    this.fs.collection(\"Items/\" + this.globalID + \"/Batteries\").valueChanges().subscribe(async (datanewBattery:any) => {\r\n      // console.log(\"datanewBattery\", datanewBattery);\r\n      for(let i in datanewBattery) {\r\n        // console.log(\"datanewBattery\", datanewBattery[i].Id, datanewBattery[i].Attributes.AttackPoint);\r\n        this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n          (dataSell: any) => {\r\n            this.sortbatteriesowned = JSON.parse(dataSell);\r\n            if(this.sortbatteriesowned.length != datanewBattery[i].Amount) {\r\n              // console.log(\"data s not match from f\");\r\n              this.senddata.insertNewBattery8mp(\r\n                this.globalID, \r\n                datanewBattery[i].Id, \r\n                datanewBattery[i].ItemId, \r\n                datanewBattery[i].Amount,\r\n                '', \r\n                'checked',  \r\n                ).subscribe((resp:any) => {\r\n                // console.log(\"inserting data...\", resp);\r\n              });\r\n            } else {\r\n              // console.log(\"data s match from f\");\r\n            }\r\n          },\r\n          (error: any) => {}\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  checknewpoint() {\r\n    this.fs.collection(\"Players\").doc(this.globalID).valueChanges().subscribe(async (datanewPoint:any) => {\r\n      // console.log(\"datanewPoint\", datanewPoint.Point);\r\n      this.points = datanewPoint.Point;\r\n      this.senddata.getpointhistory(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.pointhistory = JSON.parse(dataSell);\r\n          // console.log(\"qtyPoint\", this.pointhistory.qtyPoint);\r\n          if(this.pointhistory.qtyPoint != this.points) {\r\n            // console.log(\"data point s not match from point f\");\r\n            this.senddata.insertNewPointmp(\r\n              this.globalID, \r\n              datanewPoint.Point,              \r\n              'checked', \r\n              ).subscribe((resp:any) => {\r\n              // console.log(\"inserting data...\", resp);\r\n            });\r\n          } else {\r\n            // console.log(\"data point s match from point f\");\r\n          }\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    });\r\n  }\r\n\r\n  tab(kind) {\r\n    // tab-owned\r\n    if (kind == 10) {\r\n      this.currentp2powned = 10;\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getselldgUserownedmp(this.globalID).subscribe(\r\n        async (dataSell: any) => {\r\n          const loading = await this.loadingController.create();\r\n          await loading.present();\r\n          this.dragonsowned = JSON.parse(dataSell);\r\n          this.marketp2pdragonLength = this.dragonsowned.length;\r\n          // console.log(this.dragonsowned)\r\n          for (let i in this.dragonsowned) {\r\n            if (\r\n              this.dragonsowned[i].imgbackground == \"exists\" &&\r\n              this.dragonsowned[i].statusbayarbackground == \"paid\"\r\n            ) {\r\n              this.senddata.getallbackgroundmp(this.globalID).subscribe(\r\n                (dataSell: any) => {\r\n                  this.dragonsownedbg = JSON.parse(dataSell);\r\n                  this.marketp2pdragonBG = this.dragonsownedbg.imgBg;\r\n                  this.marketp2pdragonIdBG = this.dragonsownedbg.ItemId;\r\n                  // console.log(this.dragonsownedbg);\r\n                },\r\n                (error: any) => {}\r\n              );\r\n            }\r\n          }\r\n          loading.dismiss();\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselleggUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.eggsHigh = JSON.parse(dataSell);\r\n          // this.marketp2peggLength = this.eggsHigh.length;\r\n          // console.log(this.eggsHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.eggsHigh = JSON.parse(dataSell);\r\n          this.marketp2peggLength = this.eggsHigh.length;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.batteriesHigh = JSON.parse(dataSell);\r\n          this.marketp2pbatteryLength = this.batteriesHigh.length;\r\n          // console.log(this.batteriesHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellfoodUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.foodsHigh = JSON.parse(dataSell);\r\n          this.marketp2pfoodLength = this.foodsHigh.lengthFood;\r\n          // console.log(\"marketp2pfoodLength\", this.marketp2pfoodLength);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 20) {\r\n      this.currentp2powned = 20;\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getselldgUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.dragonsHigh = JSON.parse(dataSell);\r\n          // console.log(this.dragons)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselleggUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.eggsHigh = JSON.parse(dataSell);\r\n          // this.marketp2peggLength = this.eggsHigh.length;\r\n          // console.log(this.eggsHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellbatterysellUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.batteriesHigh = JSON.parse(dataSell);\r\n          // this.marketp2peggLength = this.eggsHigh.length;\r\n          // console.log(this.eggsHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellfoodUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.foodsHigh = JSON.parse(dataSell);\r\n          this.marketp2pfoodLength = this.foodsHigh.lengthFood;\r\n          // console.log(\"marketp2pfoodLength\", this.marketp2pfoodLength);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 30) {\r\n      this.currentp2powned = 30;\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getselldgUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.dragonsHigh = JSON.parse(dataSell);\r\n          // console.log(this.dragons)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselleggUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.eggsHigh = JSON.parse(dataSell);\r\n          // this.marketp2peggLength = this.eggsHigh.length;\r\n          // console.log(this.eggsHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.batteriesHigh = JSON.parse(dataSell);\r\n          // this.marketp2peggLength = this.eggsHigh.length;\r\n          // console.log(this.eggsHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellfoodUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.foodsHigh = JSON.parse(dataSell);\r\n          this.marketp2pfoodLength = this.foodsHigh.lengthFood;\r\n          // console.log(\"marketp2pfoodLength\", this.marketp2pfoodLength);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 50) {\r\n      this.currentp2powned = 50;\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getroyaltiesUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          let royalties = JSON.parse(dataSell);\r\n          this.royalties = royalties;\r\n          // console.log(\"royaties data: \", this.royalties);\r\n          for (let i in this.royalties) {\r\n            this.valueRoyalty = (this.royalties[i].amount / 100) * 100;\r\n            this.percentRoyalty = this.valueRoyalty * 100;\r\n            if (this.valueRoyalty == 1) {\r\n              localStorage.setItem(\"wd\", \"1\");\r\n              let wd = localStorage.getItem(\"wd\");\r\n              if (wd == \"1\") {\r\n                // this.alertWithdraw();\r\n                return wd;\r\n              }\r\n              return this.valueRoyalty;\r\n            }\r\n          }\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 60) {\r\n      this.currentp2powned = 60;\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.gettrxhistory(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          let trxhistory = JSON.parse(dataSell);\r\n          this.trxhistory = trxhistory;\r\n          // console.log(\"trxhistory data: \", this.trxhistory);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 70) {\r\n      this.currentp2powned = 70;\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n      this.sessionPointHistory = 0;\r\n      this.senddata.getpointhistoryall(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          let pointhistoryall = JSON.parse(dataSell);\r\n          this.pointhistoryall = pointhistoryall;\r\n          // console.log(\"pointhistoryall data: \", this.pointhistoryall);\r\n\r\n          // this.senddata.getpointhistorybyid(this.pointhistoryall.idPoint).subscribe(\r\n          //   (dataSell: any) => {\r\n          //     let pointhistorybyid = JSON.parse(dataSell);\r\n          //     this.pointhistorybyid = pointhistorybyid;\r\n              // console.log(\"pointhistorybyid data: \", this.pointhistorybyid);\r\n          //   },\r\n          //   (error: any) => {}\r\n          // );\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    } else if (kind == 80) {\r\n      this.currentp2powned = 80;\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n    } else if (kind == 'jakets') {\r\n      this.lastseen = \"jakets\";\r\n      this.sortfashion = 1;\r\n      localStorage.setItem(\"lastseenfashion\", \"jakets\");\r\n      // console.log(\"category p2p\", this.currentp2p);\r\n      // console.log(\"sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getselljaketsUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.jakets = JSON.parse(dataSell);\r\n          this.fashionjaketsLength = dataSell.length;\r\n          // console.log(this.jakets)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n      this.senddata.getsellcommonjaketsownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.commonjakets = JSON.parse(dataSell);\r\n          this.fashioncommonjaketsLength = dataSell.length;\r\n          // console.log(this.commonjakets)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    }\r\n  }\r\n\r\n  onQRCodeScanned() {\r\n    // Set the scanned status to true\r\n    this.scanned = true;\r\n    console.log(this.scanned);\r\n  }\r\n\r\n  async clickcategoryowned(kind) {\r\n    if (kind == 11) {\r\n      this.currentp2powned = 11;\r\n      // console.log(\"click category p2p owned\", this.currentp2powned);\r\n\r\n      const loading = await this.loadingController.create();\r\n      await loading.present();\r\n\r\n      this.senddata.getselldgUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.sortdragonsowned = JSON.parse(dataSell);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      loading.dismiss();\r\n    } else if (kind == 20) {\r\n      this.currentp2powned = 20;\r\n      // console.log(\"click category p2p owned\", this.currentp2powned);\r\n\r\n      const loading = await this.loadingController.create();\r\n      await loading.present();\r\n\r\n      this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.sorteggsowned = JSON.parse(dataSell);\r\n          this.fs.collection(\"Players/\" + this.globalID + \"/Incubator\").valueChanges().subscribe(async (dataIncubator:any) => {\r\n            // console.log(\"data Egg Incubator\", dataIncubator[0].EggItemId);\r\n            this.usedEgg = dataIncubator[0].EggItemId;\r\n            this.usedBattery = dataIncubator[0].BatteryItemId;\r\n\r\n            // console.log(\"this item is being used on the incubator\", this.usedEgg, this.usedBattery);\r\n            // console.log(\"incubator started at\", dataIncubator[0].StartedAt.seconds);\r\n            if(dataIncubator[0].IncubatorState == \"Started\") {\r\n              let unix_timestamp = dataIncubator[0].StartedAt.seconds;\r\n              let now = new Date(unix_timestamp * 1000);\r\n              this.latest_date = this.datepipe.transform(now, \"yyyy-MM-dd HH:mm\");\r\n              // console.log(\"date now\", this.latest_date);\r\n\r\n              function addHours(numOfHours, date = new Date()) {\r\n                date.setTime(date.getTime() + numOfHours * 60 * 60 * 1000);\r\n\r\n                return date;\r\n              }\r\n\r\n              //  Add 2 hours to another date\r\n              const date = now;\r\n\r\n              //  Mon Mar 14 2022 11:25:30\r\n              let latest_date = addHours(dataIncubator[0].HatchTime, now);\r\n              this.timeIncubator = this.datepipe.transform(latest_date, \"yyyy-MM-dd HH:mm\");\r\n              // console.log(\"date end incubator\", this.timeIncubator);\r\n              this.senddata.itemseggtoincubatormp(this.usedEgg, this.timeIncubator).subscribe((dataE: any) => {\r\n                // console.log(\"Egg successfully move to incubator status !\", JSON.parse(dataE));\r\n                this.hatchingDataEgg = JSON.parse(dataE);\r\n                this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n                  (dataSell: any) => {\r\n                    this.sorteggsowned = JSON.parse(dataSell);\r\n                  },\r\n                  (error: any) => {}\r\n                );\r\n              });\r\n              this.senddata.itemsbatterytoincubatormp(this.usedBattery, this.timeIncubator).subscribe((dataE: any) => {\r\n                // console.log(\"Battery successfully move to incubator status !\", JSON.parse(dataE));\r\n                this.hatchingDataBattery = JSON.parse(dataE);\r\n                this.senddata.getsellbatteryUserownedmp(this.globalID).subscribe(\r\n                  (dataSell: any) => {\r\n                    this.sortbatteriesownedIncubator = JSON.parse(dataSell);\r\n                  },\r\n                  (error: any) => {}\r\n                );\r\n              });\r\n              this.hatching = true;\r\n            }\r\n          });\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      loading.dismiss();\r\n    } else if (kind == 30) {\r\n      this.currentp2powned = 30;\r\n      // console.log(\"click category p2p owned\", this.currentp2powned);\r\n\r\n      const loading = await this.loadingController.create();\r\n      await loading.present();\r\n\r\n      this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.sortbatteriesowned = JSON.parse(dataSell);\r\n          this.sortbatteriesownedLength = this.sortbatteriesowned.lengthBattery;\r\n          this.fs.collection(\"Players/\" + this.globalID + \"/Incubator\").valueChanges().subscribe(async (dataIncubator:any) => {\r\n            // console.log(\"data Egg Incubator\", dataIncubator[0].EggItemId);\r\n            this.usedEgg = dataIncubator[0].EggItemId;\r\n            this.usedBattery = dataIncubator[0].BatteryItemId;\r\n\r\n            // console.log(\"this item is being used on the incubator\", this.usedEgg, this.usedBattery);\r\n            // console.log(\"incubator started at\", dataIncubator[0].StartedAt.seconds);\r\n            if(dataIncubator[0].IncubatorState == \"Started\") {\r\n              let unix_timestamp = dataIncubator[0].StartedAt.seconds;\r\n              let now = new Date(unix_timestamp * 1000);\r\n              this.latest_date = this.datepipe.transform(now, \"yyyy-MM-dd HH:mm\");\r\n              // console.log(\"date now\", this.latest_date);\r\n\r\n              function addHours(numOfHours, date = new Date()) {\r\n                date.setTime(date.getTime() + numOfHours * 60 * 60 * 1000);\r\n\r\n                return date;\r\n              }\r\n\r\n              //  Add 2 hours to another date\r\n              const date = now;\r\n\r\n              //  Mon Mar 14 2022 11:25:30\r\n              let latest_date = addHours(dataIncubator[0].HatchTime, now);\r\n              this.timeIncubator = this.datepipe.transform(latest_date, \"yyyy-MM-dd HH:mm\");\r\n              // console.log(\"date end incubator\", this.timeIncubator);\r\n              this.senddata.itemseggtoincubatormp(this.usedEgg, this.timeIncubator).subscribe((dataE: any) => {\r\n                // console.log(\"Egg successfully move to incubator status !\", JSON.parse(dataE));\r\n                this.hatchingDataEgg = JSON.parse(dataE);\r\n                this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n                  (dataSell: any) => {\r\n                    this.sorteggsowned = JSON.parse(dataSell);\r\n                  },\r\n                  (error: any) => {}\r\n                );\r\n              });\r\n              this.senddata.itemsbatterytoincubatormp(this.usedBattery, this.timeIncubator).subscribe((dataE: any) => {\r\n                // console.log(\"Battery successfully move to incubator status !\", JSON.parse(dataE));\r\n                this.hatchingDataBattery = JSON.parse(dataE);\r\n                this.senddata.getsellbatteryUserownedmp(this.globalID).subscribe(\r\n                  (dataSell: any) => {\r\n                    this.sortbatteriesownedIncubator = JSON.parse(dataSell);\r\n                  },\r\n                  (error: any) => {}\r\n                );\r\n              });\r\n              this.hatching = true;\r\n            }\r\n          });\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      loading.dismiss();\r\n    } else if (kind == 40) {\r\n      this.currentp2powned = 40;\r\n      // console.log(\"click category p2p owned\", this.currentp2powned);\r\n\r\n      const loading = await this.loadingController.create();\r\n      await loading.present();\r\n\r\n      this.senddata.getsellfoodUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.sortfoodsowned = JSON.parse(dataSell);\r\n          this.marketp2pfoodLength = this.sortfoodsowned.lengthFood;\r\n          this.marketp2pfoodDate = this.sortfoodsowned.EditAt;\r\n          this.marketp2pfoodowner = this.sortfoodsowned.uid;\r\n          this.marketp2pfoodpriceUSD = 1;\r\n          // console.log(this.marketp2pfoodpriceUSD)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      loading.dismiss();\r\n    }\r\n\r\n    this.countDownHatching();\r\n    this.countdown = setInterval(async () => {\r\n      this.countDownHatching();\r\n    }, 1000);\r\n  }\r\n\r\n  clickcategoryfashion(kind) {\r\n    if (kind == 1) {\r\n      this.lastseen = \"jakets\";\r\n      this.sortfashion = 1;\r\n      localStorage.setItem(\"lastseenfashion\", \"jakets\");\r\n      // console.log(\"category p2p\", this.currentp2p);\r\n      // console.log(\"sort p2p\", this.sortp2pmarket);\r\n      this.senddata.getselljaketsUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.jakets = JSON.parse(dataSell);\r\n          this.fashionjaketsLength = dataSell.length;\r\n          // console.log(this.jakets)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n      this.senddata.getsellcommonjaketsownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.commonjakets = JSON.parse(dataSell);\r\n          this.fashioncommonjaketsLength = dataSell.length;\r\n          // console.log(this.commonjakets)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n    }\r\n  }\r\n\r\n  async countDownHatching() {\r\n    // Set the date we're counting down to\r\n    var countDownDate = new Date(this.timeIncubator).getTime();\r\n\r\n    // Update the count down every 1 second\r\n    // var x = setInterval(function() {\r\n\r\n    // Get today's date and time\r\n    var now = new Date().getTime();\r\n\r\n    // Find the distance between now and the count down date\r\n    var distance = countDownDate - now;\r\n\r\n    // Time calculations for days, hours, minutes and seconds\r\n    var days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n    var hours = Math.floor(\r\n      (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\r\n    );\r\n    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\n    var seconds = Math.floor((distance % (1000 * 60)) / 1000);\r\n\r\n    // console.log(this.marketp2pdragontimeCount)\r\n    this.days = days;\r\n    this.hours = hours;\r\n    this.minutes = minutes;\r\n    this.seconds = seconds;\r\n    // If the count down is over, write some text\r\n    if (distance < 0 || this.hours < 0) {\r\n      this.hours = 0;\r\n      this.minutes = 0;\r\n      this.seconds = 0;\r\n    }\r\n    // }, 1000);\r\n  }\r\n\r\n  setdgbuydetail(ItemId) {\r\n    let kind = localStorage.setItem(\"kind\", \"dragon\");\r\n    this.checkkind(ItemId);\r\n  }\r\n\r\n  setdgbiddetail(ItemId) {\r\n    let kind = localStorage.setItem(\"kind\", \"dragon\");\r\n    this.checkkind(ItemId);\r\n  }\r\n\r\n  seteggbuydetail(DocId) {\r\n    let kind = localStorage.setItem(\"kind\", \"egg\");\r\n    this.checkkindEgg(DocId);\r\n  }\r\n\r\n  seteggbiddetail(ItemId) {\r\n    let kind = localStorage.setItem(\"kind\", \"egg\");\r\n    this.checkkindEgg(ItemId);\r\n  }\r\n\r\n  setbatterybuydetail(ItemId) {\r\n    let kind = localStorage.setItem(\"kind\", \"battery\");\r\n    this.checkkindBattery(ItemId);\r\n  }\r\n\r\n  setbatterybiddetail(ItemId) {\r\n    let kind = localStorage.setItem(\"kind\", \"battery\");\r\n    this.checkkindBattery(ItemId);\r\n  }\r\n\r\n  setfoodbuydetail() {\r\n    let kind = localStorage.setItem(\"kind\", \"food\");\r\n    this.checkkind(kind);\r\n  }\r\n\r\n  setfoodbiddetail() {\r\n    let kind = localStorage.setItem(\"kind\", \"food\");\r\n    this.checkkind(kind);\r\n  }\r\n\r\n  async onPriceChange(input_price: number) {\r\n    let kind = localStorage.getItem(\"kind\");\r\n    if (kind == \"food\") {\r\n      this.input_price = input_price;\r\n      let marketp2pfoodpriceBNB = this.current_bnb * this.input_price;\r\n      // this.marketp2pfoodpriceBNB = (marketp2pfoodpriceBNB).toFixed(2);\r\n      let marketp2pfoodpriceUSD = this.input_price * this.input_stock;\r\n      this.marketp2pfoodpriceUSD = marketp2pfoodpriceUSD.toFixed(2);\r\n    } else if (kind == \"dragon\") {\r\n      this.input_price = input_price;\r\n      let marketp2pdragonpriceUSD = this.input_price;\r\n      this.marketp2pdragonpriceUSD = marketp2pdragonpriceUSD.toFixed(2);\r\n      localStorage.setItem(\"input_price\", input_price.toFixed());\r\n\r\n      this.senddata\r\n        .getdgroyaltymp(this.marketp2pdragonID)\r\n        .subscribe((dataRoyalty) => {\r\n          let dr = dataRoyalty;\r\n          // fee p2p market dragon\r\n          this.marketp2pdragonFee = (12 / 100) * Number(input_price);\r\n          let marketp2pdragonprice_actual =\r\n            Number(input_price) - this.marketp2pdragonFee;\r\n          this.fee_display = this.marketp2pdragonFee;\r\n          this.price_display = marketp2pdragonprice_actual;\r\n          let priceRoyalty_display =\r\n            this.price_display - this.marketp2pdragonRoyalty;\r\n          this.priceRoyalty_display = priceRoyalty_display.toFixed(1);\r\n          this.fee_royalty = this.fee_display + this.marketp2pdragonRoyalty;\r\n          this.marketp2pdragonRoyalty = (10 / 100) * Number(input_price);\r\n          this.marketp2pdragonRoyalty2 =\r\n            (10 / 100) * this.marketp2pdragonRoyalty;\r\n          this.marketp2pdragonRoyalty3 =\r\n            (10 / 100) * this.marketp2pdragonRoyalty2;\r\n          this.marketp2pdragonRoyalty4 =\r\n            (10 / 100) * this.marketp2pdragonRoyalty3;\r\n          this.marketp2pdragonRoyalty5 =\r\n            (10 / 100) * this.marketp2pdragonRoyalty4;\r\n\r\n          if (dr == 1) {\r\n            this.positionRoyalty = 1;\r\n            // console.log(\"first position\");\r\n            // console.log(\"royalti untuk pos 1\", this.marketp2pdragonRoyalty);\r\n          } else if (dr == 2) {\r\n            this.positionRoyalty = 2;\r\n            // console.log(\"second position\");\r\n            // console.log(\r\n            //   \"royalti untuk pos 1\",\r\n            //   this.marketp2pdragonRoyalty - this.marketp2pdragonRoyalty2\r\n            // );\r\n            // console.log(\"royalti untuk pos 2\", this.marketp2pdragonRoyalty2);\r\n          } else if (dr == 3) {\r\n            this.positionRoyalty = 3;\r\n            // console.log(\"third position\");\r\n            // console.log(\r\n            //   \"royalti untuk pos 1\",\r\n            //   this.marketp2pdragonRoyalty -\r\n            //     this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 2\",\r\n            //   this.marketp2pdragonRoyalty2 - this.marketp2pdragonRoyalty3\r\n            // );\r\n            // console.log(\"royalti untuk pos 3\", this.marketp2pdragonRoyalty3);\r\n          } else if (dr == 4) {\r\n            this.positionRoyalty = 4;\r\n            // console.log(\"fourth position\");\r\n            // console.log(\r\n            //   \"royalti untuk pos 1\",\r\n            //   this.marketp2pdragonRoyalty -\r\n            //     this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 2\",\r\n            //   this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 3\",\r\n            //   this.marketp2pdragonRoyalty3 - this.marketp2pdragonRoyalty4\r\n            // );\r\n            // console.log(\"royalti untuk pos 4\", this.marketp2pdragonRoyalty4);\r\n          } else if (dr == 5) {\r\n            this.positionRoyalty = 5;\r\n            // console.log(\"fifth position\");\r\n            // console.log(\r\n            //   \"royalti untuk pos 1\",\r\n            //   this.marketp2pdragonRoyalty -\r\n            //     this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4 -\r\n            //     this.marketp2pdragonRoyalty5\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 2\",\r\n            //   this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4 -\r\n            //     this.marketp2pdragonRoyalty5\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 3\",\r\n            //   this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4 -\r\n            //     this.marketp2pdragonRoyalty5\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 4\",\r\n            //   this.marketp2pdragonRoyalty4 - this.marketp2pdragonRoyalty5\r\n            // );\r\n            // console.log(\"royalti untuk pos 5\", this.marketp2pdragonRoyalty5);\r\n          } else {\r\n            // console.log(\"unknown position\");\r\n          }\r\n\r\n          // console.log(\"royalti pos 1\", this.marketp2pdragonRoyalty);\r\n          // console.log(\"royalti pos 2\", this.marketp2pdragonRoyalty2);\r\n          // console.log(\"royalti pos 3\", this.marketp2pdragonRoyalty3);\r\n          // console.log(\"royalti pos 4\", this.marketp2pdragonRoyalty4);\r\n          // console.log(\"royalti pos 5\", this.marketp2pdragonRoyalty5);\r\n        });\r\n    } else if (kind == \"egg\") {\r\n      this.input_price = input_price;\r\n      let marketp2peggpriceUSD = this.input_price / this.current_bnb;\r\n      this.marketp2peggpriceUSD = marketp2peggpriceUSD.toFixed(2);\r\n      localStorage.setItem(\"input_price\", input_price.toFixed());\r\n\r\n      this.senddata\r\n        .getdgroyaltymp(this.marketp2pdragonID)\r\n        .subscribe((dataRoyalty) => {\r\n          let dr = dataRoyalty;\r\n          // fee p2p market dragon\r\n          this.marketp2pdragonFee = (12 / 100) * Number(input_price);\r\n          let marketp2pdragonprice_actual =\r\n            Number(input_price) - this.marketp2pdragonFee;\r\n          this.fee_display = this.marketp2pdragonFee;\r\n          this.price_display = marketp2pdragonprice_actual;\r\n          let priceRoyalty_display =\r\n            this.price_display - this.marketp2pdragonRoyalty;\r\n          this.priceRoyalty_display = priceRoyalty_display.toFixed(1);\r\n          this.fee_royalty = this.fee_display + this.marketp2pdragonRoyalty;\r\n          this.marketp2pdragonRoyalty = (10 / 100) * Number(input_price);\r\n          this.marketp2pdragonRoyalty2 =\r\n            (10 / 100) * this.marketp2pdragonRoyalty;\r\n          this.marketp2pdragonRoyalty3 =\r\n            (10 / 100) * this.marketp2pdragonRoyalty2;\r\n          this.marketp2pdragonRoyalty4 =\r\n            (10 / 100) * this.marketp2pdragonRoyalty3;\r\n          this.marketp2pdragonRoyalty5 =\r\n            (10 / 100) * this.marketp2pdragonRoyalty4;\r\n\r\n          if (dr == 1) {\r\n            this.positionRoyalty = 1;\r\n            // console.log(\"first position\");\r\n            // console.log(\"royalti untuk pos 1\", this.marketp2pdragonRoyalty);\r\n          } else if (dr == 2) {\r\n            this.positionRoyalty = 2;\r\n            // console.log(\"second position\");\r\n            // console.log(\r\n            //   \"royalti untuk pos 1\",\r\n            //   this.marketp2pdragonRoyalty - this.marketp2pdragonRoyalty2\r\n            // );\r\n            // console.log(\"royalti untuk pos 2\", this.marketp2pdragonRoyalty2);\r\n          } else if (dr == 3) {\r\n            this.positionRoyalty = 3;\r\n            // console.log(\"third position\");\r\n            // console.log(\r\n            //   \"royalti untuk pos 1\",\r\n            //   this.marketp2pdragonRoyalty -\r\n            //     this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 2\",\r\n            //   this.marketp2pdragonRoyalty2 - this.marketp2pdragonRoyalty3\r\n            // );\r\n            // console.log(\"royalti untuk pos 3\", this.marketp2pdragonRoyalty3);\r\n          } else if (dr == 4) {\r\n            this.positionRoyalty = 4;\r\n            // console.log(\"fourth position\");\r\n            // console.log(\r\n            //   \"royalti untuk pos 1\",\r\n            //   this.marketp2pdragonRoyalty -\r\n            //     this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 2\",\r\n            //   this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 3\",\r\n            //   this.marketp2pdragonRoyalty3 - this.marketp2pdragonRoyalty4\r\n            // );\r\n            // console.log(\"royalti untuk pos 4\", this.marketp2pdragonRoyalty4);\r\n          } else if (dr == 5) {\r\n            this.positionRoyalty = 5;\r\n            // console.log(\"fifth position\");\r\n            // console.log(\r\n            //   \"royalti untuk pos 1\",\r\n            //   this.marketp2pdragonRoyalty -\r\n            //     this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4 -\r\n            //     this.marketp2pdragonRoyalty5\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 2\",\r\n            //   this.marketp2pdragonRoyalty2 -\r\n            //     this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4 -\r\n            //     this.marketp2pdragonRoyalty5\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 3\",\r\n            //   this.marketp2pdragonRoyalty3 -\r\n            //     this.marketp2pdragonRoyalty4 -\r\n            //     this.marketp2pdragonRoyalty5\r\n            // );\r\n            // console.log(\r\n            //   \"royalti untuk pos 4\",\r\n            //   this.marketp2pdragonRoyalty4 - this.marketp2pdragonRoyalty5\r\n            // );\r\n            // console.log(\"royalti untuk pos 5\", this.marketp2pdragonRoyalty5);\r\n          } else {\r\n            // console.log(\"unknown position\");\r\n          }\r\n\r\n          // console.log(\"royalti pos 1\", this.marketp2pdragonRoyalty);\r\n          // console.log(\"royalti pos 2\", this.marketp2pdragonRoyalty2);\r\n          // console.log(\"royalti pos 3\", this.marketp2pdragonRoyalty3);\r\n          // console.log(\"royalti pos 4\", this.marketp2pdragonRoyalty4);\r\n          // console.log(\"royalti pos 5\", this.marketp2pdragonRoyalty5);\r\n        });\r\n    } else if (kind == \"battery\") {\r\n      this.input_price = input_price;\r\n      let marketp2pbatterypriceUSD = this.input_price / this.current_bnb;\r\n      this.marketp2pbatterypriceUSD = marketp2pbatterypriceUSD.toFixed(2);\r\n      localStorage.setItem(\"input_price\", input_price.toFixed());\r\n    }\r\n  }\r\n\r\n  async onStockChange(input_stock: number) {\r\n    this.input_stock = input_stock;\r\n    let marketp2pfoodpriceBNB =\r\n      this.current_bnb * this.input_price * this.input_stock;\r\n    this.marketp2pfoodpriceBNB = marketp2pfoodpriceBNB.toFixed(2);\r\n\r\n    let marketp2pfoodpriceUSD = this.input_price * this.input_stock;\r\n    this.marketp2pfoodpriceUSD = marketp2pfoodpriceUSD.toFixed(2);\r\n  }\r\n\r\n  myRange(demo: number) {\r\n    this.rangeValue = demo;\r\n    // console.log(demo);\r\n  }\r\n\r\n  typeBid(kind) {\r\n    let selectedBid = kind;\r\n    if (selectedBid == \"1\") {\r\n      this.selectedBid = \"Free\";\r\n      // console.log(this.selectedBid)\r\n    } else if (selectedBid == \"2\") {\r\n      this.selectedBid = \"Step\";\r\n      // console.log(this.selectedBid)\r\n    }\r\n  }\r\n\r\n  // DRAGON\r\n  async sellNowDragon(marketp2pdragonDocId) {\r\n    // Build Json String Dragon\r\n    let crd = JSON.stringify({\r\n      ObjectId: Number(this.marketp2pdragonDocId),\r\n      ItemId: this.marketp2pdragonID,\r\n      HP: Number(this.marketp2pdragonHP),\r\n      Attack: Number(this.marketp2pdragonAttack),\r\n      Defense: Number(this.marketp2pdragonDefense),\r\n      Exp: Number(this.marketp2pdragonExp),\r\n      Level: Number(this.marketp2pdragonLevel),\r\n      Rarity: this.marketp2pdragonRarity,\r\n    });\r\n    this.current_data = JSON.parse(crd);\r\n    // console.log(JSON.stringify(this.current_data));\r\n\r\n    let now = new Date();\r\n    this.latest_date = this.datepipe.transform(now, \"yyyy-MM-dd HH:mm\");\r\n    // console.log(\"date now\", this.latest_date);\r\n\r\n    function addHours(numOfHours, date = new Date()) {\r\n      date.setTime(date.getTime() + numOfHours * 60 * 60 * 1000);\r\n\r\n      return date;\r\n    }\r\n\r\n    //  Add 2 hours to another date\r\n    const date = now;\r\n\r\n    //  Mon Mar 14 2022 11:25:30\r\n    let latest_date = addHours(168, now);\r\n    this.timeSell = this.datepipe.transform(latest_date, \"yyyy-MM-dd HH:mm\");\r\n    // console.log(\"date end items on sell\", this.timeSell);\r\n\r\n    if(this.input_price == undefined) {\r\n      const alert = await this.alertController.create({\r\n        header: \"Failed !\",\r\n        message: \"Price must over than floorprice\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n    } else {\r\n      const loading = await this.loadingController.create();\r\n      await loading.present();\r\n      this.fs\r\n        .collection(\"Items/\" + this.globalID + \"/Dragons\")\r\n        .doc(marketp2pdragonDocId)\r\n        .delete()\r\n        .then(() => {\r\n          // this.current_data.price = this.input_price;\r\n          // this.current_data.owner = this.globalID;\r\n          this.move_to_sell_test(marketp2pdragonDocId);\r\n          this.senddata\r\n            .itemsdragontosellmp(\r\n              marketp2pdragonDocId,\r\n              this.input_price,\r\n              this.timeSell\r\n            )\r\n            .subscribe(\r\n              (dataE: any) => {\r\n                // console.log(dataE);\r\n                loading.dismiss();\r\n              },\r\n              (error: any) => {}\r\n            );\r\n        });\r\n    }\r\n  }\r\n\r\n  async bidNowDragon(marketp2pdragonDocId) {\r\n    // console.log(this.input_price);\r\n    // Build Json String Dragon\r\n    let crd = JSON.stringify({\r\n      ObjectId: Number(this.marketp2pdragonDocId),\r\n      ItemId: this.marketp2pdragonID,\r\n      Id: this.marketp2pdragonImg,\r\n      HP: Number(this.marketp2pdragonHP),\r\n      Attack: Number(this.marketp2pdragonAttack),\r\n      Defense: Number(this.marketp2pdragonDefense),\r\n      Exp: Number(this.marketp2pdragonExp),\r\n      Level: Number(this.marketp2pdragonLevel),\r\n      Rarity: this.marketp2pdragonRarity,\r\n    });\r\n    this.current_data = JSON.parse(crd);\r\n    // console.log(JSON.stringify(this.current_data));\r\n\r\n    let now = new Date();\r\n    this.latest_date = this.datepipe.transform(now, \"yyyy-MM-dd HH:mm\");\r\n    // console.log(\"date now\", this.latest_date);\r\n\r\n    function addHours(numOfHours, date = new Date()) {\r\n      date.setTime(date.getTime() + numOfHours * 60 * 60 * 1000);\r\n\r\n      return date;\r\n    }\r\n\r\n    //  Add 2 hours to another date\r\n    const date = now;\r\n\r\n    //  Mon Mar 14 2022 11:25:30\r\n    let latest_date = addHours(this.rangeValue, now);\r\n    this.timeBID = this.datepipe.transform(latest_date, \"yyyy-MM-dd HH:mm\");\r\n    // console.log(\"date end bid\", this.timeBID);\r\n\r\n    if(this.input_price == undefined) {\r\n      const alert = await this.alertController.create({\r\n        header: \"Failed !\",\r\n        message: \"Price must over than floorprice\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n    } else {\r\n      const loading = await this.loadingController.create();\r\n      await loading.present();\r\n      this.fs\r\n        .collection(\"Items/\" + this.globalID + \"/Dragons\")\r\n        .doc(marketp2pdragonDocId)\r\n        .delete()\r\n        .then(() => {\r\n          // this.current_data.price = this.input_price;\r\n          // this.current_data.owner = this.globalID;\r\n          this.move_to_auction_test(marketp2pdragonDocId);\r\n          this.senddata\r\n            .itemsdragontobidmp(\r\n              marketp2pdragonDocId,\r\n              this.input_price,\r\n              this.selectedBid,\r\n              this.timeBID\r\n            )\r\n            .subscribe(\r\n              (dataE: any) => {\r\n                // console.log(dataE);\r\n                loading.dismiss();\r\n              },\r\n              (error: any) => {}\r\n            );\r\n        });\r\n    }\r\n  }\r\n\r\n  async move_to_sell_test(marketp2pdragonDocId) {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n    let kind = localStorage.getItem(\"kind\");\r\n\r\n    if (kind == \"dragon\") {\r\n      this.fs\r\n        .collection(\"Sell/\" + this.globalID + \"/Dragons\")\r\n        .doc(marketp2pdragonDocId)\r\n        .set({\r\n          Id: marketp2pdragonDocId,\r\n          ItemId: this.marketp2pdragonID,\r\n          Attributes: {\r\n            AttackPoint: Number(this.marketp2pdragonAttack),\r\n            DefensePoint: Number(this.marketp2pdragonDefense),\r\n            Exp: Number(this.marketp2pdragonExp),\r\n            HP: Number(this.marketp2pdragonHP),\r\n            Hunger: Number(this.marketp2pdragonHunger),\r\n            Level: Number(this.marketp2pdragonLevel),\r\n            MaxHP: Number(this.marketp2pdragonMaxHP),\r\n            MaxHunger: Number(this.marketp2pdragonMaxHunger)\r\n          },\r\n          price: this.input_price,\r\n        })\r\n        .then(() => {\r\n          // console.log(\"Document successfully sold!\");\r\n          // this.openDialog(\"Item Listed\");\r\n        })\r\n        .catch((error: any) => {});\r\n      const alert = await this.alertController.create({\r\n        header: \"Success\",\r\n        message: \"Your item now in P2P Market\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n\r\n      this.currentp2p = 0;\r\n      this.currentp2powned = 10;\r\n      // console.log(\"category p2p\", this.currentp2p);\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getselldgUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.dragonsowned = JSON.parse(dataSell);\r\n          this.marketp2pdragonID = this.dragonsowned.ItemId;\r\n          this.marketp2pdragonLength = this.dragonsowned.length;\r\n          // console.log(this.dragonsowned);\r\n          for (let i in this.dragonsowned) {\r\n            if (\r\n              this.dragonsowned[i].imgbackground == \"exists\" &&\r\n              this.dragonsowned[i].statusbayarbackground == \"paid\"\r\n            ) {\r\n              this.senddata.getallbackgroundmp(this.globalID).subscribe(\r\n                (dataSell: any) => {\r\n                  this.dragonsownedbg = JSON.parse(dataSell);\r\n                  this.marketp2pdragonBG = this.dragonsownedbg.imgBg;\r\n                  this.marketp2pdragonIdBG = this.dragonsownedbg.ItemId;\r\n                  // console.log(this.dragonsownedbg)\r\n                },\r\n                (error: any) => {}\r\n              );\r\n            }\r\n          }\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselldgUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.dragons = JSON.parse(dataSell);\r\n          // console.log(this.dragons)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  async move_to_auction_test(marketp2pdragonDocId) {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n    let kind = localStorage.getItem(\"kind\");\r\n\r\n    if (kind == \"dragon\") {\r\n      this.fs\r\n        .collection(\"Bid/\" + this.globalID + \"/Dragons\")\r\n        .doc(marketp2pdragonDocId)\r\n        .set({\r\n          Id: marketp2pdragonDocId,\r\n          ItemId: this.marketp2pdragonID,\r\n          Attributes: {\r\n            AttackPoint: Number(this.marketp2pdragonAttack),\r\n            DefensePoint: Number(this.marketp2pdragonDefense),\r\n            Exp: Number(this.marketp2pdragonExp),\r\n            HP: Number(this.marketp2pdragonHP),\r\n            Hunger: Number(this.marketp2pdragonHunger),\r\n            Level: Number(this.marketp2pdragonLevel),\r\n            MaxHP: Number(this.marketp2pdragonMaxHP),\r\n            MaxHunger: Number(this.marketp2pdragonMaxHunger)\r\n          },\r\n          PriceNow: Number(this.input_price),\r\n        })\r\n        .then(() => {\r\n          // console.log(\"Document successfully sold!\");\r\n          // this.openDialog(\"Item Listed\");\r\n        })\r\n        .catch((error: any) => {});\r\n      const alert = await this.alertController.create({\r\n        header: \"Success\",\r\n        message: \"Your item now in P2P Market\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n\r\n      this.currentp2p = 0;\r\n      this.currentp2powned = 10;\r\n      // console.log(\"category p2p\", this.currentp2p);\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getselldgUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.dragonsowned = JSON.parse(dataSell);\r\n          this.marketp2pdragonID = this.dragonsowned.ItemId;\r\n          this.marketp2pdragonLength = this.dragonsowned.length;\r\n          // console.log(this.dragonsowned);\r\n          for (let i in this.dragonsowned) {\r\n            if (\r\n              this.dragonsowned[i].imgbackground == \"exists\" &&\r\n              this.dragonsowned[i].statusbayarbackground == \"paid\"\r\n            ) {\r\n              this.senddata.getallbackgroundmp(this.globalID).subscribe(\r\n                (dataSell: any) => {\r\n                  this.dragonsownedbg = JSON.parse(dataSell);\r\n                  this.marketp2pdragonBG = this.dragonsownedbg.imgBg;\r\n                  this.marketp2pdragonIdBG = this.dragonsownedbg.ItemId;\r\n                  // console.log(this.dragonsownedbg)\r\n                },\r\n                (error: any) => {}\r\n              );\r\n            }\r\n          }\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselldgUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.dragons = JSON.parse(dataSell);\r\n          // console.log(this.dragons)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.selectedBid = \"-\";\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  // EGG\r\n  async sellNowEgg(marketp2peggDocId) {\r\n    // Build Json String Egg\r\n    let crd = JSON.stringify({\r\n      DocId: marketp2peggDocId,\r\n      ItemId: this.marketp2peggID,\r\n      price: this.input_price,\r\n    });\r\n    this.current_data = JSON.parse(crd);\r\n    // console.log(this.current_data);\r\n    if(this.input_price == undefined) {\r\n      const alert = await this.alertController.create({\r\n        header: \"Failed !\",\r\n        message: \"Price must over than floorprice\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n    } else {\r\n      this.fs\r\n      .collection(\"Items/\" + this.globalID + \"/Eggs\")\r\n      .doc(marketp2peggDocId)\r\n      .delete()\r\n      .then(() => {\r\n        // this.current_data.price = this.input_price;\r\n        // this.current_data.owner = this.globalID;\r\n        this.move_to_sell_test_egg(marketp2peggDocId);\r\n        this.senddata\r\n          .itemseggtosellmp(marketp2peggDocId, this.input_price)\r\n          .subscribe(\r\n            (dataE: any) => {\r\n              // console.log(dataE);\r\n            },\r\n            (error: any) => {}\r\n          );\r\n      });\r\n    }\r\n  }\r\n\r\n  async bidNowEgg(marketp2peggDocId) {\r\n    // console.log(this.input_price);\r\n\r\n    let now = new Date();\r\n    this.latest_date = this.datepipe.transform(now, \"yyyy-MM-dd HH:mm\");\r\n    // console.log(\"date now\", this.latest_date);\r\n\r\n    function addHours(numOfHours, date = new Date()) {\r\n      date.setTime(date.getTime() + numOfHours * 60 * 60 * 1000);\r\n\r\n      return date;\r\n    }\r\n\r\n    //  Add 2 hours to another date\r\n    const date = now;\r\n\r\n    //  Mon Mar 14 2022 11:25:30\r\n    let latest_date = addHours(this.rangeValue, now);\r\n    this.timeBID = this.datepipe.transform(latest_date, \"yyyy-MM-dd HH:mm\");\r\n    // console.log(\"date end bid\", this.timeBID);\r\n\r\n    // Create difference time of bid\r\n    const diffInMs = Date.parse(this.timeBID) - Date.parse(this.latest_date);\r\n    const diffInHours = Math.ceil(diffInMs / 1000 / 60 / 60);\r\n    // console.log(\"diffInHours\", diffInHours);\r\n\r\n    if(this.input_price == undefined) {\r\n      const alert = await this.alertController.create({\r\n        header: \"Failed !\",\r\n        message: \"Price must over than floorprice\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n    } else {\r\n      const loading = await this.loadingController.create();\r\n      await loading.present();\r\n      this.fs\r\n      .collection(\"Items/\" + this.globalID + \"/Eggs\")\r\n      .doc(marketp2peggDocId)\r\n      .delete()\r\n      .then(() => {\r\n        // this.current_data.price = this.input_price;\r\n        // this.current_data.owner = this.globalID;\r\n        this.move_to_auction_test_egg(marketp2peggDocId);\r\n        this.senddata\r\n          .itemseggtobidmp(\r\n            marketp2peggDocId,\r\n            this.input_price,\r\n            this.selectedBid,\r\n            this.timeBID,\r\n            diffInHours.toString()\r\n          )\r\n          .subscribe(\r\n            (dataE: any) => {\r\n              // console.log(dataE);\r\n              loading.dismiss();\r\n            },\r\n            (error: any) => {}\r\n          );\r\n      });\r\n\r\n      this.createStopWatch(marketp2peggDocId);\r\n    }\r\n  }\r\n\r\n  createStopWatch(marketp2peggDocId) {\r\n    setInterval(async () => {\r\n      this.secondsServer++;\r\n      if (this.secondsServer >= 60) {\r\n        this.minutesServer++;\r\n        this.secondsServer = 0;\r\n      }\r\n      if (this.minutesServer >= 60) {\r\n        this.hoursServer++;\r\n        this.minutesServer = 0;\r\n      }\r\n      this.senddata.hmsBIDmp(marketp2peggDocId, this.hoursServer.toString(), this.minutesServer.toString(), this.secondsServer.toString()).subscribe((res:any) => {});\r\n    }, 1000);\r\n  }\r\n\r\n  async move_to_sell_test_egg(marketp2peggDocId) {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n    let kind = localStorage.getItem(\"kind\");\r\n\r\n    if (kind == \"egg\") {\r\n      this.fs\r\n        .collection(\"Sell/\" + this.globalID + \"/Eggs\")\r\n        .doc(marketp2peggDocId)\r\n        .set({\r\n          Id: marketp2peggDocId,\r\n          ItemId: this.marketp2peggID,\r\n          PriceNow: Number(this.input_price),\r\n        })\r\n        .then(() => {\r\n          // console.log(\"Document successfully sold!\");\r\n          // this.openDialog(\"Item Listed\");\r\n        })\r\n        .catch((error: any) => {});\r\n      const alert = await this.alertController.create({\r\n        header: \"Success\",\r\n        message: \"Your item now in P2P Market\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n\r\n      this.currentp2p = 0;\r\n      this.currentp2powned = 20;\r\n      // console.log(\"category p2p\", this.currentp2p);\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.eggsHigh = JSON.parse(dataSell);\r\n          this.marketp2peggLength = this.eggsHigh.length;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.sorteggsowned = JSON.parse(dataSell);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselleggUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.eggsHigh = JSON.parse(dataSell);\r\n          // this.marketp2peggLength = this.eggsHigh.length;\r\n          // console.log(this.eggsHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  async move_to_auction_test_egg(marketp2peggDocId) {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n    let kind = localStorage.getItem(\"kind\");\r\n\r\n    if (kind == \"egg\") {\r\n      this.fs\r\n        .collection(\"Bid/\" + this.globalID + \"/Eggs\")\r\n        .doc(marketp2peggDocId)\r\n        .set({\r\n          Id: marketp2peggDocId,\r\n          ItemId: this.marketp2peggID,\r\n          price: this.input_price,\r\n        })\r\n        .then(() => {\r\n          // console.log(\"Document successfully sold!\");\r\n          // this.openDialog(\"Item Listed\");\r\n        })\r\n        .catch((error: any) => {});\r\n      const alert = await this.alertController.create({\r\n        header: \"Success\",\r\n        message: \"Your item now in P2P Market\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n\r\n      this.currentp2p = 0;\r\n      this.currentp2powned = 20;\r\n      // console.log(\"category p2p\", this.currentp2p);\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.eggsHigh = JSON.parse(dataSell);\r\n          this.marketp2peggLength = this.eggsHigh.length;\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.sorteggsowned = JSON.parse(dataSell);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getselleggUsermp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.eggsHigh = JSON.parse(dataSell);\r\n          // this.marketp2peggLength = this.eggsHigh.length;\r\n          // console.log(this.eggsHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.selectedBid = \"-\";\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  // BATTERY\r\n  async sellNowBattery(marketp2pbatteryDocId) {\r\n    // Build Json String Egg\r\n    let crd = JSON.stringify({\r\n      DocId: marketp2pbatteryDocId,\r\n      ItemId: this.marketp2pbatteryID,\r\n      price: this.input_price,\r\n    });\r\n    this.current_data = JSON.parse(crd);\r\n    console.log(this.input_price);\r\n    if(this.input_price == undefined) {\r\n      const alert = await this.alertController.create({\r\n        header: \"Failed !\",\r\n        message: \"Price must over than floorprice\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n    } else {\r\n      this.fs.collection('Items/'+ this.globalID + '/Batteries').doc(marketp2pbatteryDocId).update({\r\n        Amount: firebase.firestore.FieldValue.increment(-1)\r\n      }).then(() => {\r\n        // this.current_data.price = this.input_price;\r\n        // this.current_data.owner = this.globalID;\r\n        this.move_to_sell_test_battery(marketp2pbatteryDocId);\r\n        this.senddata\r\n          .itemsbatterytosellmp(marketp2pbatteryDocId, this.input_price)\r\n          .subscribe(\r\n            (dataE: any) => {\r\n              // console.log(dataE);\r\n            },\r\n            (error: any) => {}\r\n          );\r\n      });\r\n    }\r\n  }\r\n\r\n  async bidNowBattery(marketp2pbatteryDocId) {\r\n    // console.log(this.input_price);\r\n\r\n    let now = new Date();\r\n    this.latest_date = this.datepipe.transform(now, \"yyyy-MM-dd HH:mm\");\r\n    // console.log(\"date now\", this.latest_date);\r\n\r\n    function addHours(numOfHours, date = new Date()) {\r\n      date.setTime(date.getTime() + numOfHours * 60 * 60 * 1000);\r\n\r\n      return date;\r\n    }\r\n\r\n    //  Add 2 hours to another date\r\n    const date = now;\r\n\r\n    //  Mon Mar 14 2022 11:25:30\r\n    let latest_date = addHours(this.rangeValue, now);\r\n    this.timeBID = this.datepipe.transform(latest_date, \"yyyy-MM-dd HH:mm\");\r\n    // console.log(\"date end bid\", this.timeBID);\r\n    if(this.input_price == undefined) {\r\n      const alert = await this.alertController.create({\r\n        header: \"Failed !\",\r\n        message: \"Price must over than floorprice\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n    } else {\r\n      const loading = await this.loadingController.create();\r\n      await loading.present();\r\n      this.fs\r\n        .collection(\"Items/\" + this.globalID + \"/Batteries\")\r\n        .doc(marketp2pbatteryDocId)\r\n        .delete()\r\n        .then(() => {\r\n          // this.current_data.price = this.input_price;\r\n          // this.current_data.owner = this.globalID;\r\n          this.move_to_auction_test_battery(marketp2pbatteryDocId);\r\n          this.senddata\r\n            .itemsbatterytobidmp(\r\n              marketp2pbatteryDocId,\r\n              this.input_price,\r\n              this.selectedBid,\r\n              this.timeBID\r\n            )\r\n            .subscribe(\r\n              (dataE: any) => {\r\n                // console.log(dataE);\r\n                loading.dismiss();\r\n              },\r\n              (error: any) => {}\r\n            );\r\n        });\r\n    }\r\n  }\r\n\r\n  async move_to_sell_test_battery(marketp2pbatteryDocId) {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n    let kind = localStorage.getItem(\"kind\");\r\n\r\n    if (kind == \"battery\") {\r\n      this.fs\r\n        .collection(\"Sell/\" + this.globalID + \"/Batteries\")\r\n        .doc(marketp2pbatteryDocId)\r\n        .set({\r\n          Id: marketp2pbatteryDocId,\r\n          ItemId: this.marketp2pbatteryID,\r\n          price: Number(this.input_price),\r\n        })\r\n        .then(() => {\r\n          // console.log(\"Document successfully sold!\");\r\n          // this.openDialog(\"Item Listed\");\r\n        })\r\n        .catch((error: any) => {});\r\n      const alert = await this.alertController.create({\r\n        header: \"Success\",\r\n        message: \"Your item now in P2P Market\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n\r\n      // console.log(\"category p2p\", this.currentp2p);\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getsellbatteryUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.batteriesHigh = JSON.parse(dataSell);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.sortbatteriesowned = JSON.parse(dataSell);\r\n          this.sortbatteriesownedLength = this.sortbatteriesowned.lengthBattery;\r\n          this.fs.collection(\"Players/\" + this.globalID + \"/Incubator\").valueChanges().subscribe(async (dataIncubator:any) => {\r\n            // console.log(\"data Egg Incubator\", dataIncubator[0].EggItemId);\r\n            this.usedEgg = dataIncubator[0].EggItemId;\r\n            this.usedBattery = dataIncubator[0].BatteryItemId;\r\n\r\n            // console.log(\"this item is being used on the incubator\", this.usedEgg, this.usedBattery);\r\n            // console.log(\"incubator started at\", dataIncubator[0].StartedAt.seconds);\r\n            if(dataIncubator[0].IncubatorState == \"Started\") {\r\n              let unix_timestamp = dataIncubator[0].StartedAt.seconds;\r\n              let now = new Date(unix_timestamp * 1000);\r\n              this.latest_date = this.datepipe.transform(now, \"yyyy-MM-dd HH:mm\");\r\n              // console.log(\"date now\", this.latest_date);\r\n\r\n              function addHours(numOfHours, date = new Date()) {\r\n                date.setTime(date.getTime() + numOfHours * 60 * 60 * 1000);\r\n\r\n                return date;\r\n              }\r\n\r\n              //  Add 2 hours to another date\r\n              const date = now;\r\n\r\n              //  Mon Mar 14 2022 11:25:30\r\n              let latest_date = addHours(dataIncubator[0].HatchTime, now);\r\n              this.timeIncubator = this.datepipe.transform(latest_date, \"yyyy-MM-dd HH:mm\");\r\n              // console.log(\"date end incubator\", this.timeIncubator);\r\n              this.senddata.itemseggtoincubatormp(this.usedEgg, this.timeIncubator).subscribe((dataE: any) => {\r\n                // console.log(\"Egg successfully move to incubator status !\", JSON.parse(dataE));\r\n                this.hatchingDataEgg = JSON.parse(dataE);\r\n                this.senddata.getselleggUserownedmp(this.globalID).subscribe(\r\n                  (dataSell: any) => {\r\n                    this.sorteggsowned = JSON.parse(dataSell);\r\n                  },\r\n                  (error: any) => {}\r\n                );\r\n              });\r\n              this.senddata.itemsbatterytoincubatormp(this.usedBattery, this.timeIncubator).subscribe((dataE: any) => {\r\n                // console.log(\"Battery successfully move to incubator status !\", JSON.parse(dataE));\r\n                this.hatchingDataBattery = JSON.parse(dataE);\r\n                this.senddata.getsellbatteryUserownedmp(this.globalID).subscribe(\r\n                  (dataSell: any) => {\r\n                    this.sortbatteriesownedIncubator = JSON.parse(dataSell);\r\n                  },\r\n                  (error: any) => {}\r\n                );\r\n              });\r\n              this.hatching = true;\r\n            }\r\n          });\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.batteriesHigh = JSON.parse(dataSell);\r\n          // this.marketp2peggLength = this.eggsHigh.length;\r\n          // console.log(this.eggsHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  async move_to_auction_test_battery(marketp2pbatteryDocId) {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n    let kind = localStorage.getItem(\"kind\");\r\n\r\n    if (kind == \"battery\") {\r\n      this.fs\r\n        .collection(\"Bid/\" + this.globalID + \"/Batteries\")\r\n        .doc(marketp2pbatteryDocId)\r\n        .set({\r\n          Id: marketp2pbatteryDocId,\r\n          ItemId: this.marketp2pbatteryID,\r\n          price: this.input_price,\r\n        })\r\n        .then(() => {\r\n          // console.log(\"Document successfully sold!\");\r\n          // this.openDialog(\"Item Listed\");\r\n        })\r\n        .catch((error: any) => {});\r\n      const alert = await this.alertController.create({\r\n        header: \"Success\",\r\n        message: \"Your item now in P2P Market\",\r\n        buttons: [\"OK\"],\r\n      });\r\n      await alert.present();\r\n\r\n      this.currentp2p = 0;\r\n      this.currentp2powned = 20;\r\n      // console.log(\"category p2p\", this.currentp2p);\r\n      // console.log(\"category p2p owned\", this.currentp2powned);\r\n\r\n      this.senddata.getsellbatteryUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.batteriesHigh = JSON.parse(dataSell);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellbatteryUserownedmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.sortbatteriesowned = JSON.parse(dataSell);\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.senddata.getsellbatteryUserallmp(this.globalID).subscribe(\r\n        (dataSell: any) => {\r\n          this.batteriesHigh = JSON.parse(dataSell);\r\n          // this.marketp2peggLength = this.eggsHigh.length;\r\n          // console.log(this.eggsHigh)\r\n        },\r\n        (error: any) => {}\r\n      );\r\n\r\n      this.selectedBid = \"-\";\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  // FOOD\r\n  async sellNowFood(qty, marketp2pfoodpriceBNB) {\r\n    let kind = localStorage.getItem(\"kind\");\r\n\r\n    let Id = \"b037f3149945dbc52384d5242e746106\";\r\n    let HVP = 24;\r\n    let food = qty;\r\n    let i = 0;\r\n    // for (i; i < food; i++) {\r\n    var itemid1 = this.newTime() + this.globalID;\r\n    this.fs\r\n      .collection(\"Sell\")\r\n      .doc(this.globalID)\r\n      .update({\r\n        FoodGroup: firebase.firestore.FieldValue.arrayUnion(\r\n          JSON.stringify({\r\n            ItemId: this.marketp2pfoodOID,\r\n            HVP: 24,\r\n            Qty: food,\r\n            price: marketp2pfoodpriceBNB,\r\n            owner: this.globalID,\r\n          })\r\n        ),\r\n      })\r\n      .then(() => {});\r\n    // console.log(this.marketp2pfoodOID);\r\n\r\n    // update stok food\r\n    this.senddata\r\n      .getsellfoodUserqtymp(this.globalID, qty)\r\n      .subscribe((data: any) => {\r\n        let getSell = JSON.parse(data);\r\n        // insert ke tabel sell\r\n        this.senddata\r\n          .setsellfoodUsermp(\r\n            this.globalID,\r\n            getSell.iditemsFood,\r\n            qty,\r\n            marketp2pfoodpriceBNB,\r\n            HVP.toString(),\r\n            this.marketp2pfoodOID,\r\n            this.globalID\r\n          )\r\n          .subscribe((dataSellFood: any) => {\r\n            this.iditemssellFood = dataSellFood;\r\n          });\r\n      });\r\n\r\n    this.fs.collection('Items/'+ this.globalID + '/Foods').doc(this.marketp2pfoodOID)\r\n      .update({\r\n        Amount: firebase.firestore.FieldValue.increment(-qty),\r\n        Id: this.marketp2pfoodOID,\r\n        ItemId: 'ITM14'\r\n      })\r\n      .then(() => {\r\n        console.log(\"Document successfully sold!\");\r\n        // this.openDialog(\"Item Listed\");\r\n      })\r\n      .catch((error: any) => {\r\n        \r\n      });\r\n    // }\r\n    const alert = await this.alertController.create({\r\n      header: \"Success\",\r\n      message: \"Your item now in P2P Market\",\r\n      buttons: [\"OK\"],\r\n    });\r\n    await alert.present();\r\n\r\n    this.selectedBid = \"-\";\r\n  }\r\n\r\n  async favorite_item(ItemId) {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n    this.senddata.favoritedmp(this.globalID, ItemId).subscribe(\r\n      async (data: any) => {\r\n        this.senddata.getselldgUserownedmp(this.globalID).subscribe(\r\n          (dataSell: any) => {\r\n            this.dragonsowned = JSON.parse(dataSell);\r\n            this.marketp2pdragonLength = this.dragonsowned.length;\r\n            // console.log(this.dragonsowned);\r\n          },\r\n          (error: any) => {}\r\n        );\r\n        loading.dismiss();\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    // console.log(ItemId);\r\n  }\r\n\r\n  checkonsale() {\r\n    this.senddata.getselldgUsermp(this.globalID).subscribe(\r\n      (dataSell: any) => {\r\n        this.dragons = JSON.parse(dataSell);\r\n        // console.log(this.dragons)\r\n      },\r\n      (error: any) => {}\r\n    );\r\n\r\n    this.senddata.getselldgUsermp(this.globalID).subscribe(\r\n      (dataSell: any) => {\r\n        this.eggsHigh = JSON.parse(dataSell);\r\n        // console.log(this.eggsHigh)\r\n      },\r\n      (error: any) => {}\r\n    );\r\n  }\r\n\r\n  openDialog(msg: string) {}\r\n\r\n  async alertWithdraw() {\r\n    const alert = await this.alertController.create({\r\n      header: \"Congratulation !\",\r\n      message: \"Now you can Withdraw.\",\r\n      buttons: [\"OK\"],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async withdraw() {\r\n    const alert = await this.alertController.create({\r\n      header: \"Success !\",\r\n      message: \"Thanks for withdraw.\",\r\n      buttons: [\"OK\"],\r\n    });\r\n    await alert.present();\r\n    this.percentRoyalty = 0;\r\n    this.valueRoyalty = 0;\r\n  }\r\n\r\n  delistDragon(marketp2pdragonDocId, marketp2pdragonID) {\r\n    this.fs\r\n    .collection(\"Sell/\" + this.globalID + \"/Dragons\")\r\n    .doc(marketp2pdragonDocId)\r\n    .delete()\r\n    .then(() => {\r\n      // this.current_data.price = this.input_price;\r\n      // this.current_data.owner = this.globalID;\r\n      this.move_to_item_test_dragon(marketp2pdragonDocId, marketp2pdragonID);\r\n      this.senddata\r\n        .selldragontoitemsmp(this.globalID, marketp2pdragonDocId)\r\n        .subscribe(\r\n          (dataE: any) => {\r\n            // console.log(dataE);\r\n          },\r\n          (error: any) => {}\r\n        );\r\n    });\r\n  }\r\n\r\n  delistEgg(marketp2peggDocId) {\r\n    this.fs\r\n    .collection(\"Sell/\" + this.globalID + \"/Eggs\")\r\n    .doc(marketp2peggDocId)\r\n    .delete()\r\n    .then(() => {\r\n      // this.current_data.price = this.input_price;\r\n      // this.current_data.owner = this.globalID;\r\n      this.move_to_item_test_egg(marketp2peggDocId);\r\n      this.senddata\r\n        .selleggtoitemsmp(this.globalID, marketp2peggDocId)\r\n        .subscribe(\r\n          (dataE: any) => {\r\n            // console.log(dataE);\r\n          },\r\n          (error: any) => {}\r\n        );\r\n    });\r\n  }\r\n\r\n  async move_to_item_test_dragon(marketp2pdragonDocId, marketp2pdragonID) {\r\n    this.fs\r\n      .collection(\"Items/\" + this.globalID + \"/Dragons\")\r\n      .doc(marketp2pdragonDocId)\r\n      .set({\r\n        Id: marketp2pdragonDocId,\r\n        ItemId: marketp2pdragonID,\r\n        Attributes: {\r\n          AttackPoint: Number(this.marketp2pdragonAttack),\r\n          DefensePoint: Number(this.marketp2pdragonDefense),\r\n          Exp: Number(this.marketp2pdragonExp),\r\n          HP: Number(this.marketp2pdragonHP),\r\n          Hunger: Number(this.marketp2pdragonHunger),\r\n          Level: Number(this.marketp2pdragonLevel),\r\n          MaxHP: Number(this.marketp2pdragonMaxHP),\r\n          MaxHunger: Number(this.marketp2pdragonMaxHunger)\r\n        },\r\n      })\r\n      .then(() => {\r\n        // console.log(\"Document successfully sold!\");\r\n        // this.openDialog(\"Item Listed\");\r\n      })\r\n      .catch((error: any) => {});\r\n      const alert = await this.alertController.create({\r\n      header: \"Success\",\r\n      message: \"Your item delisted from market\",\r\n      buttons: [\"OK\"],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async move_to_item_test_egg(marketp2peggDocId) {\r\n    this.fs\r\n      .collection(\"Items/\" + this.globalID + \"/Eggs\")\r\n      .doc(marketp2peggDocId)\r\n      .set({\r\n        Id: marketp2peggDocId,\r\n        ItemId: this.marketp2peggID,\r\n      })\r\n      .then(() => {\r\n        // console.log(\"Document successfully sold!\");\r\n        // this.openDialog(\"Item Listed\");\r\n      })\r\n      .catch((error: any) => {});\r\n      const alert = await this.alertController.create({\r\n      header: \"Success\",\r\n      message: \"Your item delisted from market\",\r\n      buttons: [\"OK\"],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  delistBattery(marketp2pbatteryDocId) {\r\n\r\n  }\r\n\r\n  newTime() {\r\n    //const current = new Date();\r\n    return Math.floor(Date.now() / 1000);\r\n  }\r\n\r\n  async airdropTokens(tokenContractAddress: string, airdropAmount: number, addresses: string[], web3: Web3) {\r\n    this.provider = await web3Modal.connect();\r\n    this.getcurrentoragon();\r\n    await this.getPaymentCount();\r\n    this.web3js = new Web3(this.provider); // create web3 instance\r\n    // console.log(this.web3js);\r\n    this.accounts = await this.web3js.eth.getAccounts(console.log);\r\n    const tokenContract = new this.web3js.eth.Contract(this.tokenABI, tokenContractAddress);\r\n    const gasPrice = await this.web3js.eth.getGasPrice();\r\n    const gasEstimate = await tokenContract.methods.airdropTokens(addresses, airdropAmount).estimateGas();\r\n    const tx = await tokenContract.methods.airdropTokens(addresses, airdropAmount).send({\r\n      from: \"0xa89Ae470d898E6B3ad31D44757A7947Da9D9A4Cd\",\r\n      gas: gasEstimate,\r\n      gasPrice\r\n    });\r\n    console.log('Transaction hash:', tx.transactionHash);\r\n  }\r\n\r\n  async getselljaketsUserownedqrcodemp(DocId) {\r\n    this.fs.collection(\"Items/\" + this.globalID + \"/Fashions\").doc(DocId).valueChanges().subscribe(async (datanewFashions:any) => {\r\n      console.log(\"datanewFashions\", datanewFashions);\r\n      this.detailJaket = datanewFashions;\r\n      this.qrcodeJaket = this.detailJaket.QrCodeUrl;\r\n      this.nameJaket = this.detailJaket.ItemId;\r\n      this.ClaimmedJaket = this.detailJaket.QrCodeData.Claimmed;\r\n      console.log(this.ClaimmedJaket);\r\n    });\r\n    // this.senddata.getselljaketsUserownedqrcodemp(DocId).subscribe(\r\n    //   (dataSell: any) => {\r\n    //     this.detailJaket = JSON.parse(dataSell);\r\n    //     this.qrcodeJaket = this.detailJaket.qrcode;\r\n    //     this.nameJaket = this.detailJaket.name;\r\n    //     this.ClaimmedJaket = this.detailJaket.Claimmed;\r\n    //     console.log(this.detailJaket)\r\n    //   },\r\n    //   (error: any) => {}\r\n    // );\r\n  }\r\n}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","ProfilePage","routes","path","component","ProfilePageRoutingModule","__decorate","imports","forChild","exports","CommonModule","FormsModule","IonicModule","SwiperModule","ProfilePageModule","declarations","Component","ViewChild","ViewEncapsulation","Router","AlertController","LoadingController","ToastController","IonInfiniteScroll","SwiperCore","Autoplay","Keyboard","Pagination","Scrollbar","Zoom","EffectFade","IonicSlides","use","SendData","Tx","require","Transaction","Subscription","HttpClient","DatePipe","AngularFirestore","firebase","AuthService","ProviderService","Web3","Web3Modal","WalletConnectProvider","providerOptions","walletconnect","package","options","network","infuraId","rpc","web3Modal","cacheProvider","_class","constructor","authService","router","loadingController","alertController","toastCtrl","fs","fs2","http","global","senddata","datepipe","_defineProperty","constant","inputs","name","type","outputs","subscription","setSwiperInstance","swiper","slides","logout","_this","_asyncToGenerator","window","location","replace","login","_this2","navigateByUrl","replaceUrl","p2pmarket","_this3","doInfinite","infiniteScroll","_this4","loading","create","present","setTimeout","i","dragons","push","dismiss","target","complete","toggleInfiniteScroll","disabled","doRefresh","event","ngOnInit","_this5","connect","setCurrentLocation","status_direct_buy","getcurrentoragon2","subscribe","data","current_oragon","price","currTen","toFixed","latesttenOragon","utils","fromWei","currOne","latestoneOragon","error","getcurrentbnb","current_bnb","price_BNB","getcurrentbusd","isLogin","localStorage","getItem","parse_localStorage","JSON","parse","undefined","wallets","WalletAddress","username","PlayerName","globalID","Uid","email","Email","stateHash","state_buy","balancePlayers","dataB","balanceORGNPlayers","result","balanceBNBPlayers","valueRoyalty","percentRoyalty","setItem","wd","alertWithdraw","balanceBUSDPlayers","checknotificationBid","checknewdragon","checknewegg","checknewfood","checknewbattery","checknewbattery12","insertNewBattery8mp","checknewpoint","getcountRolling","currentp2p","currentp2powned","sortp2pmarket","lastseen","sortfashion","getselljaketsUserownedmp","dataSell","jakets","fashionjaketsLength","length","getsellcommonjaketsownedmp","commonjakets","fashioncommonjaketsLength","getselldgUsermp","dragonsHigh","marketp2pdragonsellLength","getselleggUsermp","eggsHigh","marketp2peggsellLength","getselleggUserownedmp","marketp2peggLength","getsellbatteryUserallmp","batteriesHigh","marketp2pbatteryLength","collection","doc","DocId","set","Amount","Id","ItemId","then","getsellfoodUsermp","foodsHigh","marketp2pfoodLength","lengthFood","Used","getroyaltiesUsermp","royalties","amount","selectedBid","rangeValue","_this6","getNotificationBidmp","_ref","dataNotif","toast2","header","message","priceBid","icon","position","color","buttons","text","role","handler","readNotificationBidmp","idBid","_ref2","dataRead","_x2","apply","arguments","onDidDismiss","_x","valueChanges","datas","Count","test","count_roulette","used","navigator","geolocation","getCurrentPosition","latitude","coords","longitude","zoom","Latitude","Longtitude","js","stringify","get","res","ipAddress","ip","setkycuser","connectAccount","_this7","provider","getcurrentoragon","getPaymentCount","web3js","accounts","eth","getAccounts","console","log","wallet","tokenInst","Contract","tokenABI","balance1","methods","balanceOf","call","oragon_balance_display","oragon_balance","in_dollar","oragon_balance2","balance2","getBalance","bnb_balance","payment_count","fee","toString","kind","marketp2pdragonFee","marketp2pdragonprice","marketp2pdragonprice_actual","fee_display","price_display","marketp2peggFee","marketp2peggprice","marketp2peggprice_actual","marketp2pbatteryFee","marketp2pbatteryprice","marketp2pbatteryprice_actual","alert","close","addItemRoulette","uid","txhash","update","Detail","firestore","FieldValue","arrayUnion","CreatedAt","newTime","txHash","increment","openDialog","catch","LastUpdated","Gacha1","Gacha10","removeItem","in_oragon_100c","in_oragon_12c","clickcategory","getselldgmp","sortdragons","getselleggmp","sorteggs","getsellbatterymp","getsellfoodmp","clicksortp2pmarket","getlowsellhargamp","getatozsellhargamp","getlowselleggmp","getatozselleggmp","getdgbuydetail","checkkind","geteggbuydetail","checkkindEgg","getbatterybuydetail","checkkindBattery","getselldgidmp","dataDetail","dragonDetail","marketp2pdragonDocId","marketp2pdragonID","marketp2pdragonImg","marketp2pdragonAttack","Attack","marketp2pdragonDefense","Defense","marketp2pdragonLevel","Level","marketp2pdragonHP","HP","marketp2pdragonHunger","Hunger","marketp2pdragonMaxHP","MaxHP","marketp2pdragonMaxHunger","MaxHunger","marketp2pdragonRarity","Rarity","marketp2pdragonExp","Exp","marketp2pdragonowner","owner","marketp2pdragonpriceUSD","marketp2pdragonBG","imgbackground","marketp2pdragonImgBG","imgBg","marketp2pdragonfavorited","favorited","input_price","getdgroyaltymp","dataRoyalty","dr","Number","marketp2pdragonRoyalty","priceRoyalty_display","fee_royalty","marketp2pdragonRoyalty2","marketp2pdragonRoyalty3","marketp2pdragonRoyalty4","marketp2pdragonRoyalty5","positionRoyalty","getposroyaltymp","datapos","sortfoodsowned","marketp2pfoodOID","marketp2pfoodDate","EditAt","marketp2pfoodowner","marketp2pfoodpriceBNB","getselleggidmp","eggDetail","marketp2peggDocId","marketp2peggID","marketp2peggImg","marketp2peggowner","marketp2peggpriceUSD","getsellbatteryidmp","batteryDetail","marketp2pbatteryDocId","marketp2pbatteryID","marketp2pbatteryImg","marketp2pbatteryowner","marketp2pbatterypriceUSD","checkitemscreated","Dragon","Egg","Battery","Food","setdgbuycart","getstorecart","storecart","cartCount","cartUID","carts","cartID","id_cart","cartPrice","harga","cartQty","qty_cart","cartPriceBNB","cartImg","gambar","_this8","_ref3","datanewDragon","Attributes","insertNewDragonmp","AttackPoint","DefensePoint","resp","check","newest","updateNewDataDragonmp","respUpdate","getselldgUserownedmp","dragonsowned","marketp2pdragonLength","statusbayarbackground","getallbackgroundmp","dragonsownedbg","marketp2pdragonIdBG","_x3","_this9","_ref4","datanewEgg","sorteggsowned","insertNewEggmp","_x4","_this10","_ref5","datanewFood","insertNewFoodmp","_x5","_this11","_ref6","datanewBattery","sortbatteriesowned","insertNewBatterymp","_x6","_this12","_ref7","insertNewBattery12mp","_x7","_this13","_ref8","_x8","_this14","_ref9","datanewPoint","points","Point","getpointhistory","pointhistory","qtyPoint","insertNewPointmp","_x9","tab","_this15","_ref10","_x10","getsellbatterysellUsermp","gettrxhistory","trxhistory","sessionPointHistory","getpointhistoryall","pointhistoryall","onQRCodeScanned","scanned","clickcategoryowned","_this16","sortdragonsowned","_ref11","dataIncubator","usedEgg","EggItemId","usedBattery","BatteryItemId","IncubatorState","unix_timestamp","StartedAt","seconds","now","Date","latest_date","transform","addHours","numOfHours","date","setTime","getTime","HatchTime","timeIncubator","itemseggtoincubatormp","dataE","hatchingDataEgg","itemsbatterytoincubatormp","hatchingDataBattery","getsellbatteryUserownedmp","sortbatteriesownedIncubator","hatching","_x11","sortbatteriesownedLength","lengthBattery","_ref12","_x12","marketp2pfoodpriceUSD","countDownHatching","countdown","setInterval","clickcategoryfashion","_this17","countDownDate","distance","days","Math","floor","hours","minutes","setdgbuydetail","setdgbiddetail","seteggbuydetail","seteggbiddetail","setbatterybuydetail","setbatterybiddetail","setfoodbuydetail","setfoodbiddetail","onPriceChange","_this18","input_stock","onStockChange","_this19","myRange","demo","typeBid","sellNowDragon","_this20","crd","ObjectId","current_data","timeSell","delete","move_to_sell_test","itemsdragontosellmp","bidNowDragon","_this21","timeBID","move_to_auction_test","itemsdragontobidmp","_this22","_this23","PriceNow","sellNowEgg","_this24","move_to_sell_test_egg","itemseggtosellmp","bidNowEgg","_this25","diffInMs","diffInHours","ceil","move_to_auction_test_egg","itemseggtobidmp","createStopWatch","_this26","secondsServer","minutesServer","hoursServer","hmsBIDmp","_this27","_this28","sellNowBattery","_this29","move_to_sell_test_battery","itemsbatterytosellmp","bidNowBattery","_this30","move_to_auction_test_battery","itemsbatterytobidmp","_this31","_ref15","_x13","_this32","sellNowFood","qty","_this33","HVP","food","itemid1","FoodGroup","Qty","getsellfoodUserqtymp","getSell","setsellfoodUsermp","iditemsFood","dataSellFood","iditemssellFood","favorite_item","_this34","favoritedmp","_ref16","_x14","checkonsale","msg","_this35","withdraw","_this36","delistDragon","move_to_item_test_dragon","selldragontoitemsmp","delistEgg","move_to_item_test_egg","selleggtoitemsmp","_this37","_this38","delistBattery","airdropTokens","tokenContractAddress","airdropAmount","addresses","web3","_this39","tokenContract","gasPrice","getGasPrice","gasEstimate","estimateGas","tx","send","from","gas","transactionHash","getselljaketsUserownedqrcodemp","_this40","_ref17","datanewFashions","detailJaket","qrcodeJaket","QrCodeUrl","nameJaket","ClaimmedJaket","QrCodeData","Claimmed","_x15","args","selector","template","__NG_CLI_RESOURCE__0","encapsulation","None"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
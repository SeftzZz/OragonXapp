{"version":3,"file":"src_app_activation_activation_module_ts.js","mappings":"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","sources":["./src/app/activation/activation-routing.module.ts","./src/app/activation/activation.module.ts","./src/app/activation/activation.page.ts","./src/app/activation/activation.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ActivationPage } from './activation.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ActivationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ActivationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ActivationPageRoutingModule } from './activation-routing.module';\n\nimport { ActivationPage } from './activation.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ActivationPageRoutingModule\n  ],\n  declarations: [ActivationPage]\n})\nexport class ActivationPageModule {}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport { AlertController, LoadingController, ToastController } from '@ionic/angular';\nimport { environment } from \"../../environments/environment\";\n\nimport { SendData } from '../send-data';\nimport { HttpClient } from '@angular/common/http';\n\n// AngularFire\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport firebase from 'firebase/compat/app';\n// AngularFire\nimport {\n  Auth,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  sendPasswordResetEmail,\n  signOut\n} from '@angular/fire/auth';\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\nimport { onBackgroundMessage } from \"firebase/messaging/sw\";\n\n// Services\nimport { AuthService } from '../services/auth.service';\nimport { ProviderService } from '../provider.service';\n\n@Component({\n  selector: 'app-activation',\n  templateUrl: './activation.page.html',\n  styleUrls: ['./activation.page.scss'],\n})\nexport class ActivationPage implements OnInit {\n\n  email : string = \"\";\n  password : string = \"\";\n  result : any = {};\n  username : string = \"\";\n  wallet_address : string = \"\";\n  uid : any;\n  id : any;\n  sub : any;\n  activation : any;\n\n  constructor(\n    private authService: AuthService,\n    private routes : ActivatedRoute,\n    private loadingController: LoadingController,\n    private alertController: AlertController,\n    private toastCtrl: ToastController,\n    private fs: AngularFirestore,\n    private http: HttpClient,\n    public global : ProviderService,\n    public senddata : SendData,\n    private auth: Auth\n  ) { }\n\n  async ngOnInit() {\n    let kodeaktifasi = this.routes.snapshot.paramMap.get('kodeaktifasi');\n    if(kodeaktifasi) {\n      const loading = await this.loadingController.create();\n      await loading.present();\n      this.senddata.activationmp(kodeaktifasi).subscribe(async(data:any) => {\n        this.result = JSON.parse(data)\n        console.log(this.result[0])\n        if(!this.result[0].email) {\n          console.log('Email tidak tersedia atau Sudah Teraktifasi');\n        } else {\n          try {\n            const user = await createUserWithEmailAndPassword(this.auth, this.result[0].email, this.result.pwdecode)\n            this.senddata.insertNoUidmp(user.user.uid, this.result[0].email).subscribe((data:any) => {\n              console.log(\"uid\", data);\n            });\n            this.fs.collection('Players').doc(user.user.uid).set({CreatedAt: this.newTime(),ProfileData:JSON.stringify({CreatedAt: this.newTime(),Email: this.result[0].email, WalletAddress: this.result[0].wallet_address, PlayerName: this.result[0].username})});\n            this.fs.collection('Items').doc(user.user.uid).set({CreatedAt: this.newTime()});\n            var DocIdEggs = this.newTime() - 100;\n            var DocIdBatteries24 = this.newTime() - 100;\n            var DocIdBatteries12 = this.newTime() - 100;\n            var DocIdBatteries8 = this.newTime() - 100;\n            var DocIdFoods = this.newTime() - 100;\n            this.activation = true;\n            console.log(user.user.uid);\n            loading.dismiss();\n            return user;\n          } catch (e) {\n            this.activation = 'exists';\n            console.log(e);\n            loading.dismiss();\n          }\n        }\n      },(error:any) => {})\n    } else {\n      console.log('kodeaktifasi parameter Not Found');\n    }\n  }\n\n  newTime(){\n    //const current = new Date();\n    return Math.floor(Date.now()/1000);\n  }\n\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","ActivationPage","routes","path","component","ActivationPageRoutingModule","__decorate","imports","forChild","exports","CommonModule","FormsModule","IonicModule","ActivationPageModule","declarations","Component","ActivatedRoute","AlertController","LoadingController","ToastController","SendData","HttpClient","AngularFirestore","Auth","createUserWithEmailAndPassword","AuthService","ProviderService","_class","constructor","authService","loadingController","alertController","toastCtrl","fs","http","global","senddata","auth","_defineProperty","ngOnInit","_this","_asyncToGenerator","kodeaktifasi","snapshot","paramMap","get","loading","create","present","activationmp","subscribe","_ref","data","result","JSON","parse","console","log","email","user","pwdecode","insertNoUidmp","uid","collection","doc","set","CreatedAt","newTime","ProfileData","stringify","Email","WalletAddress","wallet_address","PlayerName","username","DocIdEggs","DocIdBatteries24","DocIdBatteries12","DocIdBatteries8","DocIdFoods","activation","dismiss","e","_x","apply","arguments","error","Math","floor","Date","now","selector","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}